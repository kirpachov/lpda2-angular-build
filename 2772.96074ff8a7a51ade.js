"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[2772],{5948:(R,E,e)=>{e.r(E),e.d(E,{ListPreferencesComponent:()=>y});var t=e(4496),T=e(6772);let P=(()=>{class d extends T.A{constructor(){super("/admin/preferences")}search(o={}){return this.http.get("/")}show(o){return this.http.get(`/${o}`)}value(o){return this.http.get(`/${o}/value`)}update(o,_){return this.http.patch(`/${o}`,{value:_})}static#t=this.\u0275fac=function(_){return new(_||d)};static#e=this.\u0275prov=t.wxM({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();var i=e(3480),l=e(8824),n=e(3616),p=e(4388),a=e(8256),v=e(8392),g=e(6800),C=e(6648),m=e(6052),f=e(6504),h=e(1292),s=e(7364),S=e(5193),r=e(7728),u=e(4476);function D(d,N){1&d&&(t.SAx(0),t.aS0(1,11),t.k70())}function I(d,N){1&d&&(t.OEk(0),t.wVc(1,"language")),2&d&&t.cNF(t.kDX(1,1,N.$implicit))}let y=(()=>{class d{constructor(){this.service=(0,t.uUt)(P),this.destroy$=(0,t.uUt)(i.UF),this.notifications=(0,t.uUt)(p.E),this._=(0,t.uUt)(u.OY).setTitle("Preferenze | La porta d'acqua"),this.inputSize="l",this.languagePipe=(0,t.uUt)(s.e),this.allLanguages=Object.keys(h.S),this.form=new f.WC({known_languages:new f.Ku([])}),this.saving=(0,t.OCB)(!1),this.searching=(0,t.OCB)(!1),this.loading=(0,t.S6b)(()=>this.saving()||this.searching())}ngOnInit(){this.reload()}save(o,_){this.saving.set(!0),Array.isArray(_)&&(_=_.join(",")),this.service.update(o,_).pipe((0,l.U)(()=>this.saving.set(!1)),(0,l.U)(()=>this.reload())).subscribe({error:c=>{this.notifications.error((0,a.mk)(c)||v.a)}})}applyPipeFunction(o){return o.transform}reload(){this.searching.set(!0),this.service.search().pipe((0,n.a)(this.destroy$),(0,l.U)(()=>this.searching.set(!1))).subscribe({next:o=>{this.updateFormByData(o.items)},error:o=>{this.notifications.error((0,a.mk)(o)||v.a)}})}updateFormByData(o){const _={};["known_languages"].forEach(c=>{const M=o.find(O=>O.key===c);M&&Array.isArray(M.value)?_[c]=M.value:M&&"string"==typeof M.value?_[c]=M.value.split(","):M?console.warn(`Preference ${c} not found or invalid`,M.value):console.warn(`Preference ${c} not found`)}),this.form.patchValue(_)}static#t=this.\u0275fac=function(_){return new(_||d)};static#e=this.\u0275cmp=t.In1({type:d,selectors:[["app-list-preferences"]],standalone:!0,features:[t.M5G([i.UF,s.e]),t.UHJ],decls:23,vars:6,consts:()=>{let o,_,c,M;return o="Preferenze personali",_="Queste impostazioni verranno applicate solo al tuo account.",c="Seleziona molte lingue",M="Nessun elemento",[["noItems",""],o,[1,"text-slate-400","mb-3"],_,[3,"formGroup"],[1,"mb-4"],[1,"text-lg","font-bold"],[1,"text-slate-400"],["knownLanguagesItemContent",""],[3,"formControlName","items","itemContent","stringifyFn","inputSize","submit"],c,M]},template:function(_,c){if(1&_&&(t.yuY(0,D,2,0,"ng-template",null,0,t.gJz),t.I0R(2,"h1"),t.aS0(3,1),t.C$Y(),t.I0R(4,"p",2),t.aS0(5,3),t.C$Y(),t.I0R(6,"form",4)(7,"div",5)(8,"p",6),t.OEk(9,"Lingua preferita"),t.C$Y(),t.I0R(10,"p",7),t.OEk(11,"Seleziona la lingua che preferisci utilizzare."),t.C$Y(),t.wR5(12,"app-admin-language-switcher"),t.C$Y(),t.I0R(13,"div",5)(14,"p",6),t.OEk(15,"Lingue conosciute"),t.C$Y(),t.I0R(16,"p",7),t.OEk(17,"Quali lingue conosci? Questa informazione ci serve per capire quali lingue mostrarti quando crei o modifichi elementi con nomi in diverse lingue."),t.C$Y(),t.yuY(18,I,2,3,"ng-template",null,8,t.gJz),t.I0R(20,"app-preferences-multiple-select",9),t.qCj("submit",function(O){return c.save("known_languages",O)}),t.SAx(21),t.aS0(22,10),t.k70(),t.C$Y()()()),2&_){const M=t.Gew(19);t.yG2(6),t.E7m("formGroup",c.form),t.yG2(14),t.E7m("formControlName","known_languages")("items",c.allLanguages)("itemContent",M)("stringifyFn",c.applyPipeFunction(c.languagePipe))("inputSize",c.inputSize)}},dependencies:[g.y,C.BZ,f.sl,f.sz,f.ue,f.u,f.uW,f.Wo,m.q8,s.e,S.ms,r.M],encapsulation:2,changeDetection:0})}return d})()},8392:(R,E,e)=>{e.d(E,{a:()=>t});const t="Qualcosa \xE8 andato storto."},168:(R,E,e)=>{e.d(E,{C:()=>P,O:()=>T});var t=e(4496);let T=(()=>{class i{constructor(){this.focusable=!0}get tabIndex(){return this.focusable?0:-1}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275dir=t.Sc5({type:i,selectors:[["","tuiFocusable",""]],hostVars:1,hostBindings:function(n,p){2&n&&t.SoX("tabIndex",p.tabIndex)},inputs:{focusable:[t.Wk5.None,"tuiFocusable","focusable"]}}),i})(),P=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.a4G({type:i}),i.\u0275inj=t.s3X({}),i})()},4436:(R,E,e)=>{e.d(E,{a:()=>h,i:()=>f});var t=e(4496),T=e(3480),P=e(4680),i=e(5656),l=e(3972),n=e(5944),p=e(3616),a=e(3656),v=e(4108),g=e(1040),C=e(1368);function m(s,S){1&s&&t.wR5(0,"tui-svg",3),2&s&&t.E7m("src",S.polymorpheusOutlet)}let f=(()=>{class s extends i.cb{constructor(r,u,D,I){super(D),this.isMobile=I,this.mode=null,this.describeId="",u.pipe((0,p.a)(r)).subscribe(y=>{this.mode=y})}get computedAppearance(){return this.appearance||this.mode||""}stopOnMobile(r){var u;this.isMobile&&(r.preventDefault(),r.stopPropagation()),null===(u=this.driver$)||void 0===u||u.toggle()}}return s.\u0275fac=function(r){return new(r||s)(t.GI1(T.UF,2),t.GI1(n.Yx),t.GI1(i.Oi),t.GI1(P.Mv))},s.\u0275cmp=t.In1({type:s,selectors:[["tui-tooltip"]],viewQuery:function(r,u){if(1&r&&t.CC$(i.i6,5),2&r){let D;t.wto(D=t.Gqi())&&(u.driver$=D.first)}},hostVars:1,hostBindings:function(r,u){1&r&&t.qCj("mousedown",function(I){return u.stopOnMobile(I)}),2&r&&t.e48("data-appearance",u.computedAppearance)},inputs:{content:"content",direction:"direction",appearance:"appearance",showDelay:"showDelay",hideDelay:"hideDelay",describeId:"describeId",context:"context"},features:[t.M5G([T.UF,l.Ir]),t.eg9],decls:4,vars:11,consts:[["appearance","icon","automation-id","tui-tooltip__icon","tuiWrapper","",1,"t-tooltip-icon",3,"hover","tuiHint","tuiHintAppearance","tuiHintContext","tuiHintDescribe","tuiHintDirection","tuiHintHideDelay","tuiHintShowDelay"],["driver","tuiHintHover"],[3,"src",4,"polymorpheusOutlet"],[3,"src"]],template:function(r,u){if(1&r&&(t.I0R(0,"span",0,1),t.wVc(2,"async"),t.yuY(3,m,1,1,"tui-svg",2),t.C$Y()),2&r){const D=t.Gew(1);t.E7m("hover",t.kDX(2,9,D)||null)("tuiHint",u.content)("tuiHintAppearance",u.computedAppearance)("tuiHintContext",u.context)("tuiHintDescribe",u.describeId)("tuiHintDirection",u.direction)("tuiHintHideDelay",u.hideDelay)("tuiHintShowDelay",u.showDelay),t.yG2(3),t.E7m("polymorpheusOutlet",u.icon)}},dependencies:[a.Wu,v.S,i.lh,i.SL,i.i6,i.IT,i.KM,g.Af,C.a],styles:['[_nghost-%COMP%]{transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;display:inline-block;width:1.5rem;height:1.5rem;vertical-align:middle;font-size:0;line-height:0;pointer-events:auto;cursor:pointer;color:var(--tui-text-01)}[data-appearance=error][_nghost-%COMP%]{color:var(--tui-error-fill)}.t-tooltip-icon[_ngcontent-%COMP%]{display:inline-block;width:100%;height:100%;color:inherit}[tuiWrapper][data-appearance="textfield"][data-state="disabled"][_nghost-%COMP%]   .t-tooltip-icon[_ngcontent-%COMP%], [tuiWrapper][data-appearance="textfield"][data-state="disabled"]   [_nghost-%COMP%]   .t-tooltip-icon[_ngcontent-%COMP%]{opacity:1}'],changeDetection:0}),s})(),h=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=t.a4G({type:s}),s.\u0275inj=t.s3X({imports:[[C.MD,v.g,a.Yt,i.WY,g.Ux]]}),s})()},4736:(R,E,e)=>{e.d(E,{M:()=>i,O:()=>l});var t=e(4496),T=e(5944),P=e(4704);let i=(()=>{class n{constructor(a){this.months$=a}transform({month:a}){return this.months$.pipe((0,P.k)(v=>v[a]))}}return n.\u0275fac=function(a){return new(a||n)(t.GI1(T.GU,16))},n.\u0275pipe=t.UTH({name:"tuiMonth",type:n,pure:!0}),n})(),l=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.a4G({type:n}),n.\u0275inj=t.s3X({}),n})()},7020:(R,E,e)=>{e.d(E,{q:()=>p});var t=e(4496),T=e(1800),P=e(3480),i=e(5944),l=e(4336),n=e(3012);let p=(()=>{class a{constructor(g,C,m,f,h){this.host=g,this.control=C,this.el=m,this.idService=f,this.itemsHandlers=h,this.disabledItemHandler=null,this.datalist=null}get id(){return this.el.nativeElement.id||this.idService.generate()}}return a.\u0275fac=function(g){return new(g||a)(t.GI1(i.Mn),t.GI1(T._y),t.GI1(t.GMv),t.GI1(P.y2),t.GI1(n.qc))},a.\u0275dir=t.Sc5({type:a,viewQuery:function(g,C){if(1&g&&t.CC$(l.Ux,7,t.Yw2),2&g){let m;t.wto(m=t.Gqi())&&(C.datalist=m.first)}},hostVars:1,hostBindings:function(g,C){2&g&&t.SoX("id",C.id)},inputs:{disabledItemHandler:"disabledItemHandler"}}),a})()},9612:(R,E,e)=>{e.d(E,{W:()=>P});var t=e(4496);let P=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.a4G({type:i}),i.\u0275inj=t.s3X({}),i})()},796:(R,E,e)=>{e.d(E,{YL:()=>C,g3:()=>m}),e(4736);var T=e(5193),P=e(5944),n=(e(3012),e(2700),e(528)),a=(e(4704),e(4496)),v=e(6504);const C=(0,T.Sk)({limitWidth:"fixed",align:"right"}),m={provide:P.Y9,deps:[[new a.T7N,new a.Yiy,v.Y6]],useFactory:n.Z}}}]);