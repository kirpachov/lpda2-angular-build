"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[3632],{9956:(v,C,n)=>{n.d(C,{g:()=>D});var l=n(1368),a=n(4496),e=n(9938),T=n(2528),s=n(7308),i=n(7012),u=n(3972),t=n(5944),o=n(1040);function _(r,g){if(1&r&&(a.SAx(0),a.OEk(1),a.k70()),2&r){const d=g.polymorpheusOutlet;a.yG2(),a.oRS(" ",d," ")}}const f=()=>({});function A(r,g){if(1&r&&(a.I0R(0,"div",1),a.wVc(1,"async"),a.yuY(2,_,2,1,"ng-container",2),a.wVc(3,"async"),a.C$Y()),2&r){const d=a.GaO();a.eAK("t-message-text_light","onDark"===a.kDX(1,6,d.mode$)),a.E7m("@tuiFadeIn",d.animation)("@tuiHeightCollapse",d.animation),a.yG2(2),a.E7m("polymorpheusOutlet",d.error.message||a.kDX(3,8,d.defaultErrorMessage$))("polymorpheusOutletContext",d.error.context||a.q4q(10,f))}}let E=(()=>{class r{constructor(d,h,N){this.animation=d,this.mode$=h,this.defaultErrorMessage$=N,this.error=null,this.visible=!0}set errorSetter(d){this.error=(0,T.gT)(d)?new s.E(d):d}onAnimation(d){this.visible=d}}return r.\u0275fac=function(d){return new(d||r)(a.GI1(t.kp),a.GI1(t.Yx),a.GI1(t.cX))},r.\u0275cmp=a.In1({type:r,selectors:[["tui-error"]],hostBindings:function(d,h){1&d&&a.qCj("animationcancel.self",function(){return h.onAnimation(!1)})("animationstart.self",function(){return h.onAnimation(!0)})},inputs:{errorSetter:[a.Wk5.None,"error","errorSetter"]},features:[a.M5G([u.Ir])],decls:1,vars:1,consts:[["automation-id","tui-error__text","class","t-message-text",3,"t-message-text_light",4,"ngIf"],["automation-id","tui-error__text",1,"t-message-text"],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(d,h){1&d&&a.yuY(0,A,4,11,"div",0),2&d&&a.E7m("ngIf",h.error&&h.visible)},dependencies:[l.u_,o.Af,l.a],styles:["[_nghost-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-01);display:block;color:var(--tui-negative);word-wrap:break-word;animation:tuiPresent 1s infinite}.t-message-text[_ngcontent-%COMP%]{margin-top:.25rem;white-space:pre-line}.t-message-text_light[_ngcontent-%COMP%]{color:var(--tui-negative-night)}"],data:{animation:[i.iY,i.K2]},changeDetection:0}),r})(),R=(()=>{class r{}return r.\u0275fac=function(d){return new(d||r)},r.\u0275mod=a.a4G({type:r}),r.\u0275inj=a.s3X({imports:[[l.MD,o.Ux]]}),r})();function P(r,g){1&r&&a.wR5(0,"tui-error",0),2&r&&a.E7m("error",g.$implicit)}function $(r,g){1&r&&a.C_f(0)}function m(r,g){1&r&&a.yuY(0,$,1,0,"ng-container",1),2&r&&a.E7m("ngTemplateOutlet",g.$implicit)}let D=(()=>{class r{constructor(){this._errors=null}get errors(){return this._errors}set errors(d){this._errors=d}allErrors(){return this.errors||null}errorsToTemplates(){return e.y.formatErrors(this.errors||null).filter(d=>d&&d instanceof a.Yw2)}errorsToStr(){return e.y.formatErrors(this.errors||null).filter(d=>d&&"string"==typeof d)}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275cmp=a.In1({type:r,selectors:[["app-errors"]],inputs:{errors:"errors"},standalone:!0,features:[a.UHJ],decls:4,vars:0,consts:[[3,"error"],[4,"ngTemplateOutlet"]],template:function(h,N){1&h&&(a.c53(0,P,1,1,"tui-error",0,a.oxv),a.c53(2,m,1,1,"ng-container",null,a.oxv)),2&h&&(a.oho(N.errorsToStr()),a.yG2(2),a.oho(N.errorsToTemplates()))},dependencies:[l.MD,l.XV,R,E]})}return r})()},3632:(v,C,n)=>{n.r(C),n.d(C,{DuplicateDishModule:()=>q});var l=n(2100),a=n(7552),e=n(4496),T=n(3480),s=n(1712),i=n(4388),u=n(5820),t=n(6504),o=n(9852),_=n(3616),f=n(4704),A=n(6684),E=n(9212),R=n(8824),P=n(8256),$=n(8392),m=n(9938),D=n(9956),r=n(8212),g=n(8976),d=n(9880),h=n(1512),N=n(7692),H=n(5704),L=n(2204),U=n(9088),K=n(8676),j=n(6524),V=n(1368);function Q(O,x){if(1&O&&(e.I0R(0,"div",6)(1,"p",18),e.aS0(2,19),e.C$Y(),e.I0R(3,"div",20)(4,"tui-radio-block",21),e.SAx(5),e.aS0(6,22),e.k70(),e.C$Y(),e.I0R(7,"tui-radio-block",23),e.SAx(8),e.aS0(9,24),e.k70(),e.C$Y(),e.I0R(10,"tui-radio-block",25),e.OEk(11," No "),e.C$Y()(),e.wR5(12,"app-errors",10),e.C$Y(),e.I0R(13,"div",6)(14,"p",18),e.aS0(15,26),e.C$Y(),e.I0R(16,"div",20)(17,"tui-radio-block",27),e.SAx(18),e.aS0(19,28),e.k70(),e.C$Y(),e.I0R(20,"tui-radio-block",29),e.OEk(21," No "),e.C$Y()(),e.wR5(22,"app-errors",10),e.C$Y(),e.I0R(23,"div",6)(24,"p",18),e.aS0(25,30),e.C$Y(),e.I0R(26,"div",20)(27,"tui-radio-block",31),e.SAx(28),e.aS0(29,32),e.k70(),e.C$Y(),e.I0R(30,"tui-radio-block",33),e.OEk(31," No "),e.C$Y()(),e.wR5(32,"app-errors",10),e.C$Y(),e.I0R(33,"div",6)(34,"p",18),e.aS0(35,34),e.C$Y(),e.I0R(36,"div",20)(37,"tui-radio-block",35),e.SAx(38),e.aS0(39,36),e.k70(),e.C$Y(),e.I0R(40,"tui-radio-block",37),e.OEk(41," No "),e.C$Y()(),e.wR5(42,"app-errors",10),e.C$Y()),2&O){const c=e.GaO();e.yG2(3),e.E7m("collapsed",!0),e.yG2(),e.E7m("hideRadio",!0),e.yG2(3),e.E7m("hideRadio",!0),e.yG2(3),e.E7m("hideRadio",!0),e.yG2(2),e.E7m("errors",c.e("copy_images")),e.yG2(4),e.E7m("collapsed",!0),e.yG2(),e.E7m("hideRadio",!0),e.yG2(3),e.E7m("hideRadio",!0),e.yG2(2),e.E7m("errors",c.e("copy_ingredients")),e.yG2(4),e.E7m("collapsed",!0),e.yG2(),e.E7m("hideRadio",!0),e.yG2(3),e.E7m("hideRadio",!0),e.yG2(2),e.E7m("errors",c.e("copy_tags")),e.yG2(4),e.E7m("collapsed",!0),e.yG2(),e.E7m("hideRadio",!0),e.yG2(3),e.E7m("hideRadio",!0),e.yG2(2),e.E7m("errors",c.e("copy_allergens"))}}const J=(O,x)=>({categoryId:O,itemId:x});let Z=(()=>{class O{constructor(){this.destroy$=(0,e.uUt)(T.UF),this.router=(0,e.uUt)(l.E5),this.route=(0,e.uUt)(l.gV),this.service=(0,e.uUt)(s.S),this.dishesService=(0,e.uUt)(K.k),this.notifications=(0,e.uUt)(i.E),this.urlTo=(0,e.uUt)(U.S),this.submitted=!1,this.category=(0,e.OCB)(null),this.dish=(0,e.OCB)(null),this.form=new t.WC({category:new t.Ku(null,[t.AQ.required,o.S.instanceof(u.Q)]),copy_images:new t.Ku("full",[t.AQ.required,o.S.in(["full","link","none"])]),copy_ingredients:new t.Ku("link",[t.AQ.required,o.S.in(["link","none"])]),copy_tags:new t.Ku("link",[t.AQ.required,o.S.in(["link","none"])]),copy_allergens:new t.Ku("link",[t.AQ.required,o.S.in(["link","none"])])}),this.loadingCategory=(0,e.OCB)(!1),this.loadingDish=(0,e.OCB)(!1),this.saving=(0,e.OCB)(!1),this.loading=(0,e.S6b)(()=>this.saving()||this.loadingDish()||this.loadingCategory()),this.e=this.getErrorsFor}ngOnInit(){this.route.parent?.parent?.params.pipe((0,_.a)(this.destroy$),(0,f.k)(c=>Number(c.category_id)),(0,A.I)(c=>"number"==typeof c&&!isNaN(c)&&c>0)).subscribe({next:c=>this.loadCategory(c)}),this.route.params.pipe((0,_.a)(this.destroy$),(0,E.y)(c=>{console.log("myparams",c)}),(0,f.k)(c=>Number(c.dish_id)),(0,A.I)(c=>"number"==typeof c&&!isNaN(c)&&c>0)).subscribe({next:c=>this.loadDish(c)})}submit(){if(this.submitted=!0,this.form.invalid)return;const c=this.dish()?.id,p=this.formValue(),S=p.category_id;if(!c||!S)throw new Error(`some invalid id: dishId=${c}; categoryId=${S}`);this.saving.set(!0),this.dishesService.copy(c,p).pipe((0,_.a)(this.destroy$),(0,R.U)(()=>this.saving.set(!1))).subscribe({next:I=>{this.notifications.fireSnackBar("Duplicato.");const y=this.urlTo.transform({itemId:I.id,categoryId:S},"dish.show");y?this.router.navigateByUrl(y):(console.error("no url for dish",I,S),this.navigateBack())},error:I=>{this.manageError(I)}})}cancel(){(this.form.touched||this.form.dirty)&&!confirm("Sei sicuro di voler annullare le modifiche fatte?")||(this.notifications.fireSnackBar("Operazione annullata"),this.navigateBack())}formValue(){return{copy_tags:this.form.value.copy_tags,copy_images:this.form.value.copy_images,copy_ingredients:this.form.value.copy_ingredients,copy_allergens:this.form.value.copy_allergens,category_id:this.form.value.category?.id}}navigateBack(){this.router.navigate([".."],{relativeTo:this.route})}manageError(c){422==c.status?m.y.assignErrorsToForm(this.form,c):this.notifications.error((0,P.mk)(c)||$.a)}getErrorsFor(c){const p=this.form.get(c);return p&&(this.submitted||p.touched||p.dirty)?p.errors:null}loadCategory(c){c&&(this.loadingCategory.set(!0),this.service.show(c).pipe((0,_.a)(this.destroy$),(0,R.U)(()=>this.loadingCategory.set(!1))).subscribe({next:p=>{this.category.set(p),!this.form.touched&&!this.form.dirty&&this.form.patchValue({category:p})},error:p=>{this.notifications.error((0,P.mk)(p)||$.a)}}))}loadDish(c){c&&(this.loadingDish.set(!0),this.dishesService.show(c).pipe((0,_.a)(this.destroy$),(0,R.U)(()=>this.loadingDish.set(!1))).subscribe({next:p=>this.dish.set(p),error:p=>{this.notifications.error((0,P.mk)(p)||$.a)}}))}static#e=this.\u0275fac=function(p){return new(p||O)};static#t=this.\u0275cmp=e.In1({type:O,selectors:[["app-duplicate-dish"]],standalone:!0,features:[e.M5G([T.UF,U.S]),e.UHJ],decls:30,vars:18,consts:()=>{let c,p,S,I,y,G,B,z,k,F,X,b,Y,w,W;return c="Copia piatto",p="Associa il nuovo piatto alla categoria",S="Seleziona una categoria",I="Dettagli",y="Conferma",G="Annulla",B="Copiare immagini?",z="Copia",k="Associa esistenti",F="Copiare ingredienti?",X="Associa esistenti",b="Copiare tag?",Y="Associa esistenti",w="Copiare allergeni?",W="Associa esistenti",[["size","l",3,"showLoader","overlay"],[1,"flex","items-center"],c,[1,"ml-2"],["tuiLink","",3,"routerLink"],[3,"formGroup","ngSubmit"],[1,"mb-3"],p,[3,"formControlName"],S,[3,"errors"],I,["tuiAccordionItemContent",""],[3,"innerText"],["type","submit","size","l","tuiButton","",1,"me-2",3,"appearance"],y,["type","button","size","l","tuiButton","",1,"me-2",3,"appearance","click"],G,[1,"mb-1"],B,["tuiGroup","",1,"group",3,"collapsed"],["contentAlign","right","formControlName","copy_images","item","full","size","l",3,"hideRadio"],z,["contentAlign","right","formControlName","copy_images","item","link","size","l",3,"hideRadio"],k,["contentAlign","right","formControlName","copy_images","item","none","size","l",3,"hideRadio"],F,["contentAlign","right","formControlName","copy_ingredients","item","link","size","l",3,"hideRadio"],X,["contentAlign","right","formControlName","copy_ingredients","item","none","size","l",3,"hideRadio"],b,["contentAlign","right","formControlName","copy_tags","item","link","size","l",3,"hideRadio"],Y,["contentAlign","right","formControlName","copy_tags","item","none","size","l",3,"hideRadio"],w,["contentAlign","right","formControlName","copy_allergens","item","link","size","l",3,"hideRadio"],W,["contentAlign","right","formControlName","copy_allergens","item","none","size","l",3,"hideRadio"]]},template:function(p,S){if(1&p&&(e.I0R(0,"tui-loader",0)(1,"div",1)(2,"h1"),e.aS0(3,2),e.C$Y(),e.I0R(4,"span",3)(5,"a",4),e.wVc(6,"urlTo"),e.OEk(7),e.C$Y()()(),e.I0R(8,"form",5),e.qCj("ngSubmit",function(){return S.submit()}),e.I0R(9,"div",6)(10,"p"),e.aS0(11,7),e.C$Y(),e.I0R(12,"app-menu-category-select",8),e.SAx(13),e.aS0(14,9),e.k70(),e.C$Y(),e.wR5(15,"app-errors",10),e.C$Y(),e.I0R(16,"tui-accordion",6)(17,"tui-accordion-item"),e.SAx(18),e.aS0(19,11),e.k70(),e.yuY(20,Q,43,17,"ng-template",12),e.C$Y()(),e.wR5(21,"pre",13),e.wVc(22,"json"),e.I0R(23,"div",1)(24,"button",14),e.SAx(25),e.aS0(26,15),e.k70(),e.C$Y(),e.I0R(27,"button",16),e.qCj("click",function(){return S.cancel()}),e.SAx(28),e.aS0(29,17),e.k70(),e.C$Y()()()()),2&p){let I,y;e.E7m("showLoader",S.loading())("overlay",!0),e.yG2(5),e.E7m("routerLink",e.g7$(6,10,e.IBC(15,J,null==(I=S.category())?null:I.id,null==(I=S.dish())?null:I.id),"dish.show")),e.yG2(2),e.cNF(null==(y=S.dish())?null:y.name),e.yG2(),e.E7m("formGroup",S.form),e.yG2(4),e.E7m("formControlName","category"),e.yG2(3),e.E7m("errors",S.e("category")),e.yG2(6),e.E7m("innerText",e.kDX(22,13,S.formValue())),e.yG2(3),e.E7m("appearance","primary"),e.yG2(3),e.E7m("appearance","outline")}},dependencies:[D.g,r.CI,r.Kw,H.W,H.I,t.sl,t.sz,t.ue,t.u,t.uW,t.Wo,g.Gy,g.Ko,d.kh,l.ER,h.w,h.C,U.S,j.a,L.Ep,L.Ix,L._Q,L.Up,V.ED,N.Sk,N.Cb],changeDetection:0})}return O})(),q=(()=>{class O{static#e=this.\u0275fac=function(p){return new(p||O)};static#t=this.\u0275mod=e.a4G({type:O});static#n=this.\u0275inj=e.s3X({imports:[l.qQ.forChild([(0,a.VV)(Z,{path:"",closeable:!0,dismissible:!1,size:"l"})])]})}return O})()},9852:(v,C,n)=>{n.d(C,{S:()=>T});var l=n(6504);const a=s=>null!=s&&""!=`${s}`;class T extends l.AQ{static listOfEmails(i){const u=i.value;if(!u||"string"!=typeof u||!u.length)return null;const t=new RegExp("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$","i");return u.split(/\,|\s+/gm).map(o=>o.trim()).filter(o=>o.length).forEach(o=>{if(!t.test(o))return{listOfEmails:!0}}),null}static mustBeArray(i){return Array.isArray(i.value)?null:{mustBeArray:!0}}static arrayMinLength(i){return u=>Array.isArray(u.value)&&u.value.length<i?{arrayMinLength:{requiredLength:i,actualLength:u.value?.length??0}}:null}static validateArray(i){return u=>{if(!Array.isArray(u.value))return null;const t={};for(const o of u.value){const _=i(new l.yM(o));_&&Object.assign(t,_)}return Object.keys(t).length?t:null}}static percentage(i){return a(i.value)&&(isNaN(i.value)||i.value<0||i.value>100)?{percentage:!0}:null}static phoneIT(i){const u=o=>o?null:{phoneIT:!0},t=`${i.value}`.trim().replace(/\s+/gm,"").replace(/^\+39/gm,"");return a(t)?u(!((s=t).length<9||isNaN(Number(s))||s.length>14)):u(!0);var s}static instanceof(i){return u=>!a(u.value)||u.value instanceof i?null:{instanceof:!0}}static#e=this.instanceOf=this.instanceof;static numerical(i){return a(i.value)&&isNaN(i.value)?{numerical:!0}:null}static moreThan(i){return u=>u.value<=i?{moreThan:!0}:null}static in(i){return this.inclusion(i)}static inclusion(i){return u=>a(u.value)&&!i.includes(u.value)?{inclusion:!0}:null}}},9938:(v,C,n)=>{n.d(C,{y:()=>T});var l=n(6504);const a={required:"Questo campo non pu\xf2 essere vuoto!",email:"Questa email non \xe8 valida!",numbersOnly:"Solo numeri ammessi!",numberOnly:"Solo numeri ammessi!",numerical:"Solo numeri ammessi!",invalid_http_url:"Collegamento http non valido",minlength:s=>`Testo troppo corto: Lunghezza minima: ${s.requiredLength}, lunghezza attuale: ${s.actualLength}`,InvalidFormat:s=>`"${s.value}" non \xe8 un formato valido. Esempio valido: "${s.validExample}"`,pattern:s=>`"${s.actualValue}" non \xe8 un formato valido. Il formato deve rispettare la seguente espressione regolare (RegExp): "${s.requiredPattern}"`,max:s=>`Il valore inserito \xe8 troppo grande! Valore massimo: ${s.max}, valore attuale: ${s.actual}`,min:s=>`Il valore inserito \xe8 troppo piccolo! Valore minimo: ${s.min}, valore attuale: ${s.actual}`,maxlength:s=>`Il valore inserito \xe8 troppo lungo! Lunghezza massima: ${s.requiredLength}, Lunghezza attuale: ${s.actualLength}`,phoneIT:"Questo non sembra essere un numero di telefono italiano valido. Esempio: +39 123 456 7890",inclusion:s=>"Il valore inserito non \xe8 valido. "+(Array.isArray(s)?`I valori ammessi sono: ${s.join(", ")}.`:""),arrayMinLength:s=>`Devi inserire almeno ${s.requiredLength} elementi.`,passwordConfirmation:"Le password non coincidono!"},e={assignToFormUnlessControl:!0};class T{static formatErrors(i,u){return null==i||null==i?[]:new T(i,u).formatErrors()}static assignErrorsToForm(i,u,t={}){const o=u.error?.details;if(!o||!Array.isArray(o))return"object"==typeof o&&Object.keys(o).length>0?this.assignErrorsToFormFromJson(i,o,t):void console.warn("invalid errors provided to assignErrorsToForm",o);this.assignErrorsToFormFromArray(i,o,t)}static assignErrorsToFormFromJson(i,u,t={}){const o={...e,...t};Object.keys(u).forEach(_=>{const f=u[_];f&&Array.isArray(f)?f.forEach(A=>{const E=i.controls[_];E?E.setErrors({[A.attribute]:A.message}):o.assignToFormUnlessControl&&i.setErrors({[A.attribute]:A.message})}):console.warn("assignErrorsToFormFromJson expected an array of ActiveError, but got:",f)})}static assignErrorsToFormFromArray(i,u,t={}){const o={...e,...t};u.forEach(_=>{const f=i instanceof l.WC?i.controls[_.attribute]:i;f?f.setErrors({[_.attribute]:_.message}):o.assignToFormUnlessControl&&i.setErrors({[_.attribute]:_.message})})}constructor(i,u=a){this.defaultMessages=a,this.messages={},this.enableLogging=!1,this.errors=i,u?this.mergeMessages(u):this.assignDefaults()}assignDefaults(){this.messages={},Object.keys(this.defaultMessages).forEach(i=>{this.messages[i]=this.defaultMessages[i]})}mergeMessages(i){[...Object.keys(this.defaultMessages),...Object.keys(i)].forEach(t=>{this.messages[t]=i[t]?i[t]:this.defaultMessages[t]})}formatErrors(){return[...this.errorMsgFromControl()]}warn(...i){this.enableLogging&&console.warn(...i)}errorMsgFromControl(){if(null==this.errors||null==this.errors)return[];var i=[];return Object.keys(this.errors).filter(u=>{if("string"==typeof this.errors[u]&&this.errors[u].length>0)return i.push(this.errors[u]);if(this.messages.hasOwnProperty(u)&&this.messages[u]&&null!=this.messages[u]){const _=this.messages[u];switch(typeof _){case"string":default:i.push(_);break;case"function":i.push(_(this.errors[u]))}}else if(this.warn(`ReactiveFormsErrors missing error message of "${u}". Parser error with your custom logic.`),[!0,!1].includes(this.errors[u])){var o={};o[u]=this.errors[u],"string"!=typeof o&&(o=JSON.stringify(o)),i.push(o)}else i.push(this.errors[u])}),i}}},4824:(v,C,n)=>{n.d(C,{o:()=>e});var l=n(8400),a=n(2264);class e extends l.w{constructor(s){super(s),this.name=s.name,this.description=s.description,this.status=s.status,this.other=s.other,this.translations={...s.translations},s.image&&(this.image=new a.W(s.image))}}},5891:(v,C,n)=>{n.d(C,{S:()=>i});var l=n(8400),a=n(2264),e=n(355),T=n(4824),s=n(532);class i extends l.w{constructor(t){super(t),this.name=t.name,this.description=t.description,this.status=t.status,this.price=t.price,this.translations=t.translations,this.images=t.images?t.images.map(o=>new a.W(o)):[],this.suggestions=t.suggestions?t.suggestions.map(o=>new i(o)):[],this.tags=t.tags?t.tags.map(o=>new e.E(o)):[],this.allergens=t.allergens?t.allergens.map(o=>new T.o(o)):[],this.ingredients=t.ingredients?t.ingredients.map(o=>new s.e(o)):[]}}},532:(v,C,n)=>{n.d(C,{e:()=>e});var l=n(8400),a=n(2264);class e extends l.w{constructor(s){super(s),this.name=s.name,this.description=s.description,this.status=s.status,this.other=s.other,this.translations={...s.translations},s.image&&(this.image=new a.W(s.image))}}},355:(v,C,n)=>{n.d(C,{E:()=>e});var l=n(8400),a=n(2264);class e extends l.w{constructor(s){super(s),this.name=s.name,this.description=s.description,this.status=s.status,this.other=s.other,this.translations={...s.translations},this.color=s.color,s.image&&(this.image=new a.W(s.image))}}},8676:(v,C,n)=>{n.d(C,{k:()=>s});var l=n(6012),a=n(5891),e=n(4704),T=n(4496);let s=(()=>{class i extends l.s{constructor(){super(a.S,"admin/menu/dishes")}copy(t,o){return this.post(`${t}/copy`,o).pipe((0,e.k)(_=>this.mapItem(_)))}move(t,o){return this.patch(`${t}/move`,o).pipe((0,e.k)(_=>this.mapItem(_)))}moveIngredient(t,o,_){return this.patch(`${t}/ingredients/${o}/move`,{to_index:_}).pipe((0,e.k)(f=>this.mapItem(f)))}moveTag(t,o,_){return this.patch(`${t}/tags/${o}/move`,{to_index:_}).pipe((0,e.k)(f=>this.mapItem(f)))}moveAllergen(t,o,_){return this.patch(`${t}/allergens/${o}/move`,{to_index:_}).pipe((0,e.k)(f=>this.mapItem(f)))}updateStatus(t,o){return this.patch(`${t}/status/${o}`,{}).pipe((0,e.k)(_=>this.mapItem(_)))}addIngredient(t,o){return this.post(`${t}/ingredients/${o}`,{}).pipe((0,e.k)(_=>this.mapItem(_)))}removeIngredient(t,o){return this.delete(`${t}/ingredients/${o}`).pipe((0,e.k)(_=>this.mapItem(_)))}addTag(t,o){return this.post(`${t}/tags/${o}`,{}).pipe((0,e.k)(_=>this.mapItem(_)))}removeTag(t,o){return this.delete(`${t}/tags/${o}`).pipe((0,e.k)(_=>this.mapItem(_)))}addAllergen(t,o){return this.post(`${t}/allergens/${o}`,{}).pipe((0,e.k)(_=>this.mapItem(_)))}removeAllergen(t,o){return this.delete(`${t}/allergens/${o}`).pipe((0,e.k)(_=>this.mapItem(_)))}references(t){return this.get(`${t}/references`).pipe((0,e.k)(o=>o))}addSuggestion(t,o){return this.post(`${t}/suggestions/${o}`,{}).pipe((0,e.k)(_=>this.mapItem(_)))}removeSuggestion(t,o){return this.delete(`${t}/suggestions/${o}`).pipe((0,e.k)(_=>this.mapItem(_)))}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275prov=T.wxM({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},9880:(v,C,n)=>{n.d(C,{kP:()=>A,kh:()=>$,st:()=>P});var l=n(4496),a=n(3480),e=n(4392),T=n(3120),s=n(3616),i=n(7692),u=n(1368);const t=["wrapper"];function o(m,D){if(1&m&&(l.I0R(0,"tui-loader",4),l.C_f(1,5),l.C$Y()),2&m){const r=l.GaO(2);l.E7m("overlay",!0)("showLoader",r.loading),l.yG2(),l.E7m("ngTemplateOutlet",r.content)}}function _(m,D){if(1&m&&(l.SAx(0),l._Xx(1),l.yuY(2,o,2,3,"tui-loader",3),l.k70()),2&m){const r=l.GaO();l.yG2(2),l.E7m("ngIf",r.async)("ngIfElse",r.content)}}const f=["*"];let A=(()=>{class m{}return m.\u0275fac=function(r){return new(r||m)},m.\u0275dir=l.Sc5({type:m,selectors:[["","tuiExpandContent",""]]}),m})();let P=(()=>{class m{constructor(r,g){this.cdr=r,this.destroy$=g,this.state=0,this.async=!1,this.content=null,this.expanded=null}set expandedSetter(r){if(null!==this.expanded)return 0!==this.state?(this.expanded=r,void(this.state=3)):(this.expanded=r,void this.retrigger(this.async&&r?1:3));this.expanded=r}get overflow(){return 0!==this.state}get loading(){return!!this.expanded&&this.async&&1===this.state}get height(){const{expanded:r,state:g,contentWrapper:d}=this;return r&&2===g||!r&&3===g?0:d&&(!r&&2===g||r&&3===g)?d.nativeElement.offsetHeight:d&&r&&1===g?Math.max(d.nativeElement.offsetHeight,48):null}get contentVisible(){return this.expanded||0!==this.state}onTransitionEnd({propertyName:r}){"opacity"===r&&3===this.state&&(this.state=0)}onExpandLoaded(r){r.stopPropagation(),1===this.state&&this.retrigger(3)}retrigger(r){this.state=2,(0,T.k)(0).pipe((0,s.a)(this.destroy$)).subscribe(()=>{2===this.state&&(this.state=r,this.cdr.markForCheck())})}}return m.\u0275fac=function(r){return new(r||m)(l.GI1(l.kD9),l.GI1(a.UF,2))},m.\u0275cmp=l.In1({type:m,selectors:[["tui-expand"]],contentQueries:function(r,g,d){if(1&r&&l.szK(d,A,5,l.Yw2),2&r){let h;l.wto(h=l.Gqi())&&(g.content=h.first)}},viewQuery:function(r,g){if(1&r&&l.CC$(t,5),2&r){let d;l.wto(d=l.Gqi())&&(g.contentWrapper=d.first)}},hostVars:9,hostBindings:function(r,g){1&r&&l.qCj("transitionend.self",function(h){return g.onTransitionEnd(h)})("tui-expand-loaded",function(h){return g.onExpandLoaded(h)}),2&r&&(l.e48("aria-expanded",g.expanded),l.m4B("height",g.height,"px"),l.eAK("_expanded",g.expanded)("_overflow",g.overflow)("_loading",g.loading))},inputs:{async:"async",expandedSetter:[l.Wk5.None,"expanded","expandedSetter"]},features:[l.M5G([a.UF])],ngContentSelectors:f,decls:3,vars:3,consts:[[1,"t-wrapper"],["wrapper",""],[4,"ngIf"],["size","l",3,"overlay","showLoader",4,"ngIf","ngIfElse"],["size","l",3,"overlay","showLoader"],[3,"ngTemplateOutlet"]],template:function(r,g){1&r&&(l.kPM(),l.I0R(0,"div",0,1),l.yuY(2,_,3,2,"ng-container",2),l.C$Y()),2&r&&(l.E7m("@tuiParentAnimation",void 0)("@.disabled",g.overflow),l.yG2(2),l.E7m("ngIf",g.contentVisible))},dependencies:[i.Cb,u.u_,u.XV],styles:['[_nghost-%COMP%]{transition-property:opacity,height,visibility;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:block;opacity:0;transition-delay:1ms}._overflow[_nghost-%COMP%]{overflow:hidden}._expanded[_nghost-%COMP%]{opacity:1;transform:translate(0)}._loading[_nghost-%COMP%]{opacity:.99}.t-wrapper[_ngcontent-%COMP%]:before, .t-wrapper[_ngcontent-%COMP%]:after{content:"";display:table}'],data:{animation:[e.cI]},changeDetection:0}),m})(),$=(()=>{class m{}return m.\u0275fac=function(r){return new(r||m)},m.\u0275mod=l.a4G({type:m}),m.\u0275inj=l.s3X({imports:[[u.MD,i.Sk]]}),m})()}}]);