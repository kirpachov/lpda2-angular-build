"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[2740],{2740:(st,R,o)=>{o.d(R,{IZ:()=>it,gt:()=>et,iw:()=>tt});var m=o(1316),e=o(4496),B=o(6504),S=o(6572),F=o(2528),K=o(3480),f=o(1800),T=o(4392),W=o(4164),p=o(400),E=o(8987),c=o(4680),h=o(9392),M=o(466),r=o(7936),v=o(4336),O=o(3656),_=o(8048),I=o(4108),d=o(5944),L=o(9371),C=o(5384),V=o(796),k=o(3012),H=o(3120),w=o(4704),G=o(3616),x=o(812),l=o(1368),D=o(5900),P=o(5620),y=o(1040);const N=["tuiTime",""];function z(n,a){1&n&&e.wR5(0,"option",3),2&n&&e._6D("value",a.$implicit)}function $(n,a){if(1&n&&(e.I0R(0,"datalist",1),e.yuY(1,z,1,1,"option",2),e.C$Y()),2&n){const t=e.GaO();e.E7m("id",t.autoIdString),e.yG2(),e.E7m("ngForOf",t.items)}}function Y(n,a){if(1&n&&(e.I0R(0,"button",7),e.OEk(1),e.C$Y()),2&n){const t=a.$implicit,i=e.GaO(2);e.E7m("disabled",i.disabledItemHandler(t))("value",t),e.yG2(),e.oRS(" ",t," ")}}function b(n,a){if(1&n&&(e.I0R(0,"tui-data-list",5),e.yuY(1,Y,2,3,"button",6),e.C$Y()),2&n){const t=e.GaO();e.E7m("size",t.itemSize),e.yG2(),e.E7m("ngForOf",t.filtered)}}function j(n,a){1&n&&e.wR5(0,"tui-svg",10),2&n&&e.E7m("src",a.polymorpheusOutlet)}function Q(n,a){1&n&&e.wR5(0,"input",11)}const X=n=>({$implicit:n});function J(n,a){if(1&n&&e.yuY(0,j,1,1,"tui-svg",8)(1,Q,1,0,"input",9),2&n){const t=e.GaO();e.E7m("polymorpheusOutlet",t.icon)("polymorpheusOutletContext",e.S45(3,X,t.size)),e.yG2(),e.E7m("ngIf",t.showNativePicker)}}const Z=["*"],U=(0,F.AL)({icon:({$implicit:n})=>"s"===n?"tuiIconClock":"tuiIconClockLarge",mode:"HH:MM",postfix:"",maxValues:x.w3,itemSize:"m",nativePicker:!1});let q=(()=>{class n{constructor(t,i){this.host=t,this.autoIdString=i.generate()}get items(){return this.host.items.map(t=>t.toString(this.host.mode))}get value(){return this.host.value.length===this.host.mode.length?this.host.value:""}get step(){switch(this.host.mode){case"HH:MM:SS":return 1;case"HH:MM:SS.MSS":return.001;default:return 60}}onChange(t){this.host.onValueChange(t)}}return n.\u0275fac=function(t){return new(t||n)(e.GI1(d.Mn),e.GI1(K.y2))},n.\u0275cmp=e.In1({type:n,selectors:[["input","tuiTime",""]],hostAttrs:["type","time"],hostVars:4,hostBindings:function(t,i){1&t&&e.qCj("change.stop",function(u){return i.onChange(u.target.value)})("click.stop.silent",function(){return 0})("mousedown.stop.silent",function(){return 0}),2&t&&(e.SoX("tabIndex",-1)("value",i.value)("step",i.step),e.e48("list",i.autoIdString))},attrs:N,decls:1,vars:1,consts:[[3,"id",4,"ngIf"],[3,"id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,i){1&t&&e.yuY(0,$,2,2,"datalist",0),2&t&&e.E7m("ngIf",i.items.length)},dependencies:[l.u_,l.ay],styles:["[_nghost-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;pointer-events:auto;font-size:2rem}"],changeDetection:0}),n})(),tt=(()=>{class n extends f.GG{constructor(t,i,s,u,g,nt,ot){super(t,i),this.timeTexts$=s,this.options=u,this.isMobile=g,this.isIos=nt,this.textfieldSize=ot,this.disabledItemHandler=T.so,this.items=[],this.itemSize=this.options.itemSize,this.strict=!1,this.mode=this.options.mode,this.postfix=this.options.postfix,this.open=!1}get size(){return this.textfieldSize.size}get nativeFocusableElement(){var t,i;return null!==(i=null===(t=this.textfield)||void 0===t?void 0:t.nativeFocusableElement)&&void 0!==i?i:null}get focused(){return(0,W.ER)(this.nativeFocusableElement)}get canOpen(){return this.interactive&&!!this.filtered.length}get filtered(){return this.filter(this.items,this.mode,this.computedSearch)}get showNativePicker(){return this.nativePicker&&(!this.isIos||"HH:MM"===this.mode&&!this.items.length)}get nativeDatalist(){return this.nativePicker&&!this.isIos}get maskOptions(){return this.calculateMask(this.mode)}get computedValue(){return this.value?this.value.toString(this.mode):this.nativeValue}get computedSearch(){return this.computedValue.length!==this.mode.length?this.computedValue:""}get innerPseudoFocused(){return!1!==this.pseudoFocus&&(!!(this.open&&this.canOpen||this.computedFocused)||null)}get icon(){return this.options.icon}get nativeValue(){var t;return(null===(t=this.nativeFocusableElement)||void 0===t?void 0:t.value)||""}set nativeValue(t){this.nativeFocusableElement&&(this.nativeFocusableElement.value=t)}getFiller$(t){return this.timeTexts$.pipe((0,w.k)(i=>i[t]))}onClick(){this.open=!this.open}onValueChange(t){this.open=!!this.items.length,this.control&&this.control.updateValueAndValidity({emitEvent:!1});const i=this.getMatch(t);if(void 0!==i)return void(this.value=i);if(t.length!==this.mode.length)return void(this.value=null);const s=p.uc.fromString(t);this.value=this.strict?this.findNearestTimeFromItems(s):s}onFocused(t){this.updateFocused(t),!t&&null===this.value&&""!==this.nativeValue&&"HH:MM"!==this.mode&&(this.value=p.uc.fromString(this.nativeValue),(0,H.k)(0).pipe((0,G.a)(this.destroy$)).subscribe(()=>{(this.nativeValue.endsWith(".")||this.nativeValue.endsWith(":"))&&(this.nativeValue=this.nativeValue.slice(0,-1))}))}onArrowUp(t){this.items.length||this.processArrow(t,1)}onArrowDown(t){this.items.length||this.processArrow(t,-1)}handleOption(t){this.focusInput(),this.value=t}onOpen(t){this.open=t}writeValue(t){super.writeValue(t),this.nativeValue=t?this.computedValue:""}get nativePicker(){return!!this.options.nativePicker&&this.isMobile}calculateMask(t){const{HH:i,MM:s,SS:u,MS:g}=this.options.maxValues;return(0,S.ee)({mode:t,timeSegmentMaxValues:{hours:i,minutes:s,seconds:u,milliseconds:g}})}filter(t,i,s){return t.filter(u=>u.toString(i).includes(s))}findNearestTimeFromItems(t){return this.items.reduce((i,s)=>Math.abs(s.valueOf()-t.valueOf())<Math.abs(i.valueOf()-t.valueOf())?s:i,new p.uc(0,0))}getMatch(t){return this.items.find(i=>(0,T.yG)(i,t))}close(){this.open=!1}processArrow(t,i){const{target:s}=t;if(this.readOnly||!(0,E.CK)(s)||!(0,E.kZ)(s))return;const u=s.selectionStart||0;this.shiftTime(this.calculateShift(u,i)),s.setSelectionRange(u,u),t.preventDefault()}calculateShift(t,i){return t<=2?{hours:i}:t<=5?{minutes:i}:t<=8?{seconds:i}:{ms:i}}shiftTime(t){if(null===this.value)return;const i=this.value.shift(t);this.nativeValue=i.toString(this.mode),this.value=i}focusInput(t=!1){this.nativeFocusableElement&&(this.nativeFocusableElement.focus({preventScroll:t}),this.close())}}return n.\u0275fac=function(t){return new(t||n)(e.GI1(B.eq,10),e.GI1(e.kD9),e.GI1(k.Ul),e.GI1(U),e.GI1(c.Mv),e.GI1(c.kh),e.GI1(_.$K))},n.\u0275cmp=e.In1({type:n,selectors:[["tui-input-time"]],viewQuery:function(t,i){if(1&t&&e.CC$(r.y_,5),2&t){let s;e.wto(s=e.Gqi())&&(i.textfield=s.first)}},hostVars:1,hostBindings:function(t,i){1&t&&e.qCj("click",function(){return i.onClick()}),2&t&&e.e48("data-size",i.size)},inputs:{disabledItemHandler:"disabledItemHandler",items:"items",itemSize:"itemSize",strict:"strict",mode:"mode",postfix:"postfix"},features:[e.M5G([(0,c.NK)(n),(0,f.q4)(n),(0,d.UH)(n),(0,d.YB)(C.E$)],[V.YL]),e.eg9],ngContentSelectors:Z,decls:9,vars:18,consts:[[1,"t-wrapper",3,"canOpen","content","open","focusedChange","openChange"],["tuiValueAccessor","",1,"t-textfield",3,"disabled","focusable","invalid","maskito","nativeId","postfix","pseudoActive","pseudoFocus","pseudoHover","readOnly","tuiTextfieldFiller","tuiTextfieldIcon","value","keydown.arrowDown","keydown.arrowUp","valueChange"],["inputmode","numeric","tuiTextfield",""],["dropdownContent",""],["iconContent",""],["automation-id","tui-input-time__dropdown",3,"size"],["automation-id","tui-input-time__item","tuiOption","",3,"disabled","value",4,"ngFor","ngForOf"],["automation-id","tui-input-time__item","tuiOption","",3,"disabled","value"],["appearance","icon","tuiWrapper","",3,"src",4,"polymorpheusOutlet","polymorpheusOutletContext"],["tuiTime","",4,"ngIf"],["appearance","icon","tuiWrapper","",3,"src"],["tuiTime",""]],template:function(t,i){if(1&t&&(e.kPM(),e.I0R(0,"tui-hosted-dropdown",0),e.qCj("focusedChange",function(u){return i.onFocused(u)})("openChange",function(u){return i.onOpen(u)}),e.I0R(1,"tui-primitive-textfield",1),e.qCj("keydown.arrowDown",function(u){return i.onArrowDown(u)})("keydown.arrowUp",function(u){return i.onArrowUp(u)})("valueChange",function(u){return i.onValueChange(u)}),e.wVc(2,"async"),e._Xx(3),e.wR5(4,"input",2),e.C$Y()(),e.yuY(5,b,2,2,"ng-template",null,3,e.gJz)(7,J,2,5,"ng-template",null,4,e.gJz)),2&t){const s=e.Gew(6),u=e.Gew(8);e.E7m("canOpen",i.canOpen&&!i.nativeDatalist)("content",s)("open",i.canOpen&&i.open),e.yG2(),e.E7m("disabled",i.disabled)("focusable",i.focusable)("invalid",i.computedInvalid)("maskito",i.maskOptions)("nativeId",i.nativeId)("postfix",i.postfix)("pseudoActive",i.pseudoActive)("pseudoFocus",i.innerPseudoFocused)("pseudoHover",i.pseudoHover)("readOnly",i.readOnly)("tuiTextfieldFiller",e.kDX(2,16,i.getFiller$(i.mode))||"")("tuiTextfieldIcon",u)("value",i.computedValue)}},dependencies:[M.Qw,r.y_,r.b,v.yi,v.sP,O.Wu,q,r.KQ,D.a,P.sD,_.Gk,_.uU,l.ay,y.Af,I.S,l.u_,l.a],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:left}._disabled[_nghost-%COMP%]{pointer-events:none}.t-wrapper[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}"],changeDetection:0}),(0,m.UN)([h.w7],n.prototype,"getFiller$",null),(0,m.UN)([h.w7],n.prototype,"calculateMask",null),(0,m.UN)([h.w7],n.prototype,"filter",null),n})(),et=(()=>{class n extends L.Cm{get value(){return this.host.computedValue}get mode(){return this.host.mode}get items(){return this.host.items}onValueChange(t){t||(this.host.nativeValue=""),this.host.onValueChange(t)}process(t){t.inputMode="numeric"}}return n.\u0275fac=(()=>{let a;return function(i){return(a||(a=e.otF(n)))(i||n)}})(),n.\u0275dir=e.Sc5({type:n,selectors:[["tui-input-time"]],features:[e.M5G([(0,d.iu)(n)]),e.eg9]}),n})(),it=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.a4G({type:n}),n.\u0275inj=e.s3X({imports:[[l.MD,P.S,C.YB,v.A$,I.g,M.GE,r.KA,D.i,_.aS,O.Yt,y.Ux]]}),n})()}}]);