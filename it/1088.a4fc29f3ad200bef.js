"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[1088],{1088:(_,l,t)=>{t.r(l),t.d(l,{NewModule:()=>M});var r=t(1236),u=t(7552),e=t(4496),n=t(1690),s=t(8256),h=t(9938),d=t(8392),f=t(7492),g=t(1128),p=t(3480),E=t(3616),v=t(8824),C=t(4056);let T=(()=>{class a{constructor(){this.service=(0,e.uUt)(f.W),this.destroy$=(0,e.uUt)(p.UF),this.router=(0,e.uUt)(r.E5),this.route=(0,e.uUt)(r.gV),this.notifications=(0,e.uUt)(g.E),this.loading=(0,e.OCB)(!1)}submit(i){this.loading()||(this.loading.set(!0),this.service.create(i).pipe((0,E.a)(this.destroy$),(0,v.U)(()=>this.loading.set(!1))).subscribe({next:()=>{this.router.navigate(["../"],{relativeTo:this.route})},error:o=>{this.manageErrors(o)}}))}cancel(){this.router.navigate(["../"],{relativeTo:this.route})}manageErrors(i){this.notifications.error((0,s.mk)(i)||d.a);const o=this.form?.findForm();if(!o)throw new Error("Form not found");422==i.status&&h.y.assignErrorsToForm(o,i)}static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275cmp=e.In1({type:a,selectors:[["app-new"]],viewQuery:function(o,c){if(1&o&&e.CC$(n.O,5),2&o){let m;e.wto(m=e.Gqi())&&(c.form=m.first)}},standalone:!0,features:[e.M5G([p.UF]),e.UHJ],decls:3,vars:1,consts:()=>{let i;return i="Nuova tiplogia di tavolo",[i,[3,"loading","onSubmit","onCancel"]]},template:function(o,c){1&o&&(e.I0R(0,"h1"),e.aS0(1,0),e.C$Y(),e.I0R(2,"app-table-type-form",1),e.qCj("onSubmit",function(y){return c.submit(y)})("onCancel",function(){return c.cancel()}),e.C$Y()),2&o&&(e.yG2(2),e.E7m("loading",c.loading()))},dependencies:[C.c],encapsulation:2,changeDetection:0})}return a})(),M=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275mod=e.a4G({type:a});static#s=this.\u0275inj=e.s3X({imports:[r.qQ.forChild([(0,u.VV)(T,{path:"",closeable:!0,dismissible:!1,size:"l"})])]})}return a})()},2264:(_,l,t)=>{t.d(l,{W:()=>u});var r=t(8400);class u extends r.w{constructor(n){super(n),this.filename=n.filename,this.status=n.status,this.key=n.key,this.original_id=n.original_id,this.tag=n.tag,this.url=n.url}}},9064:(_,l,t)=>{t.d(l,{g:()=>e});var r=t(8400),u=t(2264);class e extends r.w{constructor(s){super(s),this.name=s.name,this.description=s.description,this.default_people_per_turn=s.default_people_per_turn,this.default_price=s.default_price,this.notes=s.notes,this.status=s.status,this.translations=s.translations,this.images=s.images?s.images.map(h=>new u.W(h)):[]}}},7492:(_,l,t)=>{t.d(l,{W:()=>n});var r=t(6012),u=t(9064),e=t(4496);let n=(()=>{class s extends r.s{constructor(){super(u.g,"admin/table_types")}static#t=this.\u0275fac=function(f){return new(f||s)};static#e=this.\u0275prov=e.wxM({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()}}]);