"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[8316],{6524:(d,E,a)=>{a.d(E,{a:()=>Mt});var t=a(4496),m=a(6504),C=a(3480),s=a(580),O=a(1712),_=a(1368),p=a(6096),l=a(3797),c=a(6052),u=a(9604),y=a(5488),T=a(7936),M=a(4336),h=a(7692),R=a(6732),x=a(1040),G=a(1560);function A(e,o){1&e&&(t.SAx(0),t.aS0(1,10),t.k70())}function D(e,o){if(1&e&&(t.SAx(0),t.OEk(1),t.k70()),2&e){const n=o.polymorpheusOutlet;t.yG2(),t.oRS(" ",n," ")}}function $(e,o){if(1&e&&t.yuY(0,D,2,1,"ng-container",11),2&e){const n=t.GaO(2);t.E7m("polymorpheusOutlet",n.optionTemplate$())}}function N(e,o){1&e&&t.C_f(0)}const I=(e,o)=>({$implicit:e,injector:o});function P(e,o){if(1&e&&t.yuY(0,N,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,i=t.GaO();t.E7m("polymorpheusOutlet",i.optionTemplate$())("polymorpheusOutletContext",t.IBC(2,I,n,i.injector))}}function Y(e,o){1&e&&t.C_f(0)}const v=e=>({data:e});function L(e,o){if(1&e&&t.yuY(0,Y,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,i=t.GaO();t.E7m("polymorpheusOutlet",i.optionTemplate$())("polymorpheusOutletContext",t.S45(2,v,n))}}function b(e,o){if(1&e&&t.wR5(0,"div",13),2&e){const n=t.GaO().$implicit,i=t.GaO();t.E7m("innerText",i.stringify(n))}}function U(e,o){if(1&e&&t.yuY(0,$,1,1)(1,P,1,5)(2,L,1,4)(3,b,1,1),2&e){const n=t.GaO();let i;t.C0Y(0,"text"===(i=n.optionTemplateType$())?0:"template"===i?1:"component"===i?2:3)}}function w(e,o){if(1&e&&(t.SAx(0),t.OEk(1),t.k70()),2&e){const n=o.polymorpheusOutlet;t.yG2(),t.oRS(" ",n," ")}}function z(e,o){if(1&e&&t.yuY(0,w,2,1,"ng-container",11),2&e){const n=t.GaO(2);t.E7m("polymorpheusOutlet",n.nativeOptionTemplate$())}}function k(e,o){1&e&&t.C_f(0)}function K(e,o){if(1&e&&t.yuY(0,k,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,i=t.GaO();t.E7m("polymorpheusOutlet",i.nativeOptionTemplate$())("polymorpheusOutletContext",t.IBC(2,I,n,i.injector))}}function B(e,o){1&e&&t.C_f(0)}function W(e,o){if(1&e&&t.yuY(0,B,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,i=t.GaO();t.E7m("polymorpheusOutlet",i.nativeOptionTemplate$())("polymorpheusOutletContext",t.S45(2,v,n))}}function J(e,o){if(1&e&&t.wR5(0,"div",13),2&e){const n=t.GaO().$implicit,i=t.GaO();t.E7m("innerText",i.stringify(n))}}function F(e,o){if(1&e&&t.yuY(0,z,1,1)(1,K,1,5)(2,W,1,4)(3,J,1,1),2&e){const n=t.GaO();let i;t.C0Y(0,"text"===(i=n.nativeOptionTemplateType$())?0:"template"===i?1:"component"===i?2:3)}}function j(e,o){if(1&e&&(t.SAx(0),t.OEk(1),t.k70()),2&e){const n=t.GaO(2);t.yG2(),t.oRS(" ",n.placeholder," ")}}function X(e,o){if(1&e&&(t.I0R(0,"span",null,14),t._Xx(2),t.C$Y(),t.yuY(3,j,2,1,"ng-container",15)),2&e){const n=t.Gew(1);t.yG2(3),t.E7m("ngIf",!n.hasChildNodes())}}function Q(e,o){1&e&&(t.SAx(0),t.aS0(1,19),t.k70())}function H(e,o){if(1&e&&(t.I0R(0,"span"),t.OEk(1),t.C$Y()),2&e){const n=t.GaO(2);t.yG2(),t.cNF(n.emptyContentString())}}function V(e,o){1&e&&t.C_f(0)}function Z(e,o){if(1&e&&(t.SAx(0),t.yuY(1,V,1,0,"ng-container",8),t.k70()),2&e){const n=t.GaO(4);t.yG2(),t.E7m("ngTemplateOutlet",n.emptyContentTemplate())}}function q(e,o){if(1&e&&(t.SAx(0),t.yuY(1,Z,2,1,"ng-container",20),t.k70()),2&e){t.GaO(2);const n=t.Gew(6),i=t.GaO();t.yG2(),t.E7m("ngIf",i.emptyContentTemplate())("ngIfElse",n)}}function tt(e,o){if(1&e&&(t.SAx(0),t.yuY(1,q,2,2,"ng-container",20),t.k70()),2&e){t.GaO();const n=t.Gew(4),i=t.GaO();t.yG2(),t.E7m("ngIf",i.emptyContent$())("ngIfElse",n)}}function et(e,o){if(1&e&&(t.I0R(0,"span",null,16),t._Xx(2,1),t.C$Y(),t.yuY(3,Q,2,0,"ng-template",null,17,t.gJz)(5,H,2,1,"ng-template",null,18,t.gJz)(7,tt,2,2,"ng-container",15)),2&e){const n=t.Gew(1);t.yG2(7),t.E7m("ngIf",!n.hasChildNodes())}}function nt(e,o){1&e&&t.wR5(0,"tui-loader")}function _t(e,o){1&e&&t.C_f(0)}function ot(e,o){if(1&e&&t.yuY(0,_t,1,0,"ng-container",8),2&e){t.GaO(2);const n=t.Gew(9);t.E7m("ngTemplateOutlet",n)}}function it(e,o){1&e&&t.C_f(0)}function at(e,o){if(1&e&&(t.SAx(0),t.yuY(1,it,1,0,"ng-container",8),t.k70()),2&e){t.GaO(2);const n=t.Gew(11);t.yG2(),t.E7m("ngTemplateOutlet",n)}}function lt(e,o){if(1&e&&t.yuY(0,ot,1,1,"ng-template",null,21,t.gJz)(2,at,2,1,"ng-container",20),2&e){const n=t.Gew(1),i=t.GaO();t.yG2(2),t.E7m("ngIf",i.loading())("ngIfElse",n)}}function ct(e,o){1&e&&t.C_f(0)}function st(e,o){1&e&&t.C_f(0)}function rt(e,o){1&e&&t.C_f(0)}function ut(e,o){if(1&e&&(t.SAx(0),t.yuY(1,rt,1,0,"ng-container",8),t.k70()),2&e){t.GaO(4);const n=t.Gew(11);t.yG2(),t.E7m("ngTemplateOutlet",n)}}function pt(e,o){1&e&&t.C_f(0)}function mt(e,o){if(1&e){const n=t.KQA();t.I0R(0,"button",28)(1,"span",29),t.qCj("click",function(){t.usT(n);const r=t.GaO(4);return t.CGJ(r.loadMoreItems())}),t.yuY(2,pt,1,0,"ng-container",20),t.C$Y()()}if(2&e){const n=t.GaO(4),i=t.Gew(1);t.E7m("size",n.optionSize)("disabled",!0),t.yG2(2),t.E7m("ngIf",n.loadMore)("ngIfElse",i)}}function gt(e,o){if(1&e&&(t.SAx(0),t.yuY(1,ut,2,1,"ng-container",15)(2,mt,3,4,"button",27),t.k70()),2&e){const n=t.GaO(3);t.yG2(),t.E7m("ngIf",n.loading),t.yG2(),t.E7m("ngIf",!n.loading)}}const Ct=e=>({$implicit:e});function Et(e,o){if(1&e){const n=t.KQA();t.SAx(0),t.I0R(1,"button",25),t.qCj("mouseenter",function(){const r=t.usT(n),g=r.index,f=r.last,S=t.GaO(2);return t.CGJ(S.optionMouseEnter(g,f))})("focus",function(){const r=t.usT(n),g=r.index,f=r.last,S=t.GaO(2);return t.CGJ(S.optionFocus(g,f))}),t.yuY(2,st,1,0,"ng-container",26),t.C$Y(),t.yuY(3,gt,3,2,"ng-container",15),t.k70()}if(2&e){const n=o.$implicit,i=o.last,r=t.GaO(2),g=t.Gew(5);t.yG2(),t.E7m("size",r.optionSize)("value",n)("disabled",r.disabledItemHandler(n)),t.yG2(),t.E7m("ngTemplateOutlet",g)("ngTemplateOutletContext",t.S45(6,Ct,n)),t.yG2(),t.E7m("ngIf",i&&r.thereAreMoreItems)}}function ft(e,o){if(1&e){const n=t.KQA();t.I0R(0,"span",33),t.qCj("click",function(){t.usT(n);const r=t.GaO(3);return t.CGJ(r.createNew.emit())}),t.I0R(1,"mat-icon"),t.OEk(2,"add"),t.C$Y(),t.I0R(3,"span"),t.aS0(4,34),t.C$Y()()}}function yt(e,o){if(1&e&&(t.I0R(0,"button",30)(1,"span",null,31),t._Xx(3,2),t.C$Y(),t.yuY(4,ft,5,0,"span",32),t.C$Y()),2&e){const n=t.Gew(2),i=t.GaO(2);t.E7m("size",i.optionSize)("value",null)("disabled",!0),t.yG2(4),t.E7m("ngIf",!n.hasChildNodes())}}function dt(e,o){if(1&e&&(t.I0R(0,"tui-data-list",22),t.yuY(1,Et,4,8,"ng-container",23)(2,yt,5,4,"button",24),t.C$Y()),2&e){const n=t.GaO(),i=t.Gew(13);t.E7m("emptyContent",i),t.yG2(),t.E7m("ngForOf",n.items()),t.yG2(),t.E7m("ngIf",n.showCreateNew)}}const Ot=["*",[["","empty-content",""]],[["","create-new",""]]],Tt=["*","[empty-content]","[create-new]"];let Mt=(()=>{class e extends s.m{constructor(){super(),this.stringify=n=>`${n.name}`??0,this.service=(0,t.uUt)(O.S)}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-menu-category-select"]],inputs:{outputType:"outputType",multiple:"multiple",service:"service",stringify:"stringify",query:"query",autofocus:"autofocus",placeholder:"placeholder",optionTemplate:"optionTemplate",stringifyOption:"stringifyOption",inputSize:"inputSize",page:"page",per_page:"per_page",optionSize:"optionSize",disabledItemHandler:"disabledItemHandler",loadMoreOnLastItem:"loadMoreOnLastItem",emptyContent:"emptyContent",showCreateNew:"showCreateNew",nativeOptionTemplate:"nativeOptionTemplate",filters:"filters"},outputs:{httpError:"httpError",pageChange:"pageChange",queryChange:"queryChange",per_pageChange:"per_pageChange",createNew:"createNew"},standalone:!0,features:[t.M5G([{provide:m.Y6,useExisting:(0,t.wd)(()=>e),multi:!0},C.UF]),t.eg9,t.UHJ],ngContentSelectors:Tt,decls:17,vars:5,consts:()=>{let n,i,r;return n="Load more",i="Nothing found.",r="Crea nuovo",[["loadMoreDefault",""],["valueContent",""],["nativeOptionTemplate",""],["placeholderTemplate",""],["nativeEmptyContentTemplate",""],["loadingTemplate",""],["loadingOrEmptyContent",""],[3,"stringify","tuiTextfieldSize","formControl","valueContent","searchChange"],[4,"ngTemplateOutlet"],[3,"emptyContent",4,"tuiDataList"],n,[4,"polymorpheusOutlet"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"innerText"],["customContent",""],[4,"ngIf"],["customEmptyContent",""],["defaultEmptyContent",""],["emptyContentCustomString",""],i,[4,"ngIf","ngIfElse"],["empty",""],[3,"emptyContent"],[4,"ngFor","ngForOf"],["tuiOption","",3,"size","value","disabled",4,"ngIf"],["tuiOption","",3,"size","value","disabled","mouseenter","focus"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tuiOption","",3,"size","disabled",4,"ngIf"],["tuiOption","",3,"size","disabled"],["role","button",3,"click"],["tuiOption","",3,"size","value","disabled"],["createNewCustomTemplate",""],["role","button","class","d-flex align-items-center",3,"click",4,"ngIf"],["role","button",1,"d-flex","align-items-center",3,"click"],r]},template:function(i,r){if(1&i&&(t.kPM(Ot),t.yuY(0,A,2,0,"ng-template",null,0,t.gJz)(2,U,4,1,"ng-template",null,1,t.gJz)(4,F,4,1,"ng-template",null,2,t.gJz)(6,X,4,1,"ng-template",null,3,t.gJz)(8,et,8,1,"ng-template",null,4,t.gJz)(10,nt,1,0,"ng-template",null,5,t.gJz)(12,lt,3,2,"ng-template",null,6,t.gJz),t.I0R(14,"tui-combo-box",7),t.qCj("searchChange",function(f){return r.onSearchChange(f)}),t.yuY(15,ct,1,0,"ng-container",8)(16,dt,3,3,"tui-data-list",9),t.C$Y()),2&i){const g=t.Gew(3),f=t.Gew(7);t.yG2(14),t.E7m("stringify",r.stringify)("tuiTextfieldSize",r.inputSize)("formControl",r.control)("valueContent",g),t.yG2(),t.E7m("ngTemplateOutlet",f)}},dependencies:[_.MD,_.ay,_.u_,_.XV,p.uk,p.i_,p.qI,y.aS,y.rD,T.KA,l.CQ,M.A$,M.yi,M.sP,M.Ux,c.q8,m.sl,m.ue,m.ug,R.kR,u.CA,h.Sk,h.Cb,x.Ux,x.Af,G.oB,G.qL],changeDetection:0})}return e})()},2264:(d,E,a)=>{a.d(E,{W:()=>m});var t=a(8400);class m extends t.w{constructor(s){super(s),this.filename=s.filename,this.status=s.status,this.key=s.key,this.original_id=s.original_id,this.tag=s.tag,this.url=s.url}}},5820:(d,E,a)=>{a.d(E,{Q:()=>s});var t=a(8400);class m extends t.w{constructor(_){super(_),this.public_visible=_.public_visible,this.public_from=_.public_from?new Date(_.public_from):void 0,this.public_to=_.public_to?new Date(_.public_to):void 0,this.private_visible=_.private_visible,this.daily_from=_.daily_from?new Date(_.daily_from):void 0,this.daily_to=_.daily_to?new Date(_.daily_to):void 0}}var C=a(2264);class s extends t.w{constructor(_){super(_),this.name=_.name,this.description=_.description,this.status=_.status,this.price=_.price,this.parent_id=_.parent_id,this.index=_.index,this.secret=_.secret,this.secret_desc=_.secret_desc,this.visibility_id=_.visibility_id,this.visibility=_.visibility?new m(_.visibility):void 0,this.parent=_.parent?new s(_.parent):void 0,this.children=_.children?_.children.map(p=>new s(p)):[],this.images=_.images?_.images.map(p=>new C.W(p)):[],this.translations=_.translations}}},9088:(d,E,a)=>{a.d(E,{S:()=>C});var t=a(4496);const m={menuCategory:{show:"/admin/menu/{itemId}",duplicate:"/admin/menu/{itemId}/duplicate",export:"/admin/menu/{itemId}/export",createChild:"/admin/menu/{itemId}/create-category",linkCategory:"/admin/menu/{itemId}/link-category",createDish:"/admin/menu/{itemId}/create-dish",linkDish:"/admin/menu/{itemId}/link-dish",private:"/menu/{itemId}",public:"/menu/{itemId}"},dish:{show:"/admin/menu/{categoryId}/dish/{itemId}"}};let C=(()=>{class s{transform(_,p){const l=m[p.split(".")[0]];if(!l)throw new Error(`Resource not found: ${p} (resouce: ${p.split(".")[0]})`);const c=p.split(".")[1];if(!l[c])throw new Error(`Action not found: ${p} (action: ${c})`);if(typeof _>"u"||null===_)return null;if("number"==typeof _&&(_=_.toString()),"object"==typeof _&&null!==_&&!Array.isArray(_)){let u=l[c];if(Object.keys(_).forEach(y=>{const T=_[y];void 0!==T&&u.includes(`{${y}}`)&&(u=u.replace(`{${y}}`,T??""))}),u.includes("{{"))throw new Error(`Unresolved interpolation: ${u}`);return u}if("string"!=typeof _)throw new Error(`Invalid itemId: ${_} (type: ${typeof _})`);return l[c].replace("{itemId}",_)}static#t=this.\u0275fac=function(p){return new(p||s)};static#e=this.\u0275pipe=t.UTH({name:"urlTo",type:s,pure:!0,standalone:!0})}return s})()},1712:(d,E,a)=>{a.d(E,{S:()=>O});var t=a(6012),m=a(5820),C=a(4704),s=a(4496);let O=(()=>{class _ extends t.s{constructor(){super(m.Q,"admin/menu/categories")}addCategory(l,c,u={}){return this.post(`${l}/add_category/${c}`,u)}addDish(l,c){return this.post(`${l}/dishes/${c}`,{})}removeDish(l,c){return this.delete(`${l}/dishes/${c}`,{})}orderDishes(l,c){return this.patch(`${l}/order_dishes`,{field:c})}dashboardData(l){return this.get(`${l}/dashboard_data`)}updateVisibility(l,c){return this.patch(`${l}/visibility`,c).pipe((0,C.k)(u=>this.mapItem(u)))}copy(l,c){return this.post(`${l}/copy`,c).pipe((0,C.k)(u=>this.mapItem(u)))}move(l,c){return this.patch(`${l}/move/${c}`,{}).pipe((0,C.k)(u=>this.mapItem(u)))}static#t=this.\u0275fac=function(c){return new(c||_)};static#e=this.\u0275prov=s.wxM({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()}}]);