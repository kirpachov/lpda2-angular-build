"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[3504],{1920:(D,T,_)=>{_.d(T,{w:()=>y});var e=_(4496),a=_(6504),c=_(3480),d=_(6700),v=_(3616),f=_(6684),O=_(3797),u=_(8588),S=_(1368),C=_(9956),R=_(1292);function h(E,I){if(1&E&&(e.I0R(0,"tui-textarea",2),e.OEk(1),e.C$Y()),2&E){const r=e.GaO().$implicit,s=e.GaO();e.E7m("formControl",r.control),e.yG2(),e.oRS(" ",s.getFullLang(r.lang)," ")}}function N(E,I){if(1&E&&(e.I0R(0,"tui-input",2),e.OEk(1),e.C$Y()),2&E){const r=e.GaO().$implicit,s=e.GaO();e.E7m("formControl",r.control),e.yG2(),e.oRS(" ",s.getFullLang(r.lang)," ")}}const $=E=>({"mb-3":E});function g(E,I){if(1&E&&(e.SAx(0),e.I0R(1,"div",1),e.yuY(2,h,2,2,"tui-textarea",2)(3,N,2,2),e.wR5(4,"app-errors",3),e.C$Y(),e.k70()),2&E){const r=I.$implicit,s=I.last,G=e.GaO();e.yG2(),e.E7m("ngClass",e.S45(3,$,!s)),e.yG2(),e.C0Y(2,G.long?2:3),e.yG2(2),e.E7m("errors",r.control.errors)}}const A=["*"];let y=(()=>{class E{constructor(){this.destroy$=new c.UF,this.long=!1,this.controls=(0,e.OCB)({}),this.controlsArr=(0,e.S6b)(()=>{const r=this.controls();return Object.keys(r).map(s=>({lang:s,control:r[s]}))}),this.touched$=new d.g(!1),this.value$=new d.g({})}ngAfterViewInit(){this.addLang("it"),this.addLang("en")}ngOnInit(){}registerOnChange(r){this.value$.pipe((0,v.a)(this.destroy$)).subscribe({next:s=>r(s)})}registerOnTouched(r){this.touched$.pipe((0,f.I)(s=>!0===s)).subscribe({next:()=>r()})}writeValue(r){this.patchValue(r??{}),this.touched$.next(!1)}wasTouched(){this.touched$.next(!0)}getFullLang(r){return R.S[r]??r}controlChanged(r){this.value$.next({...this.value$.value,[r]:this.controls()[r].value})}patchValue(r){Object.keys(r).forEach(s=>this.addLang(s)),Object.keys(this.controls()).forEach(s=>{this.controls()[s].patchValue(r[s]??null)})}addLang(r){if(this.controls()[r])return;const s=new a.Ku;s.valueChanges.subscribe({next:()=>this.controlChanged(r)}),this.controls.set({...this.controls(),[r]:s})}static#e=this.\u0275fac=function(s){return new(s||E)};static#t=this.\u0275cmp=e.In1({type:E,selectors:[["app-i18n-input"]],inputs:{long:"long"},standalone:!0,features:[e.M5G([{provide:a.Y6,useExisting:(0,e.wd)(()=>E),multi:!0},c.UF]),e.UHJ],ngContentSelectors:A,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"ngClass"],[3,"formControl"],[3,"errors"]],template:function(s,G){1&s&&(e.kPM(),e._Xx(0),e.yuY(1,g,5,5,"ng-container",0)),2&s&&(e.yG2(),e.E7m("ngForOf",G.controlsArr()))},dependencies:[a.sl,a.ue,a.ug,O.CQ,O.Oo,O.cP,S.Iw,C.g,S.QF,u.Y3,u.wp,u.kd],changeDetection:0})}return E})()},7058:(D,T,_)=>{_.d(T,{g:()=>at});var e=_(4496),a=_(6504),c=_(3480),d=_(5e3),v=_(1960),f=_(8212),O=_(4336),u=_(8048),S=_(5656),C=_(9880),R=_(3797),h=_(8588),N=_(5188),$=_(9888),g=_(6528),A=_(6380),y=_(9956),E=_(1236),I=_(1744),r=_(1920),s=_(6404),G=_(3616),Q=_(4e3),H=_(7748),Y=_(6052);function j(n,i){1&n&&e.wR5(0,"app-preorder-reservation-group-preorder-type",3),2&n&&e.E7m("type",i.$implicit)}function Z(n,i){if(1&n&&e.wR5(0,"tui-data-list-wrapper",4),2&n){const t=e.GaO(),o=e.Gew(1);e.E7m("itemContent",o)("items",t.options)}}const q=["*"];let ee=(()=>{class n{constructor(){this.destroy$=(0,e.uUt)(c.UF),this.control=new a.Ku(null),this.form=new a.WC({control:this.control}),this.options=[...s.i4]}writeValue(t){t&&!(0,s.ch)(t)&&(console.error("Invalid preorder type:",t),t=null),this.control.setValue(t||null)}registerOnChange(t){this.control.valueChanges.pipe((0,G.a)(this.destroy$),(0,Q.a)()).subscribe({next:o=>t(o)})}registerOnTouched(t){this.registerOnChange(t)}setDisabledState(t){t?this.control.disable():this.control.enable()}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-select-preorder-type"]],standalone:!0,features:[e.M5G([c.UF,{provide:a.Y6,useExisting:(0,e.wd)(()=>n),multi:!0}]),e.UHJ],ngContentSelectors:q,decls:5,vars:2,consts:[["cardContent",""],[3,"formControl","valueContent"],[3,"itemContent","items",4,"tuiDataList"],[3,"type"],[3,"itemContent","items"]],template:function(o,l){if(1&o&&(e.kPM(),e.yuY(0,j,1,1,"ng-template",null,0,e.gJz),e.I0R(2,"tui-select",1),e._Xx(3),e.yuY(4,Z,1,2,"tui-data-list-wrapper",2),e.C$Y()),2&o){const p=e.Gew(1);e.yG2(2),e.E7m("formControl",l.control)("valueContent",p)}},dependencies:[N.my,N.cP,N.uO,H.c,a.sl,a.ue,a.ug,Y.q8,Y.OO,O.Ux],encapsulation:2,changeDetection:0})}return n})();var U=_(7936),te=_(580),L=_(1040),x=_(1368),b=_(9052),ne=_(9064);const oe=()=>[];function _e(n,i){if(1&n&&e.wR5(0,"app-show-image",6),2&n){const t=e.GaO(2);let o;e.E7m("image",((null==(o=t.item())?null:o.images)||e.q4q(1,oe))[0])}}function ie(n,i){if(1&n&&(e.I0R(0,"div",1),e.yuY(1,_e,1,2,"app-show-image",2),e.I0R(2,"span",3),e.OEk(3),e.C$Y(),e.I0R(4,"span",4),e.OEk(5),e.C$Y(),e.I0R(6,"span",4),e.OEk(7),e.wVc(8,"currency"),e.C$Y(),e.I0R(9,"span",4),e.OEk(10),e.SAx(11),e.aS0(12,5),e.k70(),e.C$Y()()),2&n){const t=e.GaO();let o,l,p,m,P;e.yG2(),e.C0Y(1,null!=(o=t.item())&&o.images?1:-1),e.yG2(2),e.oRS(" #",null==(l=t.item())?null:l.id," "),e.yG2(2),e.oRS(" ",null==(p=t.item())?null:p.name," "),e.yG2(2),e.oRS(" ",e.kDX(8,5,null==(m=t.item())?null:m.default_price)," "),e.yG2(3),e.oRS(" ",null==(P=t.item())?null:P.default_people_per_turn," ")}}function le(n,i){1&n&&e.OEk(0," invalid input.\n")}let ae=(()=>{class n{constructor(t){this.context=t,this.item=(0,e.OCB)(null);const o=t.data;o&&o instanceof ne.g?this.item.set(o):console.warn("invalid data. Please provide parm 'data' to context.",o)}static#e=this.\u0275fac=function(o){return new(o||n)(e.GI1(L.C0))};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["___app-table-type-select-option"]],standalone:!0,features:[e.UHJ],decls:2,vars:1,consts:()=>{let t;return t="persone per turno",[["class","flex items-center p-2"],[1,"flex","items-center","p-2"],["class","max-h-[100px] max-w-[100px]",3,"image"],[1,"ms-2","text-slate-400"],[1,"ms-2","text-lg"],t,[1,"max-h-[100px]","max-w-[100px]",3,"image"]]},template:function(o,l){1&o&&e.yuY(0,ie,13,7,"div",0)(1,le,1,0),2&o&&e.C0Y(0,l.item()?0:1)},dependencies:[b.y,x.cf],encapsulation:2,changeDetection:0})}return n})();var z=_(7492),F=_(6096),re=_(9604),V=_(7692),se=_(6732),B=_(1560);function ce(n,i){1&n&&(e.SAx(0),e.aS0(1,10),e.k70())}function pe(n,i){if(1&n&&(e.SAx(0),e.OEk(1),e.k70()),2&n){const t=i.polymorpheusOutlet;e.yG2(),e.oRS(" ",t," ")}}function ue(n,i){if(1&n&&e.yuY(0,pe,2,1,"ng-container",11),2&n){const t=e.GaO(2);e.E7m("polymorpheusOutlet",t.optionTemplate$())}}function Ee(n,i){1&n&&e.C_f(0)}const w=(n,i)=>({$implicit:n,injector:i});function me(n,i){if(1&n&&e.yuY(0,Ee,1,0,"ng-container",12),2&n){const t=e.GaO().$implicit,o=e.GaO();e.E7m("polymorpheusOutlet",o.optionTemplate$())("polymorpheusOutletContext",e.IBC(2,w,t,o.injector))}}function Oe(n,i){1&n&&e.C_f(0)}const k=n=>({data:n});function Re(n,i){if(1&n&&e.yuY(0,Oe,1,0,"ng-container",12),2&n){const t=e.GaO().$implicit,o=e.GaO();e.E7m("polymorpheusOutlet",o.optionTemplate$())("polymorpheusOutletContext",e.S45(2,k,t))}}function ge(n,i){if(1&n&&e.wR5(0,"div",13),2&n){const t=e.GaO().$implicit,o=e.GaO();e.E7m("innerText",o.stringify(t))}}function Ce(n,i){if(1&n&&e.yuY(0,ue,1,1)(1,me,1,5)(2,Re,1,4)(3,ge,1,1),2&n){const t=e.GaO();let o;e.C0Y(0,"text"===(o=t.optionTemplateType$())?0:"template"===o?1:"component"===o?2:3)}}function Te(n,i){if(1&n&&(e.SAx(0),e.OEk(1),e.k70()),2&n){const t=i.polymorpheusOutlet;e.yG2(),e.oRS(" ",t," ")}}function de(n,i){if(1&n&&e.yuY(0,Te,2,1,"ng-container",11),2&n){const t=e.GaO(2);e.E7m("polymorpheusOutlet",t.nativeOptionTemplate$())}}function fe(n,i){1&n&&e.C_f(0)}function Se(n,i){if(1&n&&e.yuY(0,fe,1,0,"ng-container",12),2&n){const t=e.GaO().$implicit,o=e.GaO();e.E7m("polymorpheusOutlet",o.nativeOptionTemplate$())("polymorpheusOutletContext",e.IBC(2,w,t,o.injector))}}function Pe(n,i){1&n&&e.C_f(0)}function Me(n,i){if(1&n&&e.yuY(0,Pe,1,0,"ng-container",12),2&n){const t=e.GaO().$implicit,o=e.GaO();e.E7m("polymorpheusOutlet",o.nativeOptionTemplate$())("polymorpheusOutletContext",e.S45(2,k,t))}}function Ne(n,i){if(1&n&&e.wR5(0,"div",13),2&n){const t=e.GaO().$implicit,o=e.GaO();e.E7m("innerText",o.stringify(t))}}function Ae(n,i){if(1&n&&e.yuY(0,de,1,1)(1,Se,1,5)(2,Me,1,4)(3,Ne,1,1),2&n){const t=e.GaO();let o;e.C0Y(0,"text"===(o=t.nativeOptionTemplateType$())?0:"template"===o?1:"component"===o?2:3)}}function ye(n,i){if(1&n&&(e.SAx(0),e.OEk(1),e.k70()),2&n){const t=e.GaO(2);e.yG2(),e.oRS(" ",t.placeholder," ")}}function Ie(n,i){if(1&n&&(e.I0R(0,"span",null,14),e._Xx(2),e.C$Y(),e.yuY(3,ye,2,1,"ng-container",15)),2&n){const t=e.Gew(1);e.yG2(3),e.E7m("ngIf",!t.hasChildNodes())}}function Ge(n,i){1&n&&(e.SAx(0),e.aS0(1,19),e.k70())}function he(n,i){if(1&n&&(e.I0R(0,"span"),e.OEk(1),e.C$Y()),2&n){const t=e.GaO(2);e.yG2(),e.cNF(t.emptyContentString())}}function ve(n,i){1&n&&e.C_f(0)}function $e(n,i){if(1&n&&(e.SAx(0),e.yuY(1,ve,1,0,"ng-container",8),e.k70()),2&n){const t=e.GaO(4);e.yG2(),e.E7m("ngTemplateOutlet",t.emptyContentTemplate())}}function xe(n,i){if(1&n&&(e.SAx(0),e.yuY(1,$e,2,1,"ng-container",20),e.k70()),2&n){e.GaO(2);const t=e.Gew(6),o=e.GaO();e.yG2(),e.E7m("ngIf",o.emptyContentTemplate())("ngIfElse",t)}}function De(n,i){if(1&n&&(e.SAx(0),e.yuY(1,xe,2,2,"ng-container",20),e.k70()),2&n){e.GaO();const t=e.Gew(4),o=e.GaO();e.yG2(),e.E7m("ngIf",o.emptyContent$())("ngIfElse",t)}}function Le(n,i){if(1&n&&(e.I0R(0,"span",null,16),e._Xx(2,1),e.C$Y(),e.yuY(3,Ge,2,0,"ng-template",null,17,e.gJz)(5,he,2,1,"ng-template",null,18,e.gJz)(7,De,2,2,"ng-container",15)),2&n){const t=e.Gew(1);e.yG2(7),e.E7m("ngIf",!t.hasChildNodes())}}function Ye(n,i){1&n&&e.wR5(0,"tui-loader")}function Ue(n,i){1&n&&e.C_f(0)}function Fe(n,i){if(1&n&&e.yuY(0,Ue,1,0,"ng-container",8),2&n){e.GaO(2);const t=e.Gew(9);e.E7m("ngTemplateOutlet",t)}}function be(n,i){1&n&&e.C_f(0)}function ze(n,i){if(1&n&&(e.SAx(0),e.yuY(1,be,1,0,"ng-container",8),e.k70()),2&n){e.GaO(2);const t=e.Gew(11);e.yG2(),e.E7m("ngTemplateOutlet",t)}}function Ve(n,i){if(1&n&&e.yuY(0,Fe,1,1,"ng-template",null,21,e.gJz)(2,ze,2,1,"ng-container",20),2&n){const t=e.Gew(1),o=e.GaO();e.yG2(2),e.E7m("ngIf",o.loading())("ngIfElse",t)}}function Be(n,i){1&n&&e.C_f(0)}function we(n,i){1&n&&e.C_f(0)}function ke(n,i){1&n&&e.C_f(0)}function Xe(n,i){if(1&n&&(e.SAx(0),e.yuY(1,ke,1,0,"ng-container",8),e.k70()),2&n){e.GaO(4);const t=e.Gew(11);e.yG2(),e.E7m("ngTemplateOutlet",t)}}function Ke(n,i){1&n&&e.C_f(0)}function We(n,i){if(1&n){const t=e.KQA();e.I0R(0,"button",28)(1,"span",29),e.qCj("click",function(){e.usT(t);const l=e.GaO(4);return e.CGJ(l.loadMoreItems())}),e.yuY(2,Ke,1,0,"ng-container",20),e.C$Y()()}if(2&n){const t=e.GaO(4),o=e.Gew(1);e.E7m("size",t.optionSize)("disabled",!0),e.yG2(2),e.E7m("ngIf",t.loadMore)("ngIfElse",o)}}function Je(n,i){if(1&n&&(e.SAx(0),e.yuY(1,Xe,2,1,"ng-container",15)(2,We,3,4,"button",27),e.k70()),2&n){const t=e.GaO(3);e.yG2(),e.E7m("ngIf",t.loading),e.yG2(),e.E7m("ngIf",!t.loading)}}const Qe=n=>({$implicit:n});function He(n,i){if(1&n){const t=e.KQA();e.SAx(0),e.I0R(1,"button",25),e.qCj("mouseenter",function(){const l=e.usT(t),p=l.index,m=l.last,P=e.GaO(2);return e.CGJ(P.optionMouseEnter(p,m))})("focus",function(){const l=e.usT(t),p=l.index,m=l.last,P=e.GaO(2);return e.CGJ(P.optionFocus(p,m))}),e.yuY(2,we,1,0,"ng-container",26),e.C$Y(),e.yuY(3,Je,3,2,"ng-container",15),e.k70()}if(2&n){const t=i.$implicit,o=i.last,l=e.GaO(2),p=e.Gew(5);e.yG2(),e.E7m("size",l.optionSize)("value",t)("disabled",l.disabledItemHandler(t)),e.yG2(),e.E7m("ngTemplateOutlet",p)("ngTemplateOutletContext",e.S45(6,Qe,t)),e.yG2(),e.E7m("ngIf",o&&l.thereAreMoreItems)}}function je(n,i){if(1&n){const t=e.KQA();e.I0R(0,"span",33),e.qCj("click",function(){e.usT(t);const l=e.GaO(3);return e.CGJ(l.createNew.emit())}),e.I0R(1,"mat-icon"),e.OEk(2,"add"),e.C$Y(),e.I0R(3,"span"),e.aS0(4,34),e.C$Y()()}}function Ze(n,i){if(1&n&&(e.I0R(0,"button",30)(1,"span",null,31),e._Xx(3,2),e.C$Y(),e.yuY(4,je,5,0,"span",32),e.C$Y()),2&n){const t=e.Gew(2),o=e.GaO(2);e.E7m("size",o.optionSize)("value",null)("disabled",!0),e.yG2(4),e.E7m("ngIf",!t.hasChildNodes())}}function qe(n,i){if(1&n&&(e.I0R(0,"tui-data-list",22),e.yuY(1,He,4,8,"ng-container",23)(2,Ze,5,4,"button",24),e.C$Y()),2&n){const t=e.GaO(),o=e.Gew(13);e.E7m("emptyContent",o),e.yG2(),e.E7m("ngForOf",t.items()),e.yG2(),e.E7m("ngIf",t.showCreateNew)}}const et=["*",[["","empty-content",""]],[["","create-new",""]]],tt=["*","[empty-content]","[create-new]"];let nt=(()=>{class n extends te.m{constructor(){super(),this.stringify=t=>t.name??"",this.service=(0,e.uUt)(z.W),this.nativeOptionTemplate$.set(new L.WO(ae))}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-table-type-select"]],inputs:{outputType:"outputType",multiple:"multiple",service:"service",stringify:"stringify",query:"query",autofocus:"autofocus",placeholder:"placeholder",optionTemplate:"optionTemplate",stringifyOption:"stringifyOption",inputSize:"inputSize",page:"page",per_page:"per_page",optionSize:"optionSize",disabledItemHandler:"disabledItemHandler",loadMoreOnLastItem:"loadMoreOnLastItem",emptyContent:"emptyContent",showCreateNew:"showCreateNew",nativeOptionTemplate:"nativeOptionTemplate",filters:"filters",showCleaner:"showCleaner"},outputs:{httpError:"httpError",pageChange:"pageChange",queryChange:"queryChange",per_pageChange:"per_pageChange",createNew:"createNew"},standalone:!0,features:[e.M5G([{provide:a.Y6,useExisting:(0,e.wd)(()=>n),multi:!0},c.UF]),e.eg9,e.UHJ],ngContentSelectors:tt,decls:17,vars:6,consts:()=>{let t,o,l;return t="Carica altri",o="Non abbiamo trovato nulla.",l="Crea nuovo",[["loadMoreDefault",""],["valueContent",""],["nativeOptionTemplate",""],["placeholderTemplate",""],["nativeEmptyContentTemplate",""],["loadingTemplate",""],["loadingOrEmptyContent",""],[3,"tuiTextfieldCleaner","stringify","tuiTextfieldSize","formControl","valueContent","searchChange"],[4,"ngTemplateOutlet"],[3,"emptyContent",4,"tuiDataList"],t,[4,"polymorpheusOutlet"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"innerText"],["customContent",""],[4,"ngIf"],["customEmptyContent",""],["defaultEmptyContent",""],["emptyContentCustomString",""],o,[4,"ngIf","ngIfElse"],["empty",""],[3,"emptyContent"],[4,"ngFor","ngForOf"],["tuiOption","",3,"size","value","disabled",4,"ngIf"],["tuiOption","",3,"size","value","disabled","mouseenter","focus"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tuiOption","",3,"size","disabled",4,"ngIf"],["tuiOption","",3,"size","disabled"],["role","button",3,"click"],["tuiOption","",3,"size","value","disabled"],["createNewCustomTemplate",""],["role","button","class","d-flex align-items-center",3,"click",4,"ngIf"],["role","button",1,"d-flex","align-items-center",3,"click"],l]},template:function(o,l){if(1&o&&(e.kPM(et),e.yuY(0,ce,2,0,"ng-template",null,0,e.gJz)(2,Ce,4,1,"ng-template",null,1,e.gJz)(4,Ae,4,1,"ng-template",null,2,e.gJz)(6,Ie,4,1,"ng-template",null,3,e.gJz)(8,Le,8,1,"ng-template",null,4,e.gJz)(10,Ye,1,0,"ng-template",null,5,e.gJz)(12,Ve,3,2,"ng-template",null,6,e.gJz),e.I0R(14,"tui-combo-box",7),e.qCj("searchChange",function(m){return l.onSearchChange(m)}),e.yuY(15,Be,1,0,"ng-container",8)(16,qe,3,3,"tui-data-list",9),e.C$Y()),2&o){const p=e.Gew(3),m=e.Gew(7);e.yG2(14),e.E7m("tuiTextfieldCleaner",l.showCleaner)("stringify",l.stringify)("tuiTextfieldSize",l.inputSize)("formControl",l.control)("valueContent",p),e.yG2(),e.E7m("ngTemplateOutlet",m)}},dependencies:[x.MD,x.ay,x.u_,x.XV,F.uk,F.i_,F.qI,u.aS,u.es,u.rD,U.KA,R.CQ,O.A$,O.yi,O.sP,O.Ux,Y.q8,a.sl,a.ue,a.ug,se.kR,re.CA,V.Sk,V.Cb,L.Ux,L.Af,B.oB,B.qL],changeDetection:0})}return n})();const ot=()=>[];function _t(n,i){if(1&n){const t=e.KQA();e.I0R(0,"form",3),e.wR5(1,"app-show-image",4),e.I0R(2,"div",5)(3,"p",6),e.OEk(4),e.C$Y(),e.I0R(5,"div",7)(6,"tui-input",8),e.SAx(7),e.aS0(8,9),e.k70(),e.C$Y(),e.wR5(9,"app-errors",10),e.C$Y(),e.I0R(10,"div",7)(11,"tui-input",0),e.SAx(12),e.aS0(13,11),e.k70(),e.C$Y(),e.wR5(14,"app-errors",10),e.C$Y(),e.I0R(15,"div",7)(16,"button",12),e.qCj("click",function(){e.usT(t);const l=e.GaO().$index,p=e.GaO();return e.CGJ(p.removeAt(l))}),e.SAx(17),e.aS0(18,13),e.k70(),e.C$Y()()()()}if(2&n){const t=e.GaO().$implicit,o=e.GaO();e.E7m("formGroup",t),e.yG2(),e.E7m("image",(o.tableTypeByIds()[t.value.table_type_id].images||e.q4q(8,ot))[0]),e.yG2(3),e.oRS(" ",o.tableTypeByIds()[t.value.table_type_id].name," "),e.yG2(2),e.E7m("tuiTextfieldPrefix","\u20ac")("formControl",t.controls.price),e.yG2(3),e.E7m("errors",t.controls.price.errors),e.yG2(2),e.E7m("formControl",t.controls.people_per_turn),e.yG2(3),e.E7m("errors",t.controls.people_per_turn.errors)}}function it(n,i){1&n&&e.yuY(0,_t,19,9,"form",2),2&n&&e.C0Y(0,i.$implicit.value.table_type_id?0:-1)}let lt=(()=>{class n{constructor(){this.addTable=new a.Ku(null),this.forms=new a.Sg([]),this.tableTypeByIds=(0,e.OCB)({}),this.tableTypes=(0,e.uUt)(z.W)}ngOnInit(){this.tableTypes.search({per_page:1e3}).subscribe(t=>{const o={};t.items.forEach(l=>{l.id&&(o[l.id]=l)}),this.tableTypeByIds.set(o)}),this.addTable.valueChanges.subscribe(t=>{t&&t.id&&(this.addRow({table_type_id:t.id,price:t.default_price,people_per_turn:t.default_people_per_turn}),this.addTable.reset())})}writeValue(t){this.forms.clear(),t&&Array.isArray(t)&&t.forEach(o=>{this.addRow(o)})}registerOnChange(t){this.forms.valueChanges.subscribe(t)}registerOnTouched(t){this.forms.valueChanges.subscribe(t)}setDisabledState(t){t?this.forms.disable():this.forms.enable()}removeAt(t){this.forms.removeAt(t)}addRow(t){this.forms.push(new a.WC({table_type_id:new a.Ku(t.table_type_id),price:new a.Ku(t.price||0),people_per_turn:new a.Ku(t.people_per_turn||0)}))}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-table-type-to-preorder-reservation-group-input"]],standalone:!0,features:[e.M5G([c.UF,{provide:a.Y6,useExisting:n,multi:!0}]),e.UHJ],decls:5,vars:1,consts:()=>{let t,o,l,p;return t="Aggiungi tavolo",o="Prezzo per persona",l="Ospiti per turno",p="Rimuovi",[[3,"formControl"],t,["class","flex items-center",3,"formGroup"],[1,"flex","items-center",3,"formGroup"],[1,"max-w-[300px]",3,"image"],[1,"block","p-4"],[1,"block","text-lg"],[1,"block","mb-2"],[3,"tuiTextfieldPrefix","formControl"],o,[3,"errors"],l,["type","button","tuiButton","","appearance","secondary-destructive",3,"click"],p]},template:function(o,l){1&o&&(e.c53(0,it,1,1,null,null,e.oxv),e.I0R(2,"app-table-type-select",0),e.SAx(3),e.aS0(4,1),e.k70(),e.C$Y()),2&o&&(e.oho(l.forms.controls),e.yG2(2),e.E7m("formControl",l.addTable))},dependencies:[f.CI,f.Kw,a.sl,a.sz,a.ue,a.u,a.ug,a.uW,R.CQ,R.Oo,R.cP,u.aS,u.Id,U.KA,nt,b.y,y.g],encapsulation:2,changeDetection:0})}return n})(),at=(()=>{class n{constructor(){this.destroy$=(0,e.uUt)(c.UF),this.router=(0,e.uUt)(E.E5),this.route=(0,e.uUt)(E.gV),this.submit=new e._w7,this.disabled=(0,e.OCB)(!1),this.form=new a.WC({title:new a.Ku("Pagamento alla prenotazione richiesto " + Date.now() + "",[a.AQ.required]),active:new a.Ku(!0,[a.AQ.required,a.AQ.pattern(/^(true|false)$/)]),payment_value:new a.Ku(null,[a.AQ.required]),message:new a.Ku(null,[]),preorder_type:new a.Ku(null,[a.AQ.required]),table_types:new a.Ku(null,[])}),this.submitted=!1,this._item=null,this.cases=(0,e.OCB)(null),this.e=this.errorsForControl}set item(t){if(!(t instanceof v.u))return console.warn("PreorderReservationGroupFormComponent: value is blank or invalid",t),this.form.reset(),void(this._item=null);this._item=t,this.form.patchValue({payment_value:t.payment_value??null,title:t.title??null,active:"active"===t.status,message:t.translations?.message||{},preorder_type:t.preorder_type,table_types:t.table_type_to_preorder_reservation_groups??[]})}get item(){return this._item}errorsForControl(t){const o=this.form.get(t);return o&&(this.submitted||o.touched)?o.errors??null:null}cancel(){this.router.navigate(["../"],{relativeTo:this.route})}formSubmit(){if(this.submitted=!0,this.form.invalid)return;const t={...this.form.value,...this.cases()??{}};t.status=t.active?"active":"inactive",delete t.active,this.submit.emit(t)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-preorder-reservation-group-form"]],inputs:{item:"item"},outputs:{submit:"submit"},standalone:!0,features:[e.M5G([c.UF]),e.UHJ],decls:45,vars:15,consts:()=>{let t,o,l,p,m,P,X,K,W,J;return t="Titolo: visibile solo a te",o="Tipologia di pagamento",l="Valore pagamento",p="Messaggio per i clienti che cercano di prenotare",m="Attivazione",P="Richiedere il pagamento?",X="Tipologie di tavolo abilitate",K="Quando sono richiesti pagamenti?",W="Conferma",J="Annulla",[[3,"formGroup","ngSubmit"],[1,"block","mb-3"],["formControlName","title",3,"tuiAutoFocus"],t,[3,"errors"],[1,"block",3,"formControl"],o,[3,"formControlName","tuiTextfieldPrefix"],l,["tuiTextfield",""],[3,"long","formControlName"],p,[1,"text-xl"],m,["contentAlign","right","formControlName","active","size","l"],P,[1,"mb-3","text-2xl"],X,[3,"formControl"],K,[1,"block","mb-3",3,"item","editable","outputMamiChanges"],[1,"flex","items-center"],["type","submit","tuiButton","","appearance","primary"],W,["tuiButton","","appearance","icon","type","button",3,"click"],J]},template:function(o,l){1&o&&(e.I0R(0,"form",0),e.qCj("ngSubmit",function(){return l.formSubmit()}),e.I0R(1,"div",1)(2,"tui-input",2),e.SAx(3),e.aS0(4,3),e.k70(),e.C$Y(),e.wR5(5,"app-errors",4),e.C$Y(),e.I0R(6,"div",1)(7,"app-select-preorder-type",5),e.SAx(8),e.aS0(9,6),e.k70(),e.C$Y(),e.wR5(10,"app-errors",4),e.C$Y(),e.I0R(11,"div",1)(12,"tui-input-number",7),e.SAx(13),e.aS0(14,8),e.k70(),e.wR5(15,"input",9),e.C$Y(),e.wR5(16,"app-errors",4),e.C$Y(),e.I0R(17,"div",1)(18,"app-i18n-input",10),e.SAx(19),e.aS0(20,11),e.k70(),e.C$Y(),e.wR5(21,"app-errors",4),e.C$Y(),e.I0R(22,"div",1)(23,"p",12),e.SAx(24),e.aS0(25,13),e.k70(),e.C$Y(),e.I0R(26,"tui-checkbox-block",14),e.SAx(27),e.aS0(28,15),e.k70(),e.C$Y(),e.wR5(29,"app-errors",4),e.C$Y(),e.I0R(30,"h2",16),e.aS0(31,17),e.C$Y(),e.I0R(32,"div",1),e.wR5(33,"app-table-type-to-preorder-reservation-group-input",18),e.C$Y(),e.I0R(34,"h2",16),e.aS0(35,19),e.C$Y(),e.I0R(36,"div",1)(37,"app-select-turns-paymentv2",20),e.qCj("outputMamiChanges",function(m){return l.cases.set(m)}),e.C$Y()(),e.I0R(38,"div",21)(39,"button",22),e.SAx(40),e.aS0(41,23),e.k70(),e.C$Y(),e.I0R(42,"button",24),e.qCj("click",function(){return l.cancel()}),e.SAx(43),e.aS0(44,25),e.k70(),e.C$Y()()()),2&o&&(e.E7m("formGroup",l.form),e.yG2(2),e.E7m("tuiAutoFocus",!0),e.yG2(3),e.E7m("errors",l.e("title")),e.yG2(2),e.E7m("formControl",l.form.controls.preorder_type),e.yG2(3),e.E7m("errors",l.e("preorder_type")),e.yG2(2),e.E7m("formControlName","payment_value")("tuiTextfieldPrefix","\u20ac"),e.yG2(4),e.E7m("errors",l.e("payment_value")),e.yG2(2),e.E7m("long",!1)("formControlName","message"),e.yG2(3),e.E7m("errors",l.e("message")),e.yG2(8),e.E7m("errors",l.e("active")),e.yG2(4),e.E7m("formControl",l.form.controls.table_types),e.yG2(4),e.E7m("item",l.item)("editable",!0))},dependencies:[a.y,a.sz,a.ue,a.u,a.sl,a.ug,a.uW,a.Wo,f.CI,f.Kw,R.CQ,R.Oo,R.cP,U.b,h.Y3,N.my,O.A$,d.m6,d.gJ,y.g,$.Q7,$.mi,$.Qj,u.aS,u.Id,S.WY,g.i,g.I,C.kh,A.iO,I.t,r.w,ee,lt],changeDetection:0})}return n})()},1292:(D,T,_)=>{_.d(T,{S:()=>e});const e={it:"Italiano",en:"Inglese",es:"Spagnolo",fr:"Francese",de:"Tedesco",pt:"Portoghese",ru:"Russo",zh:"Cinese",ja:"Giapponese",ar:"Arabo",hi:"Hindi",bn:"Bengalese",pa:"Punjabi",ms:"Malese"}},1200:(D,T,_)=>{_.d(T,{A:()=>f,m:()=>O});var e=_(4496),a=_(900),c=_(3480),d=_(800),v=_(3616);let f=(()=>{class u{constructor(C,R,h){this.el=C,this.zone=R,this.destroy$=h,this.eventName=""}ngOnInit(){(0,d.w)(this.el.nativeElement,this.eventName,{passive:!1}).pipe((0,a.Uv)(this.zone),(0,a.uy)(),(0,v.a)(this.destroy$)).subscribe()}}return u.\u0275fac=function(C){return new(C||u)(e.GI1(e.GMv),e.GI1(e.WW2),e.GI1(c.UF,2))},u.\u0275dir=e.Sc5({type:u,selectors:[["","tuiPreventDefault",""]],inputs:{eventName:[e.Wk5.None,"tuiPreventDefault","eventName"]},features:[e.M5G([c.UF])]}),u})(),O=(()=>{class u{}return u.\u0275fac=function(C){return new(C||u)},u.\u0275mod=e.a4G({type:u}),u.\u0275inj=e.s3X({}),u})()},812:(D,T,_)=>{_.d(T,{m2:()=>h,mU:()=>u,qS:()=>d,w3:()=>N}),_(4392);var a=_(2528);_(3840);const d={DMY:"dd/mm/yyyy",MDY:"mm/dd/yyyy",YMD:"yyyy/mm/dd"},u=/\([#]+\)|[#\- ]/g,h=(g,A,y,E)=>{if(!A?.isSingleDay||!y)return g;const I=(0,a.Kw)(Object.entries(y).map(([s,G])=>[s,-G])),r=A.from.append(E?I:y).append({day:E?1:-1});return E?r.dayBefore(g)?g:r:g&&r.dayAfter(g)?g:r},N={HH:23,MM:59,SS:59,MS:999}}}]);