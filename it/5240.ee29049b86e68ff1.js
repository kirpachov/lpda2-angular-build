(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[5240],{55240:($,c,e)=>{"use strict";e.r(c),e.d(c,{NewModule:()=>S});var l=e(31236),h=e(7552),t=e(54496),u=e(94640),d=e(83480),m=e(87556),v=e(1128),N=e(53616),g=e(68824),p=e(38256),f=e(97048),C=e(48392),E=e(14476),a=e(76592);let T=(()=>{class o{constructor(){this.destroy$=(0,t.uUt)(d.UF),this.service=(0,t.uUt)(m.K),this.notifications=(0,t.uUt)(v.E),this.router=(0,t.uUt)(l.E5),this.route=(0,t.uUt)(l.gV),this._=(0,t.uUt)(E.OY).setTitle(a.$localize`Nuovo turno di prenotazioni | La Porta D'Acqua`),this.loading=(0,t.OCB)(!1)}create(i){this.loading()||(this.loading.set(!0),this.service.create(i).pipe((0,N.a)(this.destroy$),(0,g.U)(()=>this.loading.set(!1))).subscribe({next:()=>{this.notifications.fireSnackBar(a.$localize`Turno creato.`),this.close()},error:n=>{this.form&&n instanceof f.gj?this.form.manageHttpError(n):(console.error(n),this.notifications.error(n instanceof f.gj?(0,p.mk)(n):C.a))}}))}cancel(){confirm(a.$localize`Sei sicuro di voler annullare?`)&&this.close()}close(){this.router.navigate(["../"],{relativeTo:this.route})}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-new"]],viewQuery:function(n,s){if(1&n&&t.CC$(u.q,5),2&n){let r;t.wto(r=t.Gqi())&&(s.form=r.first)}},standalone:!0,features:[t.M5G([d.UF]),t.UHJ],decls:3,vars:2,consts:()=>{let i;return i=a.$localize`Nuovo turno di prenotazione`,[i,[3,"loading","context","submitted","cancelled"]]},template:function(n,s){1&n&&(t.I0R(0,"h1"),t.aS0(1,0),t.C$Y(),t.I0R(2,"app-reservation-turn-form",1),t.qCj("submitted",function(U){return s.create(U)})("cancelled",function(){return s.cancel()}),t.C$Y()),2&n&&(t.yG2(2),t.E7m("loading",s.loading())("context","create"))},dependencies:[u.q],encapsulation:2,changeDetection:0})}return o})(),S=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.a4G({type:o});static#n=this.\u0275inj=t.s3X({imports:[l.qQ.forChild([(0,h.VV)(T,{path:"",closeable:!0,dismissible:!0,size:"l"})])]})}return o})()},76592:()=>{}}]);