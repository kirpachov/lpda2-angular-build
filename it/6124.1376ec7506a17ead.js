"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[6124],{2368:(h,f,a)=>{a.d(f,{a:()=>It});var t=a(4496),g=a(6504),C=a(3480),u=a(580),E=a(1712),i=a(1040),m=a(5820),c=a(9052);const s=()=>[];function r(e,_){if(1&e&&(t.I0R(0,"div",1),t.wR5(1,"app-show-image",2),t.I0R(2,"span",3),t.OEk(3),t.C$Y(),t.I0R(4,"span",4),t.OEk(5),t.C$Y()()),2&e){const n=t.GaO();let o,l,p;t.yG2(),t.E7m("image",(null!==(o=null==(o=n.item())?null:o.images)&&void 0!==o?o:t.q4q(3,s))[0]),t.yG2(2),t.oRS(" #",null==(l=n.item())?null:l.id," "),t.yG2(2),t.oRS(" ",null==(p=n.item())?null:p.name," ")}}function d(e,_){1&e&&t.OEk(0," invalid input.\n")}let T=(()=>{class e{constructor(n){this.context=n,this.item=(0,t.OCB)(null);const o=n.data;o&&o instanceof m.Q?this.item.set(o):console.warn("invalid category. Please provide parm 'data' to context.",o)}static#t=this.\u0275fac=function(o){return new(o||e)(t.GI1(i.C0))};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-menu-category-select-option"]],standalone:!0,features:[t.UHJ],decls:2,vars:1,consts:[["class","flex items-center p-2"],[1,"flex","items-center","p-2"],[1,"max-h-[100px]","max-w-[100px]",3,"image"],[1,"ms-2","text-slate-400"],[1,"ms-2","text-lg"]],template:function(o,l){1&o&&t.yuY(0,r,6,4,"div",0)(1,d,1,0),2&o&&t.C0Y(0,l.item()?0:1)},dependencies:[c.y],encapsulation:2,changeDetection:0})}return e})();var O=a(1368),x=a(6096),Y=a(3797),R=a(6052),A=a(9604),M=a(8048),b=a(7936),S=a(4336),v=a(7692),w=a(6732),I=a(1560);function L(e,_){1&e&&(t.SAx(0),t.aS0(1,10),t.k70())}function D(e,_){if(1&e&&(t.SAx(0),t.OEk(1),t.k70()),2&e){const n=_.polymorpheusOutlet;t.yG2(),t.oRS(" ",n," ")}}function z(e,_){if(1&e&&t.yuY(0,D,2,1,"ng-container",11),2&e){const n=t.GaO(2);t.E7m("polymorpheusOutlet",n.optionTemplate$())}}function k(e,_){1&e&&t.C_f(0)}const $=(e,_)=>({$implicit:e,injector:_});function P(e,_){if(1&e&&t.yuY(0,k,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("polymorpheusOutlet",o.optionTemplate$())("polymorpheusOutletContext",t.IBC(2,$,n,o.injector))}}function U(e,_){1&e&&t.C_f(0)}const N=e=>({data:e});function J(e,_){if(1&e&&t.yuY(0,U,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("polymorpheusOutlet",o.optionTemplate$())("polymorpheusOutletContext",t.S45(2,N,n))}}function F(e,_){if(1&e&&t.wR5(0,"div",13),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("innerText",o.stringify(n))}}function j(e,_){if(1&e&&t.yuY(0,z,1,1)(1,P,1,5)(2,J,1,4)(3,F,1,1),2&e){const n=t.GaO();let o;t.C0Y(0,"text"===(o=n.optionTemplateType$())?0:"template"===o?1:"component"===o?2:3)}}function X(e,_){if(1&e&&(t.SAx(0),t.OEk(1),t.k70()),2&e){const n=_.polymorpheusOutlet;t.yG2(),t.oRS(" ",n," ")}}function B(e,_){if(1&e&&t.yuY(0,X,2,1,"ng-container",11),2&e){const n=t.GaO(2);t.E7m("polymorpheusOutlet",n.nativeOptionTemplate$())}}function K(e,_){1&e&&t.C_f(0)}function Q(e,_){if(1&e&&t.yuY(0,K,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("polymorpheusOutlet",o.nativeOptionTemplate$())("polymorpheusOutletContext",t.IBC(2,$,n,o.injector))}}function W(e,_){1&e&&t.C_f(0)}function H(e,_){if(1&e&&t.yuY(0,W,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("polymorpheusOutlet",o.nativeOptionTemplate$())("polymorpheusOutletContext",t.S45(2,N,n))}}function V(e,_){if(1&e&&t.wR5(0,"div",13),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("innerText",o.stringify(n))}}function Z(e,_){if(1&e&&t.yuY(0,B,1,1)(1,Q,1,5)(2,H,1,4)(3,V,1,1),2&e){const n=t.GaO();let o;t.C0Y(0,"text"===(o=n.nativeOptionTemplateType$())?0:"template"===o?1:"component"===o?2:3)}}function q(e,_){if(1&e&&(t.SAx(0),t.OEk(1),t.k70()),2&e){const n=t.GaO(2);t.yG2(),t.oRS(" ",n.placeholder," ")}}function tt(e,_){if(1&e&&(t.I0R(0,"span",null,14),t._Xx(2),t.C$Y(),t.yuY(3,q,2,1,"ng-container",15)),2&e){const n=t.Gew(1);t.yG2(3),t.E7m("ngIf",!n.hasChildNodes())}}function et(e,_){1&e&&(t.SAx(0),t.aS0(1,19),t.k70())}function nt(e,_){if(1&e&&(t.I0R(0,"span"),t.OEk(1),t.C$Y()),2&e){const n=t.GaO(2);t.yG2(),t.cNF(n.emptyContentString())}}function ot(e,_){1&e&&t.C_f(0)}function it(e,_){if(1&e&&(t.SAx(0),t.yuY(1,ot,1,0,"ng-container",8),t.k70()),2&e){const n=t.GaO(4);t.yG2(),t.E7m("ngTemplateOutlet",n.emptyContentTemplate())}}function _t(e,_){if(1&e&&(t.SAx(0),t.yuY(1,it,2,1,"ng-container",20),t.k70()),2&e){t.GaO(2);const n=t.Gew(6),o=t.GaO();t.yG2(),t.E7m("ngIf",o.emptyContentTemplate())("ngIfElse",n)}}function at(e,_){if(1&e&&(t.SAx(0),t.yuY(1,_t,2,2,"ng-container",20),t.k70()),2&e){t.GaO();const n=t.Gew(4),o=t.GaO();t.yG2(),t.E7m("ngIf",o.emptyContent$())("ngIfElse",n)}}function lt(e,_){if(1&e&&(t.I0R(0,"span",null,16),t._Xx(2,1),t.C$Y(),t.yuY(3,et,2,0,"ng-template",null,17,t.gJz)(5,nt,2,1,"ng-template",null,18,t.gJz)(7,at,2,2,"ng-container",15)),2&e){const n=t.Gew(1);t.yG2(7),t.E7m("ngIf",!n.hasChildNodes())}}function ct(e,_){1&e&&t.wR5(0,"tui-loader")}function st(e,_){1&e&&t.C_f(0)}function rt(e,_){if(1&e&&t.yuY(0,st,1,0,"ng-container",8),2&e){t.GaO(2);const n=t.Gew(9);t.E7m("ngTemplateOutlet",n)}}function pt(e,_){1&e&&t.C_f(0)}function ut(e,_){if(1&e&&(t.SAx(0),t.yuY(1,pt,1,0,"ng-container",8),t.k70()),2&e){t.GaO(2);const n=t.Gew(11);t.yG2(),t.E7m("ngTemplateOutlet",n)}}function mt(e,_){if(1&e&&t.yuY(0,rt,1,1,"ng-template",null,21,t.gJz)(2,ut,2,1,"ng-container",20),2&e){const n=t.Gew(1),o=t.GaO();t.yG2(2),t.E7m("ngIf",o.loading())("ngIfElse",n)}}function gt(e,_){1&e&&t.C_f(0)}function Ct(e,_){1&e&&t.C_f(0)}function ft(e,_){1&e&&t.C_f(0)}function yt(e,_){if(1&e&&(t.SAx(0),t.yuY(1,ft,1,0,"ng-container",8),t.k70()),2&e){t.GaO(4);const n=t.Gew(11);t.yG2(),t.E7m("ngTemplateOutlet",n)}}function dt(e,_){1&e&&t.C_f(0)}function Et(e,_){if(1&e){const n=t.KQA();t.I0R(0,"button",28)(1,"span",29),t.qCj("click",function(){t.usT(n);const l=t.GaO(4);return t.CGJ(l.loadMoreItems())}),t.yuY(2,dt,1,0,"ng-container",20),t.C$Y()()}if(2&e){const n=t.GaO(4),o=t.Gew(1);t.E7m("size",n.optionSize)("disabled",!0),t.yG2(2),t.E7m("ngIf",n.loadMore)("ngIfElse",o)}}function Tt(e,_){if(1&e&&(t.SAx(0),t.yuY(1,yt,2,1,"ng-container",15)(2,Et,3,4,"button",27),t.k70()),2&e){const n=t.GaO(3);t.yG2(),t.E7m("ngIf",n.loading),t.yG2(),t.E7m("ngIf",!n.loading)}}const Ot=e=>({$implicit:e});function St(e,_){if(1&e){const n=t.KQA();t.SAx(0),t.I0R(1,"button",25),t.qCj("mouseenter",function(){const l=t.usT(n),p=l.index,y=l.last,G=t.GaO(2);return t.CGJ(G.optionMouseEnter(p,y))})("focus",function(){const l=t.usT(n),p=l.index,y=l.last,G=t.GaO(2);return t.CGJ(G.optionFocus(p,y))}),t.yuY(2,Ct,1,0,"ng-container",26),t.C$Y(),t.yuY(3,Tt,3,2,"ng-container",15),t.k70()}if(2&e){const n=_.$implicit,o=_.last,l=t.GaO(2),p=t.Gew(5);t.yG2(),t.E7m("size",l.optionSize)("value",n)("disabled",l.disabledItemHandler(n)),t.yG2(),t.E7m("ngTemplateOutlet",p)("ngTemplateOutletContext",t.S45(6,Ot,n)),t.yG2(),t.E7m("ngIf",o&&l.thereAreMoreItems)}}function ht(e,_){if(1&e){const n=t.KQA();t.I0R(0,"span",33),t.qCj("click",function(){t.usT(n);const l=t.GaO(3);return t.CGJ(l.createNew.emit())}),t.I0R(1,"mat-icon"),t.OEk(2,"add"),t.C$Y(),t.I0R(3,"span"),t.aS0(4,34),t.C$Y()()}}function xt(e,_){if(1&e&&(t.I0R(0,"button",30)(1,"span",null,31),t._Xx(3,2),t.C$Y(),t.yuY(4,ht,5,0,"span",32),t.C$Y()),2&e){const n=t.Gew(2),o=t.GaO(2);t.E7m("size",o.optionSize)("value",null)("disabled",!0),t.yG2(4),t.E7m("ngIf",!n.hasChildNodes())}}function Mt(e,_){if(1&e&&(t.I0R(0,"tui-data-list",22),t.yuY(1,St,4,8,"ng-container",23)(2,xt,5,4,"button",24),t.C$Y()),2&e){const n=t.GaO(),o=t.Gew(13);t.E7m("emptyContent",o),t.yG2(),t.E7m("ngForOf",n.items()),t.yG2(),t.E7m("ngIf",n.showCreateNew)}}const Gt=["*",[["","empty-content",""]],[["","create-new",""]]],vt=["*","[empty-content]","[create-new]"];let It=(()=>{class e extends u.m{constructor(){super(),this.stringify=n=>n.name??"",this.service=(0,t.uUt)(E.S),this.nativeOptionTemplate$.set(new i.WO(T))}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-menu-category-select"]],inputs:{outputType:"outputType",service:"service",stringify:"stringify",query:"query",autofocus:"autofocus",placeholder:"placeholder",optionTemplate:"optionTemplate",stringifyOption:"stringifyOption",inputSize:"inputSize",page:"page",per_page:"per_page",optionSize:"optionSize",disabledItemHandler:"disabledItemHandler",loadMoreOnLastItem:"loadMoreOnLastItem",emptyContent:"emptyContent",showCreateNew:"showCreateNew",nativeOptionTemplate:"nativeOptionTemplate",filters:"filters",showCleaner:"showCleaner"},outputs:{httpError:"httpError",pageChange:"pageChange",queryChange:"queryChange",per_pageChange:"per_pageChange",createNew:"createNew"},standalone:!0,features:[t.M5G([{provide:g.Y6,useExisting:(0,t.wd)(()=>e),multi:!0},C.UF]),t.eg9,t.UHJ],ngContentSelectors:vt,decls:17,vars:6,consts:()=>{let n,o,l;return n="Carica altri",o="Non abbiamo trovato nulla.",l="Crea nuovo",[["loadMoreDefault",""],["valueContent",""],["nativeOptionTemplate",""],["placeholderTemplate",""],["nativeEmptyContentTemplate",""],["loadingTemplate",""],["loadingOrEmptyContent",""],[3,"tuiTextfieldCleaner","stringify","tuiTextfieldSize","formControl","valueContent","searchChange"],[4,"ngTemplateOutlet"],[3,"emptyContent",4,"tuiDataList"],n,[4,"polymorpheusOutlet"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"innerText"],["customContent",""],[4,"ngIf"],["customEmptyContent",""],["defaultEmptyContent",""],["emptyContentCustomString",""],o,[4,"ngIf","ngIfElse"],["empty",""],[3,"emptyContent"],[4,"ngFor","ngForOf"],["tuiOption","",3,"size","value","disabled",4,"ngIf"],["tuiOption","",3,"size","value","disabled","mouseenter","focus"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tuiOption","",3,"size","disabled",4,"ngIf"],["tuiOption","",3,"size","disabled"],["role","button",3,"click"],["tuiOption","",3,"size","value","disabled"],["createNewCustomTemplate",""],["role","button","class","d-flex align-items-center",3,"click",4,"ngIf"],["role","button",1,"d-flex","align-items-center",3,"click"],l]},template:function(o,l){if(1&o&&(t.kPM(Gt),t.yuY(0,L,2,0,"ng-template",null,0,t.gJz)(2,j,4,1,"ng-template",null,1,t.gJz)(4,Z,4,1,"ng-template",null,2,t.gJz)(6,tt,4,1,"ng-template",null,3,t.gJz)(8,lt,8,1,"ng-template",null,4,t.gJz)(10,ct,1,0,"ng-template",null,5,t.gJz)(12,mt,3,2,"ng-template",null,6,t.gJz),t.I0R(14,"tui-combo-box",7),t.qCj("searchChange",function(y){return l.onSearchChange(y)}),t.yuY(15,gt,1,0,"ng-container",8)(16,Mt,3,3,"tui-data-list",9),t.C$Y()),2&o){const p=t.Gew(3),y=t.Gew(7);t.yG2(14),t.E7m("tuiTextfieldCleaner",l.showCleaner)("stringify",l.stringify)("tuiTextfieldSize",l.inputSize)("formControl",l.control)("valueContent",p),t.yG2(),t.E7m("ngTemplateOutlet",y)}},dependencies:[O.MD,O.ay,O.u_,O.XV,x.uk,x.i_,x.qI,M.aS,M.es,M.rD,b.KA,Y.CQ,S.A$,S.yi,S.sP,S.Ux,R.q8,g.sl,g.ue,g.ug,w.kR,A.CA,v.Sk,v.Cb,i.Ux,i.Af,I.oB,I.qL],changeDetection:0})}return e})()},5820:(h,f,a)=>{a.d(f,{Q:()=>u});var t=a(8400);class g extends t.w{constructor(i){super(i),this.public_visible=i.public_visible,this.public_from=i.public_from?new Date(i.public_from):void 0,this.public_to=i.public_to?new Date(i.public_to):void 0,this.private_visible=i.private_visible,this.daily_from=i.daily_from?new Date(i.daily_from):void 0,this.daily_to=i.daily_to?new Date(i.daily_to):void 0}}var C=a(2264);class u extends t.w{constructor(i){super(i),this.name=i.name,this.description=i.description,this.status=i.status,this.price=i.price,this.parent_id=i.parent_id,this.index=i.index,this.secret=i.secret,this.secret_desc=i.secret_desc,this.visibility_id=i.visibility_id,this.visibility=i.visibility?new g(i.visibility):void 0,this.parent=i.parent?new u(i.parent):void 0,this.children=i.children?i.children.map(m=>new u(m)):[],this.images=i.images?i.images.map(m=>new C.W(m)):[],this.translations=i.translations,this.public_visible=i.public_visible,this.stats=i.stats}}},9088:(h,f,a)=>{a.d(f,{S:()=>C});var t=a(4496);const g={menuCategory:{show:"/admin/menu/{itemId}",duplicate:"/admin/menu/{itemId}/duplicate",export:"/admin/menu/{itemId}/export",createChild:"/admin/menu/{itemId}/create-category",linkCategory:"/admin/menu/{itemId}/link-category",createDish:"/admin/menu/{itemId}/create-dish",linkDish:"/admin/menu/{itemId}/link-dish",private:"/menu/{itemId}",public:"/menu/{itemId}"},dish:{show:"/admin/menu/{categoryId}/dish/{itemId}"}};let C=(()=>{class u{transform(i,m){const c=g[m.split(".")[0]];if(!c)throw new Error(`Resource not found: ${m} (resouce: ${m.split(".")[0]})`);const s=m.split(".")[1];if(!c[s])throw new Error(`Action not found: ${m} (action: ${s})`);if(typeof i>"u"||null===i)return null;if("number"==typeof i&&(i=i.toString()),"object"==typeof i&&null!==i&&!Array.isArray(i)){let r=c[s];if(Object.keys(i).forEach(d=>{const T=i[d];void 0!==T&&r.includes(`{${d}}`)&&(r=r.replace(`{${d}}`,T??""))}),r.includes("{{"))throw new Error(`Unresolved interpolation: ${r}`);return r}if("string"!=typeof i)throw new Error(`Invalid itemId: ${i} (type: ${typeof i})`);return c[s].replace("{itemId}",i)}static#t=this.\u0275fac=function(m){return new(m||u)};static#e=this.\u0275pipe=t.UTH({name:"urlTo",type:u,pure:!0,standalone:!0})}return u})()},1712:(h,f,a)=>{a.d(f,{S:()=>E});var t=a(6012),g=a(5820),C=a(4704),u=a(4496);let E=(()=>{class i extends t.s{constructor(){super(g.Q,"admin/menu/categories")}addCategory(c,s,r={}){return this.post(`${c}/add_category/${s}`,r)}addDish(c,s){return this.post(`${c}/dishes/${s}`,{})}removeDish(c,s){return this.delete(`${c}/dishes/${s}`,{})}orderDishes(c,s){return this.patch(`${c}/order_dishes`,{field:s})}dashboardData(c){return this.get(`${c}/dashboard_data`)}updateVisibility(c,s){return this.patch(`${c}/visibility`,s).pipe((0,C.k)(r=>this.mapItem(r)))}copy(c,s){return this.post(`${c}/copy`,s).pipe((0,C.k)(r=>this.mapItem(r)))}move(c,s){return this.patch(`${c}/move/${s}`,{}).pipe((0,C.k)(r=>this.mapItem(r)))}static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275prov=u.wxM({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()}}]);