"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[1338],{1200:(G,w,r)=>{r.d(w,{A:()=>E,m:()=>D});var u=r(4496),t=r(900),s=r(3480),_=r(800),m=r(3616);let E=(()=>{class l{constructor(p,v,f){this.el=p,this.zone=v,this.destroy$=f,this.eventName=""}ngOnInit(){(0,_.w)(this.el.nativeElement,this.eventName,{passive:!1}).pipe((0,t.Uv)(this.zone),(0,t.uy)(),(0,m.a)(this.destroy$)).subscribe()}}return l.\u0275fac=function(p){return new(p||l)(u.GI1(u.GMv),u.GI1(u.WW2),u.GI1(s.UF,2))},l.\u0275dir=u.Sc5({type:l,selectors:[["","tuiPreventDefault",""]],inputs:{eventName:[u.Wk5.None,"tuiPreventDefault","eventName"]},features:[u.M5G([s.UF])]}),l})(),D=(()=>{class l{}return l.\u0275fac=function(p){return new(p||l)},l.\u0275mod=u.a4G({type:l}),l.\u0275inj=u.s3X({}),l})()},1338:(G,w,r)=>{r.d(w,{W:()=>W,N:()=>Y});var u=r(1316),t=r(4496),s=r(1200),_=r(9104),m=r(400),E=r(4392),D=r(900),l=r(2528),h=r(3480),p=r(9392),v=r(1673),f=r(4336),k=r(3656),F=r(3840),g=r(5944),y=r(812),M=r(3012),I=r(3616),R=r(1152);let C=(()=>{class a{constructor(e,n,o){this.disabledItemHandler=E.so,this.markerHandler=F.SE,this.defaultViewedMonthFirst=m.Ci.currentLocal(),this.defaultViewedMonthSecond=m.Ci.currentLocal().append({month:1}),this.min=m.sF,this.max=m.q7,this.value=null,this.dayClick=new t._w7,this.hoveredItem=null,this.userViewedMonthFirst=this.defaultViewedMonthFirst,this.userViewedMonthSecond=this.defaultViewedMonthSecond,this.monthOffset=(i,c)=>i.append({month:c}),e&&e.pipe((0,D.iQ)(n),(0,I.a)(o)).subscribe(i=>{this.value=i,this.updateViewedMonths()})}get cappedUserViewedMonthSecond(){return this.userViewedMonthSecond.monthBefore(this.max)?this.userViewedMonthSecond:this.max}get cappedUserViewedMonthFirst(){return this.userViewedMonthFirst.monthSameOrBefore(this.userViewedMonthSecond)?this.userViewedMonthFirst:this.userViewedMonthSecond}ngOnInit(){this.setInitialMonths()}onSectionFirstViewedMonth(e){this.userViewedMonthFirst=e,this.userViewedMonthSecond=this.userViewedMonthFirst.append({month:1})}onSectionSecondViewedMonth(e){this.userViewedMonthSecond=e,this.userViewedMonthFirst=this.userViewedMonthSecond.append({month:-1})}onDayClick(e){this.dayClick.emit(e)}setInitialMonths(){this.value||(this.userViewedMonthSecond=this.updatedViewedMonthSecond(this.defaultViewedMonthSecond),this.userViewedMonthFirst=this.updatedViewedMonthFirst(this.defaultViewedMonthFirst))}updatedViewedMonthSecond(e){return e.monthSameOrAfter(this.max)?this.max:e.monthBefore(this.min)?this.min.append({month:1}):e}updatedViewedMonthFirst(e){return e.monthSameOrAfter(this.userViewedMonthSecond)?this.userViewedMonthSecond.append({month:-1}):e.monthSameOrBefore(this.min)?this.min:e}updateViewedMonths(){this.userViewedMonthFirst=null===this.value?this.defaultViewedMonthFirst:this.value.from,this.userViewedMonthSecond=this.userViewedMonthFirst.append({month:1})}}return a.\u0275fac=function(e){return new(e||a)(t.GI1(M.aY,8),t.GI1(t.kD9),t.GI1(h.UF,2))},a.\u0275cmp=t.In1({type:a,selectors:[["tui-primitive-calendar-range"]],inputs:{disabledItemHandler:"disabledItemHandler",markerHandler:"markerHandler",defaultViewedMonthFirst:"defaultViewedMonthFirst",defaultViewedMonthSecond:"defaultViewedMonthSecond",min:"min",max:"max",value:"value"},outputs:{dayClick:"dayClick"},features:[t.M5G([h.UF])],decls:5,vars:30,consts:[[3,"disabledItemHandler","markerHandler","max","maxViewedMonth","min","month","showAdjacent","value","hoveredItem","hoveredItemChange","dayClick","monthChange"],[1,"t-border",3,"disabledItemHandler","markerHandler","max","min","minViewedMonth","month","showAdjacent","value","hoveredItem","hoveredItemChange","dayClick","monthChange"]],template:function(e,n){1&e&&(t.I0R(0,"tui-calendar",0),t.iHE("hoveredItemChange",function(i){return t.kNx(n.hoveredItem,i)||(n.hoveredItem=i),i}),t.qCj("dayClick",function(i){return n.onDayClick(i)})("monthChange",function(i){return n.onSectionFirstViewedMonth(i)}),t.wVc(1,"tuiMapper"),t.C$Y(),t.I0R(2,"tui-calendar",1),t.iHE("hoveredItemChange",function(i){return t.kNx(n.hoveredItem,i)||(n.hoveredItem=i),i}),t.qCj("dayClick",function(i){return n.onDayClick(i)})("monthChange",function(i){return n.onSectionSecondViewedMonth(i)}),t.wVc(3,"tuiMapper"),t.wVc(4,"tuiMapper"),t.C$Y()),2&e&&(t.E7m("disabledItemHandler",n.disabledItemHandler)("markerHandler",n.markerHandler)("max",n.max)("maxViewedMonth",t.I7O(1,18,n.cappedUserViewedMonthSecond,n.monthOffset,-1))("min",n.min)("month",n.userViewedMonthFirst)("showAdjacent",!1)("value",n.value),t.OKB("hoveredItem",n.hoveredItem),t.yG2(2),t.E7m("disabledItemHandler",n.disabledItemHandler)("markerHandler",n.markerHandler)("max",n.max)("min",n.min)("minViewedMonth",t.I7O(3,22,n.cappedUserViewedMonthFirst,n.monthOffset,1))("month",n.userViewedMonthSecond.monthSameOrBefore(n.min)?t.I7O(4,26,n.min,n.monthOffset,1):n.userViewedMonthSecond)("showAdjacent",!1)("value",n.value),t.OKB("hoveredItem",n.hoveredItem))},dependencies:[v.I,_.M],styles:["[_nghost-%COMP%]{display:flex}.t-border[_ngcontent-%COMP%]{border-left:1px solid var(--tui-base-03)}"],changeDetection:0}),a})(),A=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.a4G({type:a}),a.\u0275inj=t.s3X({imports:[[_.E,R.M9,v.y]]}),a})();var T=r(1368);const L=(a,d,e,n)=>[a,d,e,n,!1],b=(a,d,e,n)=>[a,d,e,n,!0];function U(a,d){if(1&a){const e=t.KQA();t.I0R(0,"tui-primitive-calendar-range",2),t.qCj("dayClick",function(o){t.usT(e);const i=t.GaO();return t.CGJ(i.onDayClick(o))}),t.wVc(1,"tuiMapper"),t.wVc(2,"tuiMapper"),t.C$Y()}if(2&a){const e=t.GaO();t.E7m("defaultViewedMonthFirst",e.defaultViewedMonth)("disabledItemHandler",e.calculatedDisabledItemHandler)("markerHandler",e.markerHandler)("max",t.MxA(1,6,t.WuN(18,L,e.computedMax,e.maxLengthMapper,e.value,e.maxLength)))("min",t.MxA(2,12,t.WuN(23,b,e.computedMin,e.maxLengthMapper,e.value,e.maxLength)))("value",e.value)}}function B(a,d){if(1&a&&t.wR5(0,"tui-svg",9),2&a){const e=t.GaO(3);t.E7m("src",e.icons.check)}}function K(a,d){if(1&a){const e=t.KQA();t.I0R(0,"button",7),t.qCj("click",function(){const i=t.usT(e).$implicit,c=t.GaO(2);return t.CGJ(c.onItemSelect(i))})("keydown.enter.prevent",function(){const i=t.usT(e).$implicit,c=t.GaO(2);return t.CGJ(c.onItemSelect(i))})("keydown.space.prevent",function(){const i=t.usT(e).$implicit,c=t.GaO(2);return t.CGJ(c.onItemSelect(i))}),t.OEk(1),t.yuY(2,B,1,1,"tui-svg",8),t.C$Y()}if(2&a){const e=d.$implicit,n=t.GaO(2);t.e48("aria-checked",n.isItemActive(e)),t.yG2(),t.oRS(" ",e," "),t.yG2(),t.E7m("ngIf",n.isItemActive(e))}}const N=(a,d,e,n,o,i)=>[a,d,e,n,o,i];function j(a,d){if(1&a){const e=t.KQA();t.I0R(0,"div",3)(1,"tui-calendar",4),t.qCj("dayClick",function(o){t.usT(e);const i=t.GaO();return t.CGJ(i.onDayClick(o))}),t.wVc(2,"tuiMapper"),t.wVc(3,"tuiMapper"),t.C$Y(),t.I0R(4,"tui-data-list",5),t.yuY(5,K,3,3,"button",6),t.wVc(6,"tuiMapper"),t.wVc(7,"async"),t.C$Y()()}if(2&a){const e=t.GaO();t.yG2(),t.E7m("disabledItemHandler",e.calculatedDisabledItemHandler)("markerHandler",e.markerHandler)("max",t.MxA(2,7,t.WuN(28,L,e.computedMax,e.maxLengthMapper,e.value,e.maxLength)))("min",t.MxA(3,13,t.WuN(33,b,e.computedMin,e.maxLengthMapper,e.value,e.maxLength)))("month",e.computedMonth)("value",e.value),t.yG2(4),t.E7m("ngForOf",t.MxA(6,19,t.Gyg(38,N,e.items,e.mapper,e.min,e.max,e.minLength,t.kDX(7,26,e.otherDateText$))))}}let W=(()=>{class a{constructor(e,n,o,i,c){this.otherDateText$=i,this.icons=c,this.defaultViewedMonth=m.Ci.currentLocal(),this.disabledItemHandler=E.so,this.markerHandler=F.SE,this.items=[],this.min=m.sF,this.max=m.q7,this.minLength=null,this.maxLength=null,this.value=null,this.valueChange=new t._w7,this.previousValue=null,this.maxLengthMapper=y.m2,this.mapper=(V,S,H,O,x="")=>[...V.filter(P=>(null===O||P.range.from.append(O).daySameOrBefore(P.range.to))&&(null===S||P.range.to.daySameOrAfter(S))&&(null===H||P.range.from.daySameOrBefore(H))),x],e&&e.pipe((0,D.iQ)(n),(0,I.a)(o)).subscribe(V=>{this.value=V})}get computedMin(){var e;return null!==(e=this.min)&&void 0!==e?e:m.sF}get computedMax(){var e;return null!==(e=this.max)&&void 0!==e?e:m.q7}onEsc(e){var n;"Escape"!==e.key||null===(n=this.value)||void 0===n||!n.isSingleDay||(e.stopPropagation(),this.value=this.previousValue)}get calculatedDisabledItemHandler(){return this.calculateDisabledItemHandler(this.disabledItemHandler,this.value,this.minLength)}get computedMonth(){return this.value?this.value.to:this.defaultViewedMonth}isItemActive(e){const{activePeriod:n}=this;return(0,l.gT)(e)&&null===n||n===e}onRangeChange(e){this.updateValue(e)}onDayClick(e){const{value:n}=this;this.previousValue=n,null!==n&&n.isSingleDay?this.updateValue(m.Se.sort(n.from,e)):this.value=new m.Se(e,e)}onItemSelect(e){"string"==typeof e?null!==this.activePeriod&&this.updateValue(null):this.updateValue(e.range.dayLimit(this.min,this.max))}updateValue(e){this.value=e,this.valueChange.emit(e)}get activePeriod(){return this.items.find(e=>(0,l.K2)(this.value,e.range,(n,o)=>n.from.daySame(o.from.dayLimit(this.min,this.max))&&n.to.daySame(o.to.dayLimit(this.min,this.max))))||null}calculateDisabledItemHandler(e,n,o){return i=>{if(!n?.isSingleDay||!o)return e(i);const c=(0,l.Kw)(Object.entries(o).map(([O,x])=>[O,-x])),V=n.from.append(c).append({day:1}),S=n.from.append(o).append({day:-1});return V.dayBefore(i)&&S.dayAfter(i)||e(i)}}}return a.\u0275fac=function(e){return new(e||a)(t.GI1(M.aY,8),t.GI1(t.kD9),t.GI1(h.UF,2),t.GI1(M.qo),t.GI1(g.QJ))},a.\u0275cmp=t.In1({type:a,selectors:[["tui-calendar-range"]],hostBindings:function(e,n){1&e&&t.qCj("keydown.capture",function(i){return n.onEsc(i)},!1,t.wLc)},inputs:{defaultViewedMonth:"defaultViewedMonth",disabledItemHandler:"disabledItemHandler",markerHandler:"markerHandler",items:"items",min:"min",max:"max",minLength:"minLength",maxLength:"maxLength",value:"value"},outputs:{valueChange:"valueChange"},features:[t.M5G([h.UF])],decls:3,vars:2,consts:[["automation-id","tui-calendar-range__calendars","tuiPreventDefault","mousedown",3,"defaultViewedMonthFirst","disabledItemHandler","markerHandler","max","min","value","dayClick",4,"ngIf","ngIfElse"],["presets",""],["automation-id","tui-calendar-range__calendars","tuiPreventDefault","mousedown",3,"defaultViewedMonthFirst","disabledItemHandler","markerHandler","max","min","value","dayClick"],[1,"t-wrapper"],["automation-id","tui-calendar-range__calendar","tuiPreventDefault","mousedown",3,"disabledItemHandler","markerHandler","max","min","month","value","dayClick"],["automation-id","tui-calendar-range__menu","role","menu",1,"t-menu"],["automation-id","tui-calendar-range__menu__item","role","menuitemradio","tuiOption","","tuiPreventDefault","mousedown",3,"click","keydown.enter.prevent","keydown.space.prevent",4,"ngFor","ngForOf"],["automation-id","tui-calendar-range__menu__item","role","menuitemradio","tuiOption","","tuiPreventDefault","mousedown",3,"click","keydown.enter.prevent","keydown.space.prevent"],["automation-id","tui-calendar-range__checkmark","class","t-checkmark",3,"src",4,"ngIf"],["automation-id","tui-calendar-range__checkmark",1,"t-checkmark",3,"src"]],template:function(e,n){if(1&e&&t.yuY(0,U,3,28,"tui-primitive-calendar-range",0)(1,j,8,45,"ng-template",null,1,t.gJz),2&e){const o=t.Gew(2);t.E7m("ngIf",!n.items.length)("ngIfElse",o)}},dependencies:[C,v.I,f.yi,f.sP,k.Wu,T.u_,s.A,T.ay,_.M,T.a],styles:["[_nghost-%COMP%]{display:block}.t-wrapper[_ngcontent-%COMP%]{display:flex}.t-menu[_ngcontent-%COMP%]{width:11rem;border-left:1px solid var(--tui-base-03)}.t-checkmark[_ngcontent-%COMP%]{margin-left:auto;width:1rem;height:1rem}"],changeDetection:0}),(0,u.UN)([p.w7],a.prototype,"calculateDisabledItemHandler",null),a})(),Y=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.a4G({type:a}),a.\u0275inj=t.s3X({imports:[[T.MD,_.E,s.m,v.y,v.y,k.Yt,f.A$,A]]}),a})()},812:(G,w,r)=>{r.d(w,{m2:()=>f,mU:()=>l,qS:()=>_,w3:()=>k}),r(4392);var t=r(2528);r(3840);const _={DMY:"dd/mm/yyyy",MDY:"mm/dd/yyyy",YMD:"yyyy/mm/dd"},l=/\([#]+\)|[#\- ]/g,f=(g,y,M,I)=>{if(!y?.isSingleDay||!M)return g;const R=(0,t.Kw)(Object.entries(M).map(([A,T])=>[A,-T])),C=y.from.append(I?R:M).append({day:I?1:-1});return I?C.dayBefore(g)?g:C:g&&C.dayAfter(g)?g:C},k={HH:23,MM:59,SS:59,MS:999}}}]);