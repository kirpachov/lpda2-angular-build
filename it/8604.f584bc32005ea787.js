"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[8604],{8108:(T,d,t)=>{t.r(d),t.d(d,{ShowModule:()=>W});var o=t(2992),R=t(7552),e=t(4496),s=t(4251),r=t(3480),n=t(7692),E=t(1512),i=t(8212),S=t(3616),u=t(8824),M=t(7748),m=t(6424),A=t(1368),h=t(1128),v=t(9722);function D(a,I){if(1&a){const _=e.KQA();e.I0R(0,"table",1)(1,"tbody")(2,"tr",2)(3,"td",3)(4,"span",4),e.aS0(5,5),e.C$Y()(),e.I0R(6,"td",3),e.OEk(7),e.C$Y()(),e.I0R(8,"tr",2)(9,"td",3)(10,"span",4),e.aS0(11,6),e.C$Y()(),e.I0R(12,"td",3),e.wR5(13,"app-preorder-reservation-group-preorder-type",7),e.C$Y()(),e.I0R(14,"tr",2)(15,"td",3)(16,"span",4),e.aS0(17,8),e.C$Y()(),e.I0R(18,"td",3),e.OEk(19),e.wVc(20,"currency"),e.C$Y()(),e.I0R(21,"tr",2)(22,"td",3)(23,"span",4),e.aS0(24,9),e.C$Y()(),e.I0R(25,"td",3),e.wR5(26,"app-preorder-reservation-group-status",10),e.C$Y()()()(),e.I0R(27,"h2",11),e.aS0(28,12),e.C$Y(),e.wR5(29,"app-select-turns-paymentv2",13),e.I0R(30,"div")(31,"a",14),e.SAx(32),e.aS0(33,15),e.k70(),e.C$Y(),e.I0R(34,"div")(35,"button",16),e.qCj("click",function(){e.usT(_);const O=e.GaO();return e.CGJ(O.delete())}),e.SAx(36),e.aS0(37,17),e.k70(),e.C$Y()()()}if(2&a){const _=e.GaO();let l;e.yG2(7),e.oRS(" ",_.item().title," "),e.yG2(6),e.E7m("type",null==(l=_.item())?null:l.preorder_type),e.yG2(6),e.oRS(" ",e.kDX(20,6,_.item().payment_value)," "),e.yG2(7),e.E7m("item",_.item()),e.yG2(3),e.E7m("item",_.item())("editable",!1)}}function G(a,I){1&a&&e.wR5(0,"tui-loader",18),2&a&&e.E7m("showLoader",!0)}function $(a,I){1&a&&(e.I0R(0,"p"),e.SAx(1),e.aS0(2,19),e.k70(),e.C$Y())}let y=(()=>{class a{constructor(){this.service=(0,e.uUt)(s.e),this.destroy$=(0,e.uUt)(r.UF),this.router=(0,e.uUt)(o.E5),this.route=(0,e.uUt)(o.gV),this.notifications=(0,e.uUt)(h.E),this.item=(0,e.OCB)(null),this.loading=(0,e.OCB)(!1),this.itemId=null}ngOnInit(){this.route.params.pipe((0,S.a)(this.destroy$)).subscribe({next:_=>{this.itemId=Number(_.id),isNaN(this.itemId)?this.item.set(null):this.load(this.itemId)}})}delete(){this.notifications.confirm("Eliminando questo elemento, non verra pi\xF9 chiesto il pagamento alla prenotazione per i casi che prevedeva.").pipe((0,S.a)(this.destroy$)).subscribe({next:_=>{_&&this.confirmedDelete()}})}confirmedDelete(){this.itemId&&(this.loading.set(!0),this.service.destroy(this.itemId).pipe((0,S.a)(this.destroy$),(0,u.U)(()=>{this.loading.set(!1),this.router.navigate(["../"],{relativeTo:this.route})})).subscribe())}load(_){this.loading.set(!0),this.service.show(_).pipe((0,S.a)(this.destroy$),(0,u.U)(()=>this.loading.set(!1))).subscribe({next:l=>this.item.set(l)})}static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275cmp=e.In1({type:a,selectors:[["app-show"]],standalone:!0,features:[e.M5G([r.UF]),e.UHJ],decls:5,vars:1,consts:()=>{let _,l,O,N,P,p,g,C,f;return _="Dettagli pagamento alla prenotazione",l="Titolo",O="Tipologia pagamento",N="Valore pagamento",P="Stato",p="Quando sono richiesti pagamenti?",g="Modifica",C="Elimina",f="Non trovato :'(",[_,[1,"tui-table","mb-3"],[1,"tui-table__tr","tui-table__tr_border_none"],[1,"tui-table__td"],[1,"text-xl"],l,O,[3,"type"],N,P,[3,"item"],[1,"mb-3","text-2xl"],p,[1,"block","mb-3",3,"item","editable"],["routerLink","edit","tuiButton","","appearance","flat",1,"mb-3"],g,["tuiButton","","appearance","secondary-destructive","type","button",3,"click"],C,[3,"showLoader"],f]},template:function(l,O){1&l&&(e.I0R(0,"h1"),e.aS0(1,0),e.C$Y(),e.yuY(2,D,38,8)(3,G,1,1)(4,$,3,0)),2&l&&(e.yG2(2),e.C0Y(2,O.item()?2:O.loading()?3:4))},dependencies:[n.Sk,n.Cb,M.c,m.w,A.cf,E.w,o.qQ,o.ER,i.CI,i.Kw,v.t],encapsulation:2,changeDetection:0})}return a})(),W=(()=>{class a{static#e=this.\u0275fac=function(l){return new(l||a)};static#t=this.\u0275mod=e.a4G({type:a});static#o=this.\u0275inj=e.s3X({imports:[o.qQ.forChild([(0,R.VV)(y,{path:"",closeable:!0,dismissible:!0,size:"l"})])]})}return a})()},168:(T,d,t)=>{t.d(d,{C:()=>e,O:()=>R});var o=t(4496);let R=(()=>{class s{constructor(){this.focusable=!0}get tabIndex(){return this.focusable?0:-1}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275dir=o.Sc5({type:s,selectors:[["","tuiFocusable",""]],hostVars:1,hostBindings:function(n,E){2&n&&o.SoX("tabIndex",E.tabIndex)},inputs:{focusable:[o.Wk5.None,"tuiFocusable","focusable"]}}),s})(),e=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=o.a4G({type:s}),s.\u0275inj=o.s3X({}),s})()},6988:(T,d,t)=>{t.d(d,{E:()=>n,Q:()=>E});var o=t(4496),R=t(3480),e=t(3840),s=t(3120),r=t(3616);let n=(()=>{class i{constructor(u,M){this.el=u,this.destroy$=M}set tuiScrollIntoView(u){u&&(0,s.k)(0).pipe((0,r.a)(this.destroy$)).subscribe(()=>{this.el.nativeElement.dispatchEvent(new CustomEvent(e.dG,{bubbles:!0,detail:this.el.nativeElement}))})}}return i.\u0275fac=function(u){return new(u||i)(o.GI1(o.GMv),o.GI1(R.UF,2))},i.\u0275dir=o.Sc5({type:i,selectors:[["","tuiScrollIntoView",""]],inputs:{tuiScrollIntoView:"tuiScrollIntoView"},features:[o.M5G([R.UF])]}),i})(),E=(()=>{class i{}return i.\u0275fac=function(u){return new(u||i)},i.\u0275mod=o.a4G({type:i}),i.\u0275inj=o.s3X({}),i})()},4736:(T,d,t)=>{t.d(d,{M:()=>s,O:()=>r});var o=t(4496),R=t(5944),e=t(4704);let s=(()=>{class n{constructor(i){this.months$=i}transform({month:i}){return this.months$.pipe((0,e.k)(S=>S[i]))}}return n.\u0275fac=function(i){return new(i||n)(o.GI1(R.GU,16))},n.\u0275pipe=o.UTH({name:"tuiMonth",type:n,pure:!0}),n})(),r=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=o.a4G({type:n}),n.\u0275inj=o.s3X({}),n})()}}]);