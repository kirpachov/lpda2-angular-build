"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[1208],{9184:(N,c,t)=>{t.r(c),t.d(c,{NewUserModule:()=>$});var e=t(4496),_=t(3480),S=t(5e3),i=t(6504),o=t(3797),n=t(6528),u=t(9956),g=t(8048),f=t(8212),m=t(3732),s=t(2992),M=t(3616),l=t(8824),h=t(9938),U=t(1128),A=t(8256),I=t(8392),P=t(7936);let D=(()=>{class d{constructor(){this.destroy$=(0,e.uUt)(_.UF),this.notifications=(0,e.uUt)(U.E),this.service=(0,e.uUt)(m.u),this.route=(0,e.uUt)(s.gV),this.router=(0,e.uUt)(s.E5),this.form=new i.WC({fullname:new i.Ku(""),email:new i.Ku("",[i.AQ.required,i.AQ.email]),can_root:new i.Ku(!1)}),this.submitting=(0,e.OCB)(!1),this.submitted=!1,this.e=this.errorsFor}submit(){this.submitted=!0,!this.form.invalid&&(this.submitting.set(!0),this.service.create(this.formVal()).pipe((0,M.a)(this.destroy$),(0,l.U)(()=>this.submitting.set(!1))).subscribe({next:r=>{this.notifications.fireSnackBar("Utente creato."),this.router.navigate([".."],{relativeTo:this.route})},error:r=>{h.y.assignErrorsToForm(this.form,r),this.notifications.error((0,A.mk)(r)||I.a)}}))}cancel(){const r=this.form.dirty||this.form.touched;(!r||r&&confirm("Sei sicuro di voler annullare?"))&&this.router.navigate([".."],{relativeTo:this.route})}errorsFor(r){const a=this.form.get(r);return a&&(a.touched||a.dirty||this.submitted)?a.errors:null}formVal(){return{...this.form.value}}static#e=this.\u0275fac=function(a){return new(a||d)};static#t=this.\u0275cmp=e.In1({type:d,selectors:[["app-new-user"]],standalone:!0,features:[e.M5G([_.UF]),e.UHJ],decls:29,vars:5,consts:()=>{let r,a,E,T,R,v,p;return r="Nuovo utente",a="\n          Attenzione. L'utente che si sta per creare potr\xE0 accedere alla\n          parte amministrativa e apportare modifiche ad alcune parti sensibili\n          dell'applicazione.\n        ",E="Nome e cognome",T="Email",R="Ha diritti di amministratore?",v="Conferma",p="Annulla",[r,a,[3,"formGroup","ngSubmit"],[1,"mb-3"],["tuiTextfieldSize","l","formControlName","fullname",3,"tuiAutoFocus"],E,["tuiTextfield",""],[3,"errors"],["tuiTextfieldSize","l","formControlName","email"],T,["contentAlign","right","formControlName","can_root","size","l"],R,[1,"flex","items-center"],["type","submit","size","l","tuiButton","","appearance","primary",1,"me-2"],v,["type","button","size","l","tuiButton","","appearance","outline",3,"click"],p]},template:function(a,E){1&a&&(e.I0R(0,"h1"),e.aS0(1,0),e.C$Y(),e.I0R(2,"p"),e.aS0(3,1),e.C$Y(),e.I0R(4,"form",2),e.qCj("ngSubmit",function(){return E.submit()}),e.I0R(5,"div",3)(6,"tui-input",4),e.SAx(7),e.aS0(8,5),e.k70(),e.wR5(9,"input",6),e.C$Y(),e.wR5(10,"app-errors",7),e.C$Y(),e.I0R(11,"div",3)(12,"tui-input",8),e.SAx(13),e.aS0(14,9),e.k70(),e.wR5(15,"input",6),e.C$Y(),e.wR5(16,"app-errors",7),e.C$Y(),e.I0R(17,"div",3)(18,"tui-checkbox-block",10),e.SAx(19),e.aS0(20,11),e.k70(),e.C$Y(),e.wR5(21,"app-errors",7),e.C$Y(),e.I0R(22,"div",12)(23,"button",13),e.SAx(24),e.aS0(25,14),e.k70(),e.C$Y(),e.I0R(26,"button",15),e.qCj("click",function(){return E.cancel()}),e.SAx(27),e.aS0(28,16),e.k70(),e.C$Y()()()),2&a&&(e.yG2(4),e.E7m("formGroup",E.form),e.yG2(2),e.E7m("tuiAutoFocus",!0),e.yG2(4),e.E7m("errors",E.e("fullname")),e.yG2(6),e.E7m("errors",E.e("email")),e.yG2(5),e.E7m("errors",E.e("can_root")))},dependencies:[i.sl,i.sz,i.ue,i.u,i.uW,i.Wo,o.CQ,o.Oo,o.cP,P.b,u.g,g.aS,g.rD,f.CI,f.Kw,n.i,n.I,S.m6,S.gJ],encapsulation:2,changeDetection:0})}return d})();var O=t(7552);let $=(()=>{class d{static#e=this.\u0275fac=function(a){return new(a||d)};static#t=this.\u0275mod=e.a4G({type:d});static#i=this.\u0275inj=e.s3X({imports:[s.qQ.forChild([(0,O.VV)(D,{path:"",closeable:!0,dismissible:!1,size:"l"})])]})}return d})()},8392:(N,c,t)=>{t.d(c,{a:()=>e});const e="Qualcosa \xE8 andato storto."},7656:(N,c,t)=>{t.d(c,{W:()=>S,g:()=>_});var e=t(4496);let _=(()=>{class i{constructor(){this.indeterminate=!1,this.checked=!1,this.tuiCheckedChange=new e._w7}get isChecked(){return this.checked}get isIndeterminate(){return this.indeterminate}set tuiChecked(n){this.checked=n||!1,this.indeterminate=null===n}onChange({checked:n}){this.checked=n,this.indeterminate=!1,this.tuiCheckedChange.emit(n)}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275dir=e.Sc5({type:i,selectors:[["input","tuiChecked",""],["input","tuiCheckedChange",""]],hostVars:2,hostBindings:function(n,u){1&n&&e.qCj("change",function(f){return u.onChange(f.target)}),2&n&&e.SoX("checked",u.isChecked)("indeterminate",u.isIndeterminate)},inputs:{tuiChecked:"tuiChecked"},outputs:{tuiCheckedChange:"tuiCheckedChange"}}),i})(),S=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.a4G({type:i}),i.\u0275inj=e.s3X({}),i})()},832:(N,c,t)=>{t.d(c,{I:()=>i,w:()=>S});var e=t(4496),_=t(3480);let S=(()=>{class o{constructor(u){this.tuiFocusVisibleChange=u}}return o.\u0275fac=function(u){return new(u||o)(e.GI1(_.MF))},o.\u0275dir=e.Sc5({type:o,selectors:[["","tuiFocusVisibleChange",""]],outputs:{tuiFocusVisibleChange:"tuiFocusVisibleChange"},features:[e.M5G([_.UF,_.MF])]}),o})(),i=(()=>{class o{}return o.\u0275fac=function(u){return new(u||o)},o.\u0275mod=e.a4G({type:o}),o.\u0275inj=e.s3X({}),o})()},1096:(N,c,t)=>{t.d(c,{O:()=>m,h:()=>f});var e=t(4496),_=t(900),S=t(4164),i=t(3412),o=t(4704),n=t(5568),u=t(4e3),g=t(2644);let f=(()=>{class s{constructor({nativeElement:l},h){this.tuiFocusedChange=(0,i.U)((0,_.Ax)(l,"focusin"),(0,_.Ax)(l,"focusout")).pipe((0,o.k)(()=>(0,S.ER)(l)),(0,n.W)(!1),(0,u.a)(),(0,g.s)(1),(0,_.OA)(h))}}return s.\u0275fac=function(l){return new(l||s)(e.GI1(e.GMv),e.GI1(e.WW2))},s.\u0275dir=e.Sc5({type:s,selectors:[["","tuiFocusedChange",""]],outputs:{tuiFocusedChange:"tuiFocusedChange"}}),s})(),m=(()=>{class s{}return s.\u0275fac=function(l){return new(l||s)},s.\u0275mod=e.a4G({type:s}),s.\u0275inj=e.s3X({}),s})()}}]);