"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[1376],{1376:(v,l,o)=>{o.r(l),o.d(l,{UpdateModule:()=>U});var a=o(1236),c=o(7552),t=o(4496),h=o(7900),_=o(4251),d=o(3480),r=o(3616),u=o(8824),p=o(7692),E=o(1128),g=o(8256),T=o(8392);function f(e,m){if(1&e){const i=t.KQA();t.I0R(0,"app-preorder-reservation-group-form",2),t.qCj("submit",function(n){t.usT(i);const N=t.GaO();return t.CGJ(N.submit(n))}),t.C$Y()}if(2&e){const i=t.GaO();t.E7m("item",i.item())}}function R(e,m){1&e&&t.wR5(0,"tui-loader",3),2&e&&t.E7m("showLoader",!0)}function C(e,m){1&e&&(t.I0R(0,"p"),t.SAx(1),t.aS0(2,4),t.k70(),t.C$Y())}let S=(()=>{class e{constructor(){this.service=(0,t.uUt)(_.e),this.destroy$=(0,t.uUt)(d.UF),this.router=(0,t.uUt)(a.E5),this.route=(0,t.uUt)(a.gV),this.notifications=(0,t.uUt)(E.E),this.item=(0,t.OCB)(null),this.loading=(0,t.OCB)(!1),this.itemId=null}ngOnInit(){this.route.params.pipe((0,r.a)(this.destroy$)).subscribe({next:i=>{this.itemId=Number(i.id),isNaN(this.itemId)?this.item.set(null):this.load(this.itemId)}})}submit(i){this.itemId&&(this.loading()||(this.loading.set(!0),this.service.update(this.itemId,i).pipe((0,r.a)(this.destroy$),(0,u.U)(()=>this.loading.set(!1))).subscribe({next:()=>{this.router.navigate(["../"],{relativeTo:this.route})},error:s=>{this.notifications.error((0,g.mk)(s)||T.a)}})))}load(i){this.loading.set(!0),this.service.show(i).pipe((0,r.a)(this.destroy$),(0,u.U)(()=>this.loading.set(!1))).subscribe({next:s=>this.item.set(s)})}static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-update"]],standalone:!0,features:[t.M5G([d.UF]),t.UHJ],decls:5,vars:1,consts:()=>{let i,s;return i="Aggiorna pagamento alla prenotazione",s="Non trovato :'(",[i,[3,"item"],[3,"item","submit"],[3,"showLoader"],s]},template:function(s,n){1&s&&(t.I0R(0,"h1"),t.aS0(1,0),t.C$Y(),t.yuY(2,f,1,1,"app-preorder-reservation-group-form",1)(3,R,1,1)(4,C,3,0)),2&s&&(t.yG2(2),t.C0Y(2,n.item()?2:n.loading()?3:4))},dependencies:[h.g,p.Sk,p.Cb],encapsulation:2,changeDetection:0})}return e})(),U=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.a4G({type:e});static#i=this.\u0275inj=t.s3X({imports:[a.qQ.forChild([(0,c.VV)(S,{path:"",closeable:!0,dismissible:!1,size:"l"})])]})}return e})()}}]);