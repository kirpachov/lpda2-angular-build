"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[5240],{5240:(U,l,n)=>{n.r(l),n.d(l,{NewModule:()=>T});var r=n(1236),d=n(7552),t=n(4496),c=n(4640),u=n(3480),h=n(7556),m=n(1128),v=n(3616),N=n(8824),p=n(8256),f=n(7048),g=n(8392),C=n(4476);let E=(()=>{class o{constructor(){this.destroy$=(0,t.uUt)(u.UF),this.service=(0,t.uUt)(h.K),this.notifications=(0,t.uUt)(m.E),this.router=(0,t.uUt)(r.E5),this.route=(0,t.uUt)(r.gV),this._=(0,t.uUt)(C.OY).setTitle("Nuovo turno di prenotazioni | La Porta D'Acqua"),this.loading=(0,t.OCB)(!1)}create(i){this.loading()||(this.loading.set(!0),this.service.create(i).pipe((0,v.a)(this.destroy$),(0,N.U)(()=>this.loading.set(!1))).subscribe({next:()=>{this.notifications.fireSnackBar("Turno creato."),this.close()},error:e=>{this.form&&e instanceof f.gj?this.form.manageHttpError(e):(console.error(e),this.notifications.error(e instanceof f.gj?(0,p.mk)(e):g.a))}}))}cancel(){confirm("Sei sicuro di voler annullare?")&&this.close()}close(){this.router.navigate(["../"],{relativeTo:this.route})}static#t=this.\u0275fac=function(e){return new(e||o)};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-new"]],viewQuery:function(e,s){if(1&e&&t.CC$(c.q,5),2&e){let a;t.wto(a=t.Gqi())&&(s.form=a.first)}},standalone:!0,features:[t.M5G([u.UF]),t.UHJ],decls:3,vars:2,consts:()=>{let i;return i="Nuovo turno di prenotazione",[i,[3,"loading","context","submitted","cancelled"]]},template:function(e,s){1&e&&(t.I0R(0,"h1"),t.aS0(1,0),t.C$Y(),t.I0R(2,"app-reservation-turn-form",1),t.qCj("submitted",function(S){return s.create(S)})("cancelled",function(){return s.cancel()}),t.C$Y()),2&e&&(t.yG2(2),t.E7m("loading",s.loading())("context","create"))},dependencies:[c.q],encapsulation:2,changeDetection:0})}return o})(),T=(()=>{class o{static#t=this.\u0275fac=function(e){return new(e||o)};static#e=this.\u0275mod=t.a4G({type:o});static#n=this.\u0275inj=t.s3X({imports:[r.qQ.forChild([(0,d.VV)(E,{path:"",closeable:!0,dismissible:!0,size:"l"})])]})}return o})()}}]);