"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[7252],{7264:(w,N,r)=>{r.d(N,{s:()=>Tn});var t=r(4496),v=r(8212),g=r(1512),m=r(1316),_=r(6504),O=r(9852),l=r(4392),c=r(900),d=r(2528),T=r(8987),M=r(4164),y=r(3480),x=r(9392),I=r(3656),S=r(5944),f=r(696),u=r(528),h=r(1192),E=r(3616),C=r(6684),P=r(1368);function b(n,i){1&n&&t.C_f(0)}const $=["*"],X=["tuiStep",""];function Wt(n,i){if(1&n&&t.wR5(0,"tui-svg",4),2&n){const e=t.GaO();t.E7m("src",e.icon)}}let Tt=(()=>{class n{constructor(e,o,a,s,p,R){this.cdr=e,this.el=o,this.scrollService=a,this.duration=p,this.destroy$=R,this.steps=l.Jh,this.orientation="horizontal",this.activeItemIndexChange=new t._w7,this.activeItemIndex=0,s.subscribe(()=>this.scrollIntoView(this.activeItemIndex))}set activeIndex(e){this.activeItemIndex=e,this.scrollIntoView(e)}get changes$(){return(0,c.jv)(this.steps).pipe((0,h.o)(0))}onHorizontal(e,o){"horizontal"!==this.orientation||!e.target||(e.preventDefault(),this.moveFocus(e.target,o))}onVertical(e,o){"vertical"!==this.orientation||!e.target||(e.preventDefault(),this.moveFocus(e.target,o))}indexOf(e){return(0,d.SQ)(this.steps).findIndex(({nativeElement:o})=>o===e)}isActive(e){return e===this.activeItemIndex}activate(e){this.activeItemIndex!==e&&(this.activeItemIndex=e,this.activeItemIndexChange.emit(e),this.cdr.markForCheck(),this.scrollIntoView(e))}getNativeElements(e){return e.map(({nativeElement:o})=>o)}moveFocus(e,o){if(!(0,T.CK)(e))return;const a=this.getNativeElements(this.steps),s=a.findIndex(p=>p===e);(0,M.uO)(s,a,o)}scrollIntoView(e){const o=this.getNativeElements(this.steps)[e];if(!o)return;const{nativeElement:a}=this.el,{clientHeight:s,clientWidth:p,offsetTop:R,offsetLeft:A}=a,{offsetHeight:D,offsetWidth:F,offsetTop:K,offsetLeft:Y}=o,ct=Y-A-p/2+F/2;this.scrollService.scroll$(a,Math.max(0,K-R-s/2+D/2),Math.max(0,ct),this.duration/3).pipe((0,E.a)(this.destroy$)).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.GI1(t.kD9),t.GI1(t.GMv),t.GI1(y.IL),t.GI1(y.I$),t.GI1(S._u),t.GI1(y.UF,2))},n.\u0275cmp=t.In1({type:n,selectors:[["tui-stepper"],["nav","tuiStepper",""]],contentQueries:function(e,o,a){if(1&e&&t.szK(a,vt,4,t.GMv),2&e){let s;t.wto(s=t.Gqi())&&(o.steps=s)}},hostVars:1,hostBindings:function(e,o){1&e&&t.qCj("keydown.arrowRight",function(s){return o.onHorizontal(s,1)})("keydown.arrowLeft",function(s){return o.onHorizontal(s,-1)})("keydown.arrowDown",function(s){return o.onVertical(s,1)})("keydown.arrowUp",function(s){return o.onVertical(s,-1)}),2&e&&t.e48("data-orientation",o.orientation)},inputs:{orientation:"orientation",activeIndex:[t.Wk5.None,"activeItemIndex","activeIndex"]},outputs:{activeItemIndexChange:"activeItemIndexChange"},features:[t.M5G([y.I$,y.UF])],ngContentSelectors:$,decls:3,vars:3,consts:[[4,"ngIf"]],template:function(e,o){1&e&&(t.kPM(),t.yuY(0,b,1,0,"ng-container",0),t.wVc(1,"async"),t._Xx(2)),2&e&&t.E7m("ngIf",t.kDX(1,1,o.changes$))},dependencies:[P.u_,P.a],styles:["[_nghost-%COMP%]{scrollbar-width:none;-ms-overflow-style:none;scroll-behavior:smooth;display:flex;overflow:auto;counter-reset:steps}[_nghost-%COMP%]::-webkit-scrollbar, [_nghost-%COMP%]::-webkit-scrollbar-thumb{display:none}tui-root._reduced-motion   [_nghost-%COMP%]{scroll-behavior:auto}[data-orientation=vertical][_nghost-%COMP%]{flex-direction:column}"],changeDetection:0}),(0,m.UN)([x.w7],n.prototype,"changes$",null),(0,m.UN)([x.w7],n.prototype,"getNativeElements",null),n})(),vt=(()=>{class n{constructor(e,o,a,s,p){this.stepper=a,this.el=s,this.icons=p,this.stepState="normal",this.icon="",this.focusVisible=!1,o.pipe((0,C.I)(u.Z)).subscribe(()=>{this.activate()}),e.subscribe(R=>{this.focusVisible=R})}get isActive(){return this.stepper.isActive(this.index)}get isVertical(){return"vertical"===this.stepper.orientation}get tabIndex(){return this.isActive?0:-1}get index(){return this.stepper.indexOf(this.el.nativeElement)}activate(){this.stepper.activate(this.index)}}return n.\u0275fac=function(e){return new(e||n)(t.GI1(y.MF),t.GI1(f.oj),t.GI1(Tt),t.GI1(t.GMv),t.GI1(S.QJ))},n.\u0275cmp=t.In1({type:n,selectors:[["button","tuiStep",""],["a","tuiStep","",3,"routerLink",""],["a","tuiStep","","routerLink","","routerLinkActive",""]],hostAttrs:["type","button"],hostVars:8,hostBindings:function(e,o){1&e&&t.qCj("click",function(){return o.activate()}),2&e&&(t.SoX("tabIndex",o.tabIndex),t.e48("data-state",o.stepState),t.eAK("_focus-visible",o.focusVisible)("_active",o.isActive)("_vertical",o.isVertical))},inputs:{stepState:"stepState",icon:"icon"},features:[t.M5G([y.UF,f.oj,y.MF])],attrs:X,ngContentSelectors:$,decls:5,vars:3,consts:[["class","t-marker t-marker_custom",3,"src",4,"ngIf"],[1,"t-marker","t-marker_error",3,"src"],[1,"t-marker","t-marker_pass",3,"src"],[1,"t-marker","t-marker_index"],[1,"t-marker","t-marker_custom",3,"src"]],template:function(e,o){1&e&&(t.kPM(),t.yuY(0,Wt,1,1,"tui-svg",0),t.wR5(1,"tui-svg",1)(2,"tui-svg",2)(3,"div",3),t._Xx(4)),2&e&&(t.E7m("ngIf",o.icon),t.yG2(),t.E7m("src",o.icons.error),t.yG2(),t.E7m("src",o.icons.check))},dependencies:[I.Wu,P.u_],styles:['[_nghost-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;position:relative;display:flex;align-items:center;flex-shrink:0;color:var(--tui-link);margin-right:1.5rem;outline:none;cursor:pointer;counter-increment:steps}[_nghost-%COMP%]:disabled{pointer-events:none;color:var(--tui-base-07)}[_nghost-%COMP%]:hover{color:var(--tui-link-hover)}[_nghost-%COMP%]:not(:last-of-type)._vertical{margin-bottom:1.25rem}._active[_nghost-%COMP%], ._active[_nghost-%COMP%]:hover{color:var(--tui-text-01);cursor:default}._focus-visible[_nghost-%COMP%]:before{content:"";position:absolute;left:2.75rem;right:0;top:50%;height:1.5rem;margin-top:-.75rem;background:var(--tui-selection)}.t-marker[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:flex;width:2rem;height:2rem;border-radius:100%;margin-right:.75rem;flex-shrink:0;align-items:center;justify-content:center;background:var(--tui-secondary);color:var(--tui-link)}[_nghost-%COMP%]:disabled   .t-marker[_ngcontent-%COMP%]{background:var(--tui-base-03);color:var(--tui-base-07)}.t-marker_index[_ngcontent-%COMP%]:before{content:counter(steps)}[_nghost-%COMP%]:hover   .t-marker_index[_ngcontent-%COMP%]{color:var(--tui-link-hover);background:var(--tui-secondary-hover)}._active[_nghost-%COMP%]   .t-marker_index[_ngcontent-%COMP%]{color:var(--tui-primary-text);background:var(--tui-primary)}[_nghost-%COMP%]:not([data-state="normal"]):not(._active)   .t-marker_index[_ngcontent-%COMP%], [_nghost-%COMP%]:not(._active)   .t-marker_custom[_ngcontent-%COMP%] ~ .t-marker_index[_ngcontent-%COMP%]{display:none}.t-marker_error[_ngcontent-%COMP%]{background:var(--tui-error-bg);color:var(--tui-error-fill)}[_nghost-%COMP%]:hover   .t-marker_error[_ngcontent-%COMP%]{background:var(--tui-error-bg-hover);color:var(--tui-error-fill)}[_nghost-%COMP%]:not([data-state="error"])   .t-marker_error[_ngcontent-%COMP%], ._active[_nghost-%COMP%]   .t-marker_error[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]:not([data-state="pass"])   .t-marker_pass[_ngcontent-%COMP%], ._active[_nghost-%COMP%]   .t-marker_pass[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]:not([data-state="normal"])   .t-marker_custom[_ngcontent-%COMP%], ._active[_nghost-%COMP%]   .t-marker_custom[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]:hover   .t-marker_custom[_ngcontent-%COMP%]{color:var(--tui-link-hover);background:var(--tui-secondary-hover)}'],changeDetection:0}),n})(),Xt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.a4G({type:n}),n.\u0275inj=t.s3X({imports:[[P.MD,I.Yt]]}),n})();var dt=r(668),pt=r(3797),Z=r(3044),Ot=r(9104),q=r(1800),It=r(4680),Qt=r(6732),Q=r(466),k=r(7936),tt=r(4336),Mt=r(8976),yt=r(5656),L=r(8048),Rt=r(4108),et=r(2500),nt=r(3840),B=r(3724),Pt=r(7176),j=r(4532),St=r(6572),jt=r(9371),Nt=r(796),At=r(5900),xt=r(5620);const Jt=["*",[["input"]]],Zt=["*","input"],Dt=(0,d.AL)({phoneMaskAfterCountryCode:"### ###-##-##",allowText:!1,countryCode:"+7"}),Ut=n=>n.replace(/\D/g,"").length;function qt(n,i){const e=(n+i).replace(/[^#\d]+/g,"").length,o=a=>a.replace("+7"===n?/^(\+?7?\s?8?)\s?/:new RegExp(`^(\\+?${n.replace("+","")}?)\\s?`),"");return({elementState:a,data:s})=>{const{value:p,selection:R}=a;return{elementState:{selection:R,value:Ut(p)>e?o(p):p},data:Ut(s)>=e?o(s):s}}}function ot(n){return Number.isNaN(parseInt(n.replace(nt.mM,""),10))}let Ft=(()=>{class n extends q._y{constructor(e,o,a,s,p){super(e,o),this.textfieldCleaner=a,this.options=s,this.textfieldSize=p,this.phoneMaskAfterCountryCode=this.options.phoneMaskAfterCountryCode,this.allowText=this.options.allowText,this.search="",this.searchChange=new t._w7,this.countryCode=this.options.countryCode,this.open=!1}set countryCodeSetter(e){const o=this.countryCode;this.countryCode=e,this.updateValueWithNewCountryCode(o,e)}get size(){return this.textfieldSize.size}get nativeFocusableElement(){return!this.textfield||this.computedDisabled?null:this.textfield.nativeFocusableElement}get focused(){return(0,M.ER)(this.nativeFocusableElement)||!!this.dropdown&&this.dropdown.focused}get nativeValue(){var e;return(null===(e=this.nativeFocusableElement)||void 0===e?void 0:e.value)||(0,j.qq)(this.value,this.maskOptions)}set nativeValue(e){this.nativeFocusableElement&&(this.nativeFocusableElement.value=e)}get inputMode(){return this.allowText?"text":"numeric"}get canOpen(){return this.interactive&&!!this.datalist}get canClean(){return this.nativeValue!==this.nonRemovablePrefix&&this.textfieldCleaner.cleaner}get maskOptions(){return this.calculateMask(this.countryCode,this.phoneMaskAfterCountryCode,this.nonRemovablePrefix,this.allowText)}onActiveZone(e){return this.updateFocused(e),!e||this.nativeValue||this.readOnly||this.allowText?this.nativeValue===this.nonRemovablePrefix||this.isTextValue?(this.updateSearch(""),void(this.nativeValue="")):void(!e&&!this.allowText&&this.nativeFocusableElement&&(this.nativeValue=this.nativeValue.replace(/\D$/,""))):(this.updateSearch(this.nonRemovablePrefix),void(this.nativeValue=this.nonRemovablePrefix))}onValueChange(e){const o=ot(e)?e:e.replace(nt.mM,"").slice(0,this.maxPhoneLength);this.updateSearch(o),this.value=o===this.countryCode||ot(o)?"":o,this.open=!0,!this.value&&!this.allowText&&(this.nativeValue=this.nonRemovablePrefix)}handleOption(e){this.focusInput(),this.value=e,this.nativeValue=(0,j.qq)(this.value,this.maskOptions),this.updateSearch(""),this.open=!1}setDisabledState(){super.setDisabledState(),this.open=!1}writeValue(e){super.writeValue(e),this.nativeValue=(0,j.qq)(e||"",this.maskOptions),this.updateSearch("")}getFallbackValue(){return""}get nonRemovablePrefix(){return`${this.countryCode} `}get maxPhoneLength(){return this.countryCode.length+this.phoneMaskAfterCountryCode.replace(/[^#]+/g,"").length}get isTextValue(){return!!this.search&&ot(this.search)}calculateMask(e,o,a,s){const p=function te(n,i){return[...n.split("")," ",...i.replace(/[^#\- ()]+/g,"").split("").map(e=>"#"===e?/\d/:e)]}(e,o),R=[qt(e,o)];return s?{mask:({value:A})=>ot(A)&&"+"!==A?j.Se.mask:p,preprocessors:R}:{mask:p,preprocessors:R,postprocessors:[(0,St.G)(a)],plugins:[(0,St.yu)((A,[D,F])=>[D===F?a.length:0,A.length])]}}focusInput(){this.nativeFocusableElement&&this.nativeFocusableElement.focus({preventScroll:!0})}updateSearch(e){this.search!==e&&(this.search=e,this.searchChange.emit(e))}updateValueWithNewCountryCode(e,o){this.isTextValue||(this.value=this.value.replace(e,o),this.nativeValue=(0,j.qq)(this.value,this.maskOptions))}}return n.\u0275fac=function(e){return new(e||n)(t.GI1(_.eq,10),t.GI1(t.kD9),t.GI1(L.CU),t.GI1(Dt),t.GI1(L.$K))},n.\u0275cmp=t.In1({type:n,selectors:[["tui-input-phone"]],contentQueries:function(e,o,a){if(1&e&&t.szK(a,tt.Ux,5,t.Yw2),2&e){let s;t.wto(s=t.Gqi())&&(o.datalist=s.first)}},viewQuery:function(e,o){if(1&e&&(t.CC$(Q.Qw,5),t.CC$(k.y_,5)),2&e){let a;t.wto(a=t.Gqi())&&(o.dropdown=a.first),t.wto(a=t.Gqi())&&(o.textfield=a.first)}},hostVars:1,hostBindings:function(e,o){2&e&&t.e48("data-size",o.size)},inputs:{countryCodeSetter:[t.Wk5.None,"countryCode","countryCodeSetter"],phoneMaskAfterCountryCode:"phoneMaskAfterCountryCode",allowText:"allowText",search:"search"},outputs:{searchChange:"searchChange"},features:[t.M5G([(0,It.NK)(n),(0,q.q4)(n),(0,S.UH)(n)],[Nt.YL]),t.eg9],ngContentSelectors:Zt,decls:4,vars:13,consts:[[1,"t-hosted",3,"canOpen","content","open","openChange","tuiActiveZoneChange"],["tuiValueAccessor","",1,"t-textfield",3,"disabled","focusable","invalid","maskito","nativeId","pseudoFocus","pseudoHover","readOnly","tuiTextfieldCleaner","value","valueChange"]],template:function(e,o){1&e&&(t.kPM(Jt),t.I0R(0,"tui-hosted-dropdown",0),t.iHE("openChange",function(s){return t.kNx(o.open,s)||(o.open=s),s}),t.qCj("tuiActiveZoneChange",function(s){return o.onActiveZone(s)}),t.I0R(1,"tui-primitive-textfield",1),t.iHE("valueChange",function(s){return t.kNx(o.nativeValue,s)||(o.nativeValue=s),s}),t.qCj("valueChange",function(s){return o.onValueChange(s)}),t._Xx(2),t._Xx(3,1,["ngProjectAs","input",5,["input"]]),t.C$Y()()),2&e&&(t.E7m("canOpen",o.canOpen)("content",o.datalist||""),t.OKB("open",o.open),t.yG2(),t.E7m("disabled",o.computedDisabled)("focusable",o.focusable)("invalid",o.computedInvalid)("maskito",o.maskOptions)("nativeId",o.nativeId)("pseudoFocus",o.computedFocused)("pseudoHover",o.pseudoHover)("readOnly",o.readOnly)("tuiTextfieldCleaner",o.canClean),t.OKB("value",o.nativeValue))},dependencies:[Q.Qw,k.y_,Z.M,k.KQ,At.a,xt.sD,L.es],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:left}._disabled[_nghost-%COMP%]{pointer-events:none}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}"],changeDetection:0}),(0,m.UN)([x.w7],n.prototype,"calculateMask",null),n})(),ee=(()=>{class n extends jt.Cm{get value(){return this.host.nativeValue}onValueChange(e){this.host.onValueChange(e)}process(e){this.input=e}ngDoCheck(){this.input&&(this.input.type="tel",this.input.inputMode=this.host.inputMode)}}return n.\u0275fac=(()=>{let i;return function(o){return(i||(i=t.otF(n)))(o||n)}})(),n.\u0275dir=t.Sc5({type:n,selectors:[["tui-input-phone"]],features:[t.M5G([(0,S.iu)(n)]),t.eg9]}),n})(),ne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.a4G({type:n}),n.\u0275inj=t.s3X({imports:[[xt.S,k.KA,Q.GE,L.aS,Z.L,At.i]]}),n})();var mt=r(3012),oe=r(812);function it(n,i){return n[i].replace(/[()\- ]/g,"").length}function rt(n,i){return n[i].replace(oe.mU,"")}function Gt(n){const i=Number(n.slice(1,4));return i<600||i>799}let wt=(()=>{class n{constructor(e){this.countriesMasks=e}transform(e,o){return o.find(a=>{if(a===B.q.RU&&/^[78]/.test(e)&&/^(?!880[1-9 ])/.test(e)&&e.length+1===it(this.countriesMasks,B.q.RU)||e.startsWith(rt(this.countriesMasks,a).replace(l.qs,""))&&e.length+1===it(this.countriesMasks,a))switch(a){case B.q.RU:return Gt(e);case B.q.KZ:return!Gt(e);default:return!0}return!1})}}return n.\u0275fac=function(e){return new(e||n)(t.GI1(mt.gu,16))},n.\u0275pipe=t.UTH({name:"tuiToCountryCode",type:n,pure:!0}),n})();var $t=r(1040);function ie(n,i){if(1&n){const e=t.KQA();t.I0R(0,"button",10),t.qCj("click",function(){const s=t.usT(e).$implicit,p=t.GaO(3);return t.CGJ(p.onItemClick(s))}),t.wR5(1,"img",11),t.wVc(2,"tuiFlag"),t.I0R(3,"span",12),t.OEk(4),t.C$Y(),t.I0R(5,"span",13),t.OEk(6),t.wVc(7,"tuiMapper"),t.C$Y()()}if(2&n){const e=i.$implicit,o=t.GaO(2).ngIf,a=t.GaO();t.yG2(),t.E7m("src",t.kDX(2,3,e),t.K6U),t.yG2(3),t.oRS(" ",o[e]," "),t.yG2(2),t.oRS(" ",t.g7$(7,5,e,a.isoToCountryCodeMapper)," ")}}function re(n,i){if(1&n&&(t.I0R(0,"tui-data-list"),t.yuY(1,ie,8,8,"button",9),t.C$Y()),2&n){const e=t.GaO(2);t.yG2(),t.E7m("ngForOf",e.countries)}}function ae(n,i){if(1&n&&(t.wR5(0,"img",14),t.wVc(1,"tuiFlag")),2&n){const e=t.GaO().ngIf,o=t.GaO();t.E7m("alt",e[o.countryIsoCode])("src",t.kDX(1,2,o.countryIsoCode),t.K6U)}}function se(n,i){1&n&&t.C_f(0)}function ue(n,i){if(1&n&&(t.I0R(0,"div",15),t.yuY(1,se,1,0,"ng-container",16),t.C$Y()),2&n){const e=t.GaO(2);t.yG2(),t.E7m("polymorpheusOutlet",e.arrow)}}function le(n,i){if(1&n){const e=t.KQA();t.I0R(0,"tui-hosted-dropdown",1),t.iHE("openChange",function(a){t.usT(e);const s=t.GaO();return t.kNx(s.open,a)||(s.open=a),t.CGJ(a)}),t.qCj("tuiActiveZoneChange",function(a){t.usT(e);const s=t.GaO();return t.CGJ(s.onActiveZone(a))}),t.I0R(1,"div",2),t.wR5(2,"tui-primitive-textfield",3),t.I0R(3,"tui-input-phone",4),t.iHE("ngModelChange",function(a){t.usT(e);const s=t.GaO();return t.kNx(s.value,a)||(s.value=a),t.CGJ(a)}),t._Xx(4),t.wR5(5,"input",5),t.C$Y()(),t.yuY(6,re,2,1,"ng-template",null,6,t.gJz)(8,ae,2,4,"ng-template",null,7,t.gJz)(10,ue,2,1,"ng-template",null,8,t.gJz),t.C$Y()}if(2&n){const e=t.Gew(7),o=t.Gew(9),a=t.Gew(11),s=t.GaO();t.E7m("canOpen",!s.readOnly)("content",e),t.OKB("open",s.open),t.yG2(2),t.E7m("disabled",s.disabled)("editable",!1)("focusable",s.focusable)("pseudoFocus",s.open||null)("readOnly",s.readOnly)("tuiTextfieldCustomContent",o)("tuiTextfieldIcon",a)("tuiTextfieldLabelOutside",!0),t.yG2(),t.E7m("countryCode",s.inputPhoneCountryCode)("disabled",s.disabled)("focusable",s.focusable)("phoneMaskAfterCountryCode",s.phoneMaskAfterCountryCode)("pseudoFocus",s.pseudoFocus)("pseudoHover",s.pseudoHover)("pseudoInvalid",s.computedInvalid)("readOnly",s.readOnly),t.OKB("ngModel",s.value)}}const _e=["*"],kt=(0,d.AL)({countries:[],countryIsoCode:B.q.RU});let de=(()=>{class n extends q._y{constructor(e,o,a,s,p,R,A,D){super(e,o),this.countriesNames$=a,this.countriesMasks=s,this.options=p,this.flagPipe=R,this.extractCountryCodePipe=A,this.textfieldSize=D,this.countries=this.options.countries,this.countryIsoCodeChange=new t._w7,this.countryIsoCode=this.options.countryIsoCode,this.open=!1,this.arrow=Pt.ie,this.isoToCountryCodeMapper=F=>rt(this.countriesMasks,F)}set isoCode(e){var o;this.countryIsoCode!==e&&(null===(o=this.inputPhoneComponent)||void 0===o||o.writeValue(this.value),this.countryIsoCode=e)}get size(){return this.textfieldSize.size}get nativeFocusableElement(){return this.inputPhoneComponent&&!this.computedDisabled?this.inputPhoneComponent.nativeFocusableElement:null}get focused(){return!!this.primitiveTextfield&&this.primitiveTextfield.focused||!!this.inputPhoneComponent&&this.inputPhoneComponent.focused}get inputPhoneCountryCode(){return rt(this.countriesMasks,this.countryIsoCode)}get phoneMaskAfterCountryCode(){return this.calculateMaskAfterCountryCode(this.countriesMasks[this.countryIsoCode],this.inputPhoneCountryCode)}get countryFlagPath(){return this.getFlagPath(this.countryIsoCode)}onPaste(e){let o=function ce(n){var i;return"dataTransfer"in n?(null===(i=n.dataTransfer)||void 0===i?void 0:i.getData("text/plain"))||"":(0,T.WM)(n)}(e).replace(nt.Go,"");const a=this.extractCountryCodePipe.transform(o,this.countries);a?(a===B.q.RU&&(o=o.replace(/^8/,"7")),this.updateCountryIsoCode(a),this.value=`${l.qs}${o}`):this.value=`${this.inputPhoneCountryCode}${o}`.replace(nt.mM,"").slice(0,it(this.countriesMasks,this.countryIsoCode))}getFlagPath(e){return this.flagPipe.transform(e)}onItemClick(e){this.open=!1,this.updateCountryIsoCode(e),this.cdr.detectChanges();const o=it(this.countriesMasks,e);this.value.length>o&&(this.value=this.value.slice(0,o)),this.nativeFocusableElement&&this.nativeFocusableElement.focus()}setDisabledState(){super.setDisabledState(),this.close()}isoToCountryCode(e){return rt(this.countriesMasks,e)}onModelChange(e){this.value=e}onActiveZone(e){this.updateFocused(e)}getFallbackValue(){return""}calculateMaskAfterCountryCode(e,o){return e.replace(o,"").trim()}close(){this.open=!1}updateCountryIsoCode(e){this.countryIsoCode=e,this.countryIsoCodeChange.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(t.GI1(_.eq,10),t.GI1(t.kD9),t.GI1(mt.cV),t.GI1(mt.gu),t.GI1(kt),t.GI1(et.i),t.GI1(wt),t.GI1(L.$K))},n.\u0275cmp=t.In1({type:n,selectors:[["tui-input-phone-international"]],viewQuery:function(e,o){if(1&e&&(t.CC$(Ft,5),t.CC$(k.y_,5)),2&e){let a;t.wto(a=t.Gqi())&&(o.inputPhoneComponent=a.first),t.wto(a=t.Gqi())&&(o.primitiveTextfield=a.first)}},hostVars:1,hostBindings:function(e,o){1&e&&t.qCj("paste.capture.prevent.stop",function(s){return o.onPaste(s)})("drop.capture.prevent.stop",function(s){return o.onPaste(s)}),2&e&&t.e48("data-size",o.size)},inputs:{isoCode:[t.Wk5.None,"countryIsoCode","isoCode"],countries:"countries"},outputs:{countryIsoCodeChange:"countryIsoCodeChange"},features:[t.M5G([(0,It.NK)(n),(0,q.q4)(n),et.i,wt],[Nt.YL]),t.eg9],ngContentSelectors:_e,decls:2,vars:3,consts:[["class","t-hosted-dropdown",3,"canOpen","content","open","openChange","tuiActiveZoneChange",4,"ngIf"],[1,"t-hosted-dropdown",3,"canOpen","content","open","openChange","tuiActiveZoneChange"],["tuiGroup",""],["tuiHintContent","","tuiTextfieldPostfix","","tuiTextfieldPrefix","",1,"t-country-select","tui-group__auto-width-item",3,"disabled","editable","focusable","pseudoFocus","readOnly","tuiTextfieldCustomContent","tuiTextfieldIcon","tuiTextfieldLabelOutside"],[1,"t-input-phone","tui-group__auto-width-item",3,"countryCode","disabled","focusable","phoneMaskAfterCountryCode","pseudoFocus","pseudoHover","pseudoInvalid","readOnly","ngModel","ngModelChange"],["autocomplete","new-password","tuiTextfield",""],["dropdown",""],["countryValueContent",""],["icon",""],["tuiOption","",3,"click",4,"ngFor","ngForOf"],["tuiOption","",3,"click"],["alt","",1,"t-country-item-flag",3,"src"],[1,"t-country-item-name"],[1,"t-country-item-code"],[1,"t-flag",3,"alt","src"],["appearance","icon","tuiWrapper",""],[4,"polymorpheusOutlet"]],template:function(e,o){1&e&&(t.kPM(),t.yuY(0,le,12,20,"tui-hosted-dropdown",0),t.wVc(1,"async")),2&e&&t.E7m("ngIf",t.kDX(1,1,o.countriesNames$))},dependencies:[Q.Qw,k.y_,Ft,k.b,tt.yi,tt.sP,P.u_,Z.M,Mt.Ko,k.KQ,yt.cb,L.We,L.Id,L.a4,L.uU,L.E9,ee,_.ue,_._G,P.ay,Rt.S,$t.Af,P.a,et.i,Ot.M],styles:["[_nghost-%COMP%]{display:block}._disabled[_nghost-%COMP%]{pointer-events:none}.t-hosted-dropdown[_ngcontent-%COMP%]{display:block}.t-country-select[_ngcontent-%COMP%]{width:5.625rem}.t-country-select[_ngcontent-%COMP%]:not(._readonly)     input:not(:disabled){cursor:pointer}.t-country-select._readonly[_ngcontent-%COMP%]     input{cursor:default}.t-country-select[data-size=m][_ngcontent-%COMP%]{width:5.5rem}.t-country-select[data-size=s][_ngcontent-%COMP%]{width:2rem}.t-country-select[data-size=s][_ngcontent-%COMP%]   .t-flag[_ngcontent-%COMP%]{margin-left:-1rem}.t-arrow-icon[_ngcontent-%COMP%]{position:relative;display:flex;width:1.5rem;height:1.5rem;align-items:center;justify-content:center;box-sizing:border-box;cursor:pointer;pointer-events:none;pointer-events:auto}._readonly[_nghost-%COMP%]   .t-arrow-icon[_ngcontent-%COMP%], ._disabled[_nghost-%COMP%]   .t-arrow-icon[_ngcontent-%COMP%]{pointer-events:none}.t-arrow-icon_open[_ngcontent-%COMP%]{transform:rotate(180deg)}.t-input-phone[_ngcontent-%COMP%]{flex:1}.t-flag[_ngcontent-%COMP%]{width:1.75rem;height:1.25rem;margin-left:-.5rem}.t-country-item-flag[_ngcontent-%COMP%]{width:1.75rem;height:1.25rem}.t-country-item-name[_ngcontent-%COMP%]{margin-left:.75rem;margin-right:auto}.t-country-item-code[_ngcontent-%COMP%]{color:var(--tui-text-02);margin-right:.25rem}"],changeDetection:0}),(0,m.UN)([x.w7],n.prototype,"calculateMaskAfterCountryCode",null),n})(),pe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.a4G({type:n}),n.\u0275inj=t.s3X({imports:[[P.MD,_.y,$t.Ux,I.Yt,ne,Mt.Gy,k.KA,L.aS,yt.WY,Q.GE,tt.A$,Pt.S2,Rt.g,Qt.kR,Ot.E,Z.L,et.y]]}),n})();var gt=r(8588),ht=r(9888),Bt=r(6964),Vt=r(5e3),me=r(908);const ge=(n,i,e)=>({"bg-primary text-bold text-white":n,"border-t":i,"border-s":e});function he(n,i){if(1&n){const e=t.KQA();t.I0R(0,"div",5),t.qCj("click",function(){const s=t.usT(e).$implicit,p=t.GaO();return t.CGJ(p.control.setValue(s))}),t.OEk(1),t.C$Y()}if(2&n){const e=i.$implicit,o=t.GaO();t.E7m("ngClass",t.uAc(2,ge,o.control.value===e,e<o.perRow+1,(e-1)%o.perRow==0)),t.yG2(),t.oRS(" ",e," ")}}const Ce=(n,i)=>({"grid-template-rows":n,"grid-template-columns":i}),fe=["*"];let Ee=(()=>{class n{constructor(){this.cd=(0,t.uUt)(t.kD9),this.control=new _.Ku(null),this.maxPeople=10,this.perRow=2,this.options=[],this.innerWidth=window.innerWidth}ngOnInit(){this.recalculatePerRow(),this.recalculateOptions()}ngOnChanges(){this.recalculatePerRow(),this.recalculateOptions()}writeValue(e){if("string"==typeof e&&e.length>0&&e.match(/^\d+$/)&&(e=Number(e)),null==typeof e&&(e=null),null===e||"number"==typeof e)return this.control.setValue(e),void this.cd.detectChanges();console.warn(`PeopleCountInputComponent: invalid value ${e}`)}registerOnChange(e){this.control.valueChanges.subscribe(e)}registerOnTouched(e){this.control.valueChanges.subscribe(e)}setDisabledState(e){e?this.control.disable():this.control.enable()}onResize(e){this.innerWidth=window.innerWidth,this.recalculatePerRow()}recalculatePerRow(){if(this.innerWidth<768)return void(this.perRow=2);if(this.innerWidth<992&&this.maxPeople%3==0)return void(this.perRow=3);let e=5;for(;e>2;){if(this.maxPeople%e==0)return void(this.perRow=e);e--}this.perRow=e}recalculateOptions(){this.options=Array.from({length:this.maxPeople},(e,o)=>o+1)}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-people-count-input"]],hostBindings:function(o,a){1&o&&t.qCj("resize",function(p){return a.onResize(p)},!1,t.MbM)},inputs:{maxPeople:"maxPeople"},standalone:!0,features:[t.M5G([y.UF,{provide:_.Y6,useExisting:n,multi:!0}]),t.SYr,t.UHJ],ngContentSelectors:fe,decls:8,vars:5,consts:()=>{let e;return e="\n           For larger bookings of \n          " + "\ufffd0\ufffd" + "\n           people, \n          " + "\ufffd#7\ufffd" + "\n           contact us \n          " + "\ufffd/#7\ufffd" + "\n           . \n        ",[[1,"flex","items-center","justify-center","mb-5"],[1,"grid","border-primary","text-2xl",3,"ngStyle"],[1,"text-center","text-lg"],e,[1,"ms-1"],[1,"cursor-pointer","flex","items-center","justify-center","border-primary","border-e","border-b",3,"ngClass","click"],["class","cursor-pointer flex items-center justify-center border-primary border-e border-b",3,"ngClass"]]},template:function(o,a){1&o&&(t.kPM(),t._Xx(0),t.I0R(1,"div",0)(2,"div",1),t.c53(3,he,2,6,"div",6,t.oxv),t.C$Y()(),t.I0R(5,"p",2),t.Mff(6,3),t.wR5(7,"app-contact-us",4),t.U7j(),t.C$Y()),2&o&&(t.yG2(2),t.E7m("ngStyle",t.IBC(2,Ce,"repeat("+a.options.length/a.perRow+", 5rem)","repeat("+a.options.length/(a.options.length/a.perRow)+", 5rem)")),t.yG2(),t.oho(a.options),t.yG2(4),t.oBb(a.maxPeople),t.Ylm(6))},dependencies:[P.QF,P.Qt,g.w,me.Q],changeDetection:0})}return n})();var at=r(8824),V=r(400),st=r(9880),zt=r(1673),Kt=r(7692),Ct=r(9212),Te=r(3412),ve=r(7368),ut=r(964),lt=r(9772),Oe=r(1560),ft=r(1128),J=r(7048),_t=r(8256),z=r(8392),Et=r(4820),Yt=r(6528),Ie=r(1940),Me=r(6772);let ye=(()=>{class n extends Me.A{constructor(){super("reservations"),this.version=2}getValidTimes(e){const o={};return e.date instanceof V.EK&&(o.date=`${e.date.year}-${(e.date.month+1)%13}-${e.date.day}`),"number"==typeof e.people&&e.people&&(o.people=e.people),this.get("valid_times",{params:o})}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275prov=t.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Re=r(8268),Pe=r(3688);const Se=["warningsDiv"];function Ne(n,i){if(1&n){const e=t.KQA();t.I0R(0,"div",8)(1,"tui-checkbox-block",9),t.qCj("ngModelChange",function(){t.usT(e);const a=t.GaO();return t.CGJ(a.showOnlyValidDates.set(!a.showOnlyValidDates()))}),t.SAx(2),t.aS0(3,10),t.k70(),t.C$Y()()}if(2&n){const e=t.GaO();t.yG2(),t.E7m("contentAlign","left")("ngModel",e.showOnlyValidDates())}}function Ae(n,i){if(1&n){const e=t.KQA();t.I0R(0,"p",11),t.SAx(1),t.aS0(2,12),t.k70(),t.I0R(3,"span",13),t.qCj("click",function(){t.usT(e);const a=t.GaO();return t.CGJ(a.date.reset())}),t.OEk(4),t.wVc(5,"date"),t.I0R(6,"mat-icon",14),t.OEk(7,"edit"),t.C$Y()()()}if(2&n){const e=t.GaO();t.yG2(4),t.oRS(" ",t.g7$(5,1,e.date.value.toUtcNativeDate(),"EEEE d MMMM y")," ")}}function xe(n,i){1&n&&t.wR5(0,"tui-loader",7),2&n&&t.E7m("showLoader",!0)}const be=(n,i)=>({"btn-primary":n,"btn-primary-outline":i});function De(n,i){if(1&n){const e=t.KQA();t.I0R(0,"button",21),t.qCj("click",function(){const s=t.usT(e).$implicit,p=t.GaO(3);return t.CGJ(p.onTimeClick(s))}),t.OEk(1),t.C$Y()}if(2&n){const e=i.$implicit,o=t.GaO(3);t.E7m("ngClass",t.IBC(2,be,o.time.value&&o.time.value.hours==e.hours&&o.time.value.minutes==e.minutes,!(o.time.value&&o.time.value.hours==e.hours&&o.time.value.minutes==e.minutes))),t.yG2(),t.oRS(" ",e," ")}}function Ue(n,i){if(1&n&&(t.I0R(0,"div",20),t.c53(1,De,2,5,"button",22,t.oxv),t.C$Y()),2&n){const e=t.GaO(2);t.yG2(),t.oho(e.validTimes())}}function Fe(n,i){1&n&&(t.wR5(0,"div",24),t.wVc(1,"linkify")),2&n&&t.E7m("innerHTML",t.kDX(1,1,i.$implicit),t.E3n)}function Ge(n,i){if(1&n&&(t.I0R(0,"div",23),t.c53(1,Fe,2,3,"div",25,t.oxv),t.C$Y()),2&n){const e=t.GaO(2);t.yG2(),t.oho(e.holidayMessages())}}const we=()=>[];function $e(n,i){if(1&n){const e=t.KQA();t.I0R(0,"div",26)(1,"p",27),t.OEk(2),t.C$Y(),t.I0R(3,"p",28),t.OEk(4),t.C$Y(),t.wR5(5,"app-public-show-images",29),t.I0R(6,"p"),t.SAx(7),t.aS0(8,30),t.k70(),t.OEk(9),t.wVc(10,"currency"),t.SAx(11),t.aS0(12,31),t.k70(),t.C$Y(),t.I0R(13,"tui-checkbox-block",9),t.qCj("ngModelChange",function(a){const p=t.usT(e).$implicit,R=t.GaO(2);return t.CGJ(R.updateTableTypeId(a?p.table_type_id:null))}),t.SAx(14),t.aS0(15,32),t.k70(),t.C$Y()()}if(2&n){const e=i.$implicit,o=t.GaO(2);t.yG2(2),t.oRS(" ",null==e.table_type?null:e.table_type.name," "),t.yG2(2),t.oRS(" ",null==e.table_type?null:e.table_type.description," "),t.yG2(),t.E7m("images",(null==e||null==e.table_type?null:e.table_type.images)||t.q4q(8,we)),t.yG2(4),t.oRS(" ",t.kDX(10,6,e.price)," "),t.yG2(4),t.E7m("contentAlign","left")("ngModel",o.tableTypeId()===e.table_type_id)}}function Le(n,i){1&n&&(t.wR5(0,"div",24),t.wVc(1,"linkify")),2&n&&t.E7m("innerHTML",t.kDX(1,1,i.$implicit),t.E3n)}function ke(n,i){if(1&n){const e=t.KQA();t.I0R(0,"div",23,33),t.c53(2,Le,2,3,"div",25,t.oxv),t.I0R(4,"button",34),t.qCj("click",function(){t.usT(e);const a=t.GaO(2);return t.CGJ(a.warningAccepted.setValue(!0))}),t.SAx(5),t.aS0(6,35),t.k70(),t.C$Y()()}if(2&n){const e=t.GaO(2);t.yG2(2),t.oho(e.warningsToShow())}}function Be(n,i){if(1&n&&(t.SAx(0),t.aS0(1,40),t.k70(),t.OEk(2),t.wVc(3,"date")),2&n){const e=t.GaO(3);let o;t.yG2(2),t.oRS(" ",t.g7$(3,1,null==(o=e.maxDate())?null:o.toLocalNativeDate(),"fullDate")," ")}}function Ve(n,i){if(1&n){const e=t.KQA();t.I0R(0,"div")(1,"p",36),t.SAx(2),t.aS0(3,37),t.k70(),t.yuY(4,Be,4,4),t.C$Y(),t.I0R(5,"button",38),t.qCj("click",function(){t.usT(e);const a=t.GaO(2);return t.CGJ(a.findValidDate())}),t.SAx(6),t.aS0(7,39),t.k70(),t.C$Y()()}if(2&n){const e=t.GaO(2);t.yG2(4),t.C0Y(4,e.lastDateAfterMaxDate()?4:-1)}}function ze(n,i){if(1&n&&(t.yuY(0,Ue,3,0,"div",15)(1,Ge,3,0,"div",16),t.I0R(2,"tui-expand",0)(3,"div",17)(4,"p",18),t.SAx(5),t.aS0(6,19),t.k70(),t.C$Y(),t.c53(7,$e,16,9,"div",41,t.oxv),t.C$Y()(),t.yuY(9,ke,7,0,"div",16)(10,Ve,8,1,"div")),2&n){const e=t.GaO();t.C0Y(0,e.validTimes().length>0?0:-1),t.yG2(),t.C0Y(1,e.holidayMessages().length?1:-1),t.yG2(),t.E7m("expanded",e.tableTypes().length>0),t.yG2(5),t.oho(e.tableTypes()),t.yG2(2),t.C0Y(9,e.warningsToShow().length>0?9:-1),t.yG2(),t.C0Y(10,0==e.validTimes().length?10:-1)}}let Ke=(()=>{class n{constructor(){this.cd=(0,t.uUt)(t.kD9),this.reservationsService=(0,t.uUt)(Et.G),this.reservationsv2=(0,t.uUt)(ye),this.notifications=(0,t.uUt)(ft.E),this.destroy$=(0,t.uUt)(y.UF),this.datePipe=(0,t.uUt)(P.y),this.showOnlyValidDates=(0,t.OCB)(!1),this.hasSeenInvalidDateMessage=(0,t.OCB)(!1),this.valueChanged=new t._w7,this.inputTouch=new t._w7,this.lastDate=(0,t.OCB)(null),this.date=new _.Ku(null,[_.AQ.required]),this.time=new _.Ku(null,[_.AQ.required]),this.warningAccepted=new _.Ku(!1),this.groups=(0,t.OCB)({}),this.messages=(0,t.OCB)({}),this.warningsToShow=(0,t.OCB)([]),this.validDates=(0,t.OCB)([]),this.validTimes=(0,t.OCB)([]),this.loadingTimes=(0,t.OCB)(!1),this.loadingDates=(0,t.OCB)(!1),this.holidayMessages=(0,t.OCB)([]),this.today=(0,t.OCB)(V.EK.currentLocal()),this.paymentGroupDefaultMessage="\n           To secure one of our tables, a payment will be required that will be\n          deducted from the final bill at the restaurant. \n        ",this.tableTypes=(0,t.OCB)([]),this.tableTypeIdChange=new t._w7,this.tableTypeId=(0,t.OCB)(null),this.people=null,this.maxDaysInAdvance=300,this.maxDate=(0,t.OCB)(null),this.lastDateAfterMaxDate=(0,t.S6b)(()=>{const e=this.lastDate(),o=this.maxDate();return!(!e||!o)&&e.dayAfter(o)}),this.disabledDates=e=>!(!this.showOnlyValidDates()||!e.dayBefore(this.today())&&!e.dayAfter(this.today().append({day:this.maxDaysInAdvance}))&&(0===this.validDates().length||e.dayAfter(this.validDates()[this.validDates().length-1])||this.validDates().find(o=>o.daySame(e))))}set tableTypeIdInput(e){this.tableTypeId.set(e)}ngOnInit(){this.updateMaxDate(),this.loadDates(),this.date.valueChanges.pipe((0,E.a)(this.destroy$),(0,Ct.y)(()=>this.time.setValue(null)),(0,Ct.y)(e=>{e&&this.lastDate.set(e)})).subscribe(),this.time.valueChanges.pipe((0,E.a)(this.destroy$)).subscribe({next:e=>{this.warningAccepted.setValue(!1);let o=[];if(this.tableTypes.set([]),e){const a=this.groups()[e.toString()];a&&o.push(a?.message||this.paymentGroupDefaultMessage),this.tableTypes.set(a?.table_type_to_preorder_reservation_groups||[]);const s=this.messages()[e.toString()];s&&(o=[...o,...s])}this.warningsToShow.set(o),setTimeout(()=>{this.warningsToShow().length&&this.warningsDiv?.nativeElement&&this.warningsDiv.nativeElement.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})}}),(0,Te.U)(this.date.valueChanges.pipe((0,E.a)(this.destroy$),(0,C.I)(()=>this.date.valid)),this.time.valueChanges.pipe((0,E.a)(this.destroy$),(0,C.I)(()=>this.time.valid)),this.warningAccepted.valueChanges.pipe((0,E.a)(this.destroy$),(0,C.I)(()=>!0===this.warningAccepted.value))).subscribe({next:()=>{this.touched();const e=this.date.value,o=this.time.value;e&&o&&(0===this.warningsToShow().length||this.warningAccepted.value)&&this.emit((0,ut.Qx)(e,o))}}),this.date.valueChanges.pipe((0,E.a)(this.destroy$),(0,C.I)(e=>e instanceof V.EK),(0,Ct.y)(()=>this.loadingTimes.set(!0)),(0,ve.G)(e=>this.reservationsv2.getValidTimes({date:e,people:this.people}).pipe((0,at.U)(()=>this.loadingTimes.set(!1))))).subscribe({next:e=>{const o=[];e.holidays.forEach(p=>{p.message&&"string"==typeof p.message&&p.message.length>0&&o.push(p.message)}),this.holidayMessages.set(o);const a=e.turns.map(p=>p.valid_times).filter(p=>Array.isArray(p)&&p.length>0).flat();this.validTimes.set(a.map(p=>V.uc.fromString((0,lt.CU)(p))).sort((p,R)=>p.toAbsoluteMilliseconds()-R.toAbsoluteMilliseconds())),this.groups.set(e.turns.reduce((p,R)=>(R.valid_times?.forEach(A=>{R.preorder_reservation_group&&(p[(0,lt.CU)(A)]=R.preorder_reservation_group)}),p),{}));const s={};e.turns.forEach(p=>{p.valid_times?.forEach(R=>{(p.messages||[]).forEach(A=>{A&&"string"==typeof A.message&&A.message.length>0&&(s[(0,lt.CU)(R)]||=[],s[(0,lt.CU)(R)].push(A.message))})})}),this.messages.set(s)},error:e=>{this.notifications.error(e instanceof J.gj?(0,_t.mk)(e):z.a)}})}updateTableTypeId(e){this.tableTypeId.set(e),this.tableTypeIdChange.emit(e)}findValidDate(){this.hasSeenInvalidDateMessage.set(!0),this.showOnlyValidDates.set(!0),this.date.reset()}writeValue(e){return null==e?(this.date.reset(),void this.time.reset()):"string"==typeof e?(this.date.setValue((0,ut.ay)(e)),this.time.setValue((0,ut.QX)(e)),void setTimeout(()=>this.cd.detectChanges())):void console.warn("Invalid parameter provided to writeValue",{obj:e})}registerOnChange(e){this.valueChanged.subscribe(e)}registerOnTouched(e){this.inputTouch.subscribe(e)}setDisabledState(e){e?(this.date.disable(),this.time.disable()):(this.date.enable(),this.time.enable())}ngOnChanges(e){this.updateMaxDate()}onDayClick(e){this.date.setValue(e)}touched(){this.inputTouch.emit()}emit(e){this.valueChanged.emit(e)}onTimeClick(e){this.time.setValue(e)}onMonthChange(e){this.loadDates(e)}loadDates(e=V.Ci.currentLocal()){const o=new V.EK(e.year,e.month,1),a=o.append({month:1}).append({day:-1});this.loadingDates.set(!0),this.reservationsService.getValidDates({from_date:this.datePipe.transform(o.toUtcNativeDate(),"yyyy-MM-dd")||"",to_date:this.datePipe.transform(a.toUtcNativeDate(),"yyyy-MM-dd")||""}).pipe((0,E.a)(this.destroy$),(0,at.U)(()=>this.loadingDates.set(!1))).subscribe({next:s=>{this.validDates.update(p=>{let R=[...p];return s.forEach(A=>{R.find(D=>D.daySame(A))||R.push(A)}),R})},error:s=>{console.error(s),this.notifications.error(s instanceof J.gj?(0,_t.mk)(s):z.a)}})}updateMaxDate(){this.maxDate.set(V.EK.currentLocal().append({day:this.maxDaysInAdvance}))}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-datetime-input"]],viewQuery:function(o,a){if(1&o&&t.CC$(Se,5),2&o){let s;t.wto(s=t.Gqi())&&(a.warningsDiv=s.first)}},inputs:{tableTypeIdInput:[t.Wk5.None,"tableTypeId","tableTypeIdInput"],people:"people",maxDaysInAdvance:"maxDaysInAdvance"},outputs:{valueChanged:"valueChanged",inputTouch:"inputTouch",tableTypeIdChange:"tableTypeIdChange"},standalone:!0,features:[t.M5G([y.UF,{provide:_.Y6,useExisting:n,multi:!0}]),t.SYr,t.UHJ],decls:11,vars:9,consts:()=>{let e,o,a,s,p,R,A,D,F,K,Y;return e="Choose the date.",o="Only selectable dates",a="Select the time for the day.",s="Select the type of table (optional)",p="Price:",R="per person",A="Request this table.",D="Confirm",F="We are sorry, there are no available times for the selected date.",K="Find a date.",Y="The last bookable day is",[[3,"expanded"],[1,"text-xl","text-center","mb-3"],e,[1,"flex","flex-col","items-center","justify-center"],[3,"min","max","disabledItemHandler","value","monthChange","touchend","dayClick"],["class","p-3"],["class","text-xl mb-2"],[3,"showLoader"],[1,"p-3"],[3,"contentAlign","ngModel","ngModelChange"],o,[1,"text-xl","mb-2"],a,[1,"cursor-pointer","inline-flex","items-center","ms-2","underline",3,"click"],[1,"ms-1"],["class","grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3"],["class","w-full my-5 border border-primary p-3 rounded-lg"],[1,"w-full","my-5"],[1,"text-xl","text-pretty"],s,[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","gap-3"],["type","button","size","m","tuiButton","","appearance","custom",3,"ngClass","click"],["type","button","size","m","tuiButton","","appearance","custom",3,"ngClass"],[1,"w-full","my-5","border","border-primary","p-3","rounded-lg"],[1,"w-full","text-pretty","my-3","text-xl",3,"innerHTML"],["class","w-full text-pretty my-3 text-xl",3,"innerHTML"],[1,"w-full","mb-3","border","border-primary","p-3","rounded-lg"],[1,"font-bold","block","mb-2","text-lg"],[1,"block","mb-2"],[1,"block",3,"images"],p,R,A,["warningsDiv",""],["tuiButton","","appearance","primary","size","m","type","button",1,"mb-3",3,"click"],D,[1,"text-xl","text-danger","block","mb-3"],F,["tuiButton","","type","button",3,"click"],K,Y,["class","w-full mb-3 border border-primary p-3 rounded-lg"]]},template:function(o,a){1&o&&(t.I0R(0,"tui-expand",0)(1,"p",1),t.SAx(2),t.aS0(3,2),t.k70(),t.C$Y(),t.I0R(4,"div",3)(5,"tui-calendar",4),t.qCj("monthChange",function(p){return a.onMonthChange(p)})("touchend",function(){return a.touched()})("dayClick",function(p){return a.onDayClick(p)}),t.C$Y(),t.yuY(6,Ne,4,2,"div",5),t.C$Y()(),t.I0R(7,"tui-expand",0),t.yuY(8,Ae,8,4,"p",6)(9,xe,1,1,"tui-loader",7)(10,ze,11,5),t.C$Y()),2&o&&(t.E7m("expanded",a.date.invalid),t.yG2(5),t.E7m("min",a.today())("max",a.showOnlyValidDates()?a.maxDate():null)("disabledItemHandler",a.disabledDates)("value",a.lastDate()),t.yG2(),t.C0Y(6,a.hasSeenInvalidDateMessage()?6:-1),t.yG2(),t.E7m("expanded",a.date.valid),t.yG2(),t.C0Y(8,a.date.value?8:-1),t.yG2(),t.C0Y(9,a.loadingTimes()?9:10))},dependencies:[st.kh,st.st,zt.y,zt.I,v.CI,v.Kw,P.QF,P.y,Oe.qL,Kt.Sk,Kt.Cb,Yt.i,Yt.I,_.sl,_.ue,P.cf,Ie.Q,_.y,_._G,Re.M,Pe.s],encapsulation:2,changeDetection:0})}return n})();var He=r(1676),H=r(9938),We=r(9956),Xe=r(3468),Qe=r(1236),je=r(7708),Je=r(1588);function Ze(n,i){if(1&n&&(t.OEk(0),t.SAx(1),t.aS0(2,8),t.k70()),2&n){const e=t.GaO();t.oRS(" ",e.people.value," ")}}function qe(n,i){1&n&&(t.SAx(0),t.aS0(1,9),t.k70())}function tn(n,i){if(1&n&&(t.OEk(0),t.wVc(1,"date")),2&n){const e=t.GaO();t.oRS(" ",t.g7$(1,1,e.datetime.value,"EEEE d MMMM y HH:mm")," ")}}function en(n,i){1&n&&(t.SAx(0),t.aS0(1,10),t.k70())}function nn(n,i){if(1&n&&t.wR5(0,"app-errors",16),2&n){const e=t.GaO(2);t.E7m("errors",e.people.errors)}}function on(n,i){if(1&n){const e=t.KQA();t.I0R(0,"div",11)(1,"div",12)(2,"app-people-count-input",13)(3,"span",14),t.aS0(4,15),t.C$Y()(),t.yuY(5,nn,1,1,"app-errors",16),t.I0R(6,"tui-expand",17)(7,"button",18),t.qCj("click",function(){t.usT(e);const a=t.GaO();return t.CGJ(a.nextStep())}),t.SAx(8),t.aS0(9,19),t.k70(),t.C$Y()()()()}if(2&n){const e=t.GaO();t.yG2(2),t.E7m("maxPeople",e.maxPeople())("formControl",e.people),t.yG2(3),t.C0Y(5,e.showErrorsFor(0)?5:-1),t.yG2(),t.E7m("expanded",e.people.valid||e.maxIndex()>0)}}function rn(n,i){if(1&n&&t.wR5(0,"app-errors",16),2&n){const e=t.GaO(2);t.E7m("errors",e.datetime.errors)}}function an(n,i){if(1&n){const e=t.KQA();t.I0R(0,"div",11)(1,"div",12)(2,"app-datetime-input",20,21),t.iHE("tableTypeIdChange",function(a){t.usT(e);const s=t.GaO();return t.kNx(s.tableTypeId,a)||(s.tableTypeId=a),t.CGJ(a)}),t.C$Y(),t.yuY(4,rn,1,1,"app-errors",16),t.C$Y()()}if(2&n){const e=t.GaO();t.yG2(2),t.OKB("tableTypeId",e.tableTypeId),t.E7m("people",e.people.value)("maxDaysInAdvance",e.maxDaysInAdvance())("formControl",e.datetime),t.yG2(2),t.C0Y(4,e.showErrorsFor(1)?4:-1)}}function sn(n,i){if(1&n&&t.wR5(0,"app-errors",16),2&n){const e=t.GaO(2);t.E7m("errors",e.contacts.controls.firstName.errors)}}function un(n,i){if(1&n&&t.wR5(0,"app-errors",16),2&n){const e=t.GaO(2);t.E7m("errors",e.contacts.controls.lastName.errors)}}function ln(n,i){if(1&n&&t.wR5(0,"app-errors",16),2&n){const e=t.GaO(2);t.E7m("errors",e.contacts.controls.email.errors)}}function _n(n,i){if(1&n&&t.wR5(0,"app-errors",16),2&n){const e=t.GaO(2);t.E7m("errors",e.contacts.controls.phone.errors)}}function cn(n,i){if(1&n){const e=t.KQA();t.I0R(0,"div",22)(1,"form",23),t.qCj("ngSubmit",function(){t.usT(e);const a=t.GaO();return t.CGJ(a.nextStep())}),t.I0R(2,"div",24)(3,"div",25)(4,"tui-input",26),t.SAx(5),t.aS0(6,27),t.k70(),t.wR5(7,"input",28),t.C$Y(),t.yuY(8,sn,1,1,"app-errors",16),t.C$Y(),t.I0R(9,"div",25)(10,"tui-input",29),t.SAx(11),t.aS0(12,30),t.k70(),t.wR5(13,"input",31),t.C$Y(),t.yuY(14,un,1,1,"app-errors",16),t.C$Y()(),t.I0R(15,"div",32)(16,"tui-input",26),t.SAx(17),t.aS0(18,33),t.k70(),t.wR5(19,"input",34),t.C$Y(),t.yuY(20,ln,1,1,"app-errors",16),t.C$Y(),t.I0R(21,"div",32)(22,"tui-input-phone-international",35),t.iHE("countryIsoCodeChange",function(a){t.usT(e);const s=t.GaO();return t.kNx(s.countryIsoCode,a)||(s.countryIsoCode=a),t.CGJ(a)}),t.SAx(23),t.aS0(24,36),t.k70(),t.C$Y(),t.yuY(25,_n,1,1,"app-errors",16),t.C$Y(),t.I0R(26,"tui-expand",17)(27,"button",37),t.SAx(28),t.aS0(29,38),t.k70(),t.C$Y()()()()}if(2&n){const e=t.GaO();t.yG2(),t.E7m("formGroup",e.contacts),t.yG2(3),t.E7m("tuiAutoFocus",!0)("formControlName","firstName"),t.yG2(4),t.C0Y(8,e.showErrorsFor(2)?8:-1),t.yG2(2),t.E7m("formControlName","lastName"),t.yG2(4),t.C0Y(14,e.showErrorsFor(2)?14:-1),t.yG2(2),t.E7m("tuiAutoFocus",!0)("formControlName","email"),t.yG2(4),t.C0Y(20,e.showErrorsFor(2)?20:-1),t.yG2(2),t.E7m("countries",e.countries),t.OKB("countryIsoCode",e.countryIsoCode),t.E7m("formControlName","phone"),t.yG2(3),t.C0Y(25,e.showErrorsFor(2)?25:-1),t.yG2(),t.E7m("expanded",e.contacts.valid)}}function dn(n,i){if(1&n){const e=t.KQA();t.I0R(0,"div",22)(1,"form",23),t.qCj("ngSubmit",function(){t.usT(e);const a=t.GaO();return t.CGJ(a.nextStep())}),t.I0R(2,"div",39)(3,"tui-input-number",40),t.SAx(4),t.aS0(5,41),t.k70(),t.C$Y()(),t.I0R(6,"div",32)(7,"tui-textarea",42),t.SAx(8),t.aS0(9,43),t.k70(),t.C$Y()(),t.I0R(10,"div",32)(11,"tui-checkbox-labeled",44),t.OEk(12," Accetto i "),t.I0R(13,"app-terms-and-conditions-link"),t.OEk(14,"termini e le condizioni"),t.C$Y()()(),t.I0R(15,"button",45),t.SAx(16),t.aS0(17,46),t.k70(),t.C$Y()()()}if(2&n){const e=t.GaO();t.yG2(),t.E7m("formGroup",e.notesForm),t.yG2(2),t.E7m("decimal","never")("min",0)("step",1)("max",e.people.value),t.yG2(8),t.E7m("size","l"),t.yG2(4),t.E7m("showLoader",e.submitting())("disabled",e.notesForm.invalid)}}class W{constructor(){this.destroy$=(0,t.uUt)(y.UF),this.reservations=(0,t.uUt)(Et.G),this.notifications=(0,t.uUt)(ft.E),this.publicDataService=(0,t.uUt)(He.s),this.cd=(0,t.uUt)(t.kD9),this.router=(0,t.uUt)(Qe.E5),this.createdReservation=new t._w7,this.currentIndex=(0,t.OCB)(0),this.lastMaxIndex=0,this.maxIndex=(0,t.S6b)(()=>{const i=this.currentIndex();return this.lastMaxIndex<i&&(this.lastMaxIndex=i),this.lastMaxIndex}),this.maxPeople=(0,t.OCB)(10),this.maxDaysInAdvance=(0,t.OCB)(300),this.submitting=(0,t.OCB)(!1),this.submitted=(0,t.OCB)(!1),this.people=new _.Ku(null,[_.AQ.required,O.S.min(0)]),this.datetime=new _.Ku(null,[_.AQ.required,O.S.pattern(ut.e6)]),this.tableTypeId=null,this.contacts=new _.WC({firstName:new _.Ku(null,[_.AQ.required,_.AQ.minLength(2)]),lastName:new _.Ku(null,[_.AQ.required,_.AQ.minLength(2)]),email:new _.Ku(null,[_.AQ.required,_.AQ.email]),phone:new _.Ku(null,[_.AQ.required,_.AQ.minLength(6)])}),this.notesForm=new _.WC({notes:new _.Ku(null),children:new _.Ku(0,[_.AQ.required,O.S.min(0)]),acceptTerms:new _.Ku(!1,[_.AQ.requiredTrue])}),this.countries=Object.values(B.q),this.configs=(0,t.uUt)(Xe.m),this.countryIsoCode=B.q.IT,this.locale="en",this.steps={0:{form:this.people,submitted:!1,viewed:!1},1:{form:this.datetime,submitted:!1,viewed:!1},2:{form:this.contacts,submitted:!1,viewed:!1},3:{form:this.notesForm,submitted:!1,viewed:!1}}}ngOnInit(){this.configs.locale$.pipe((0,E.a)(this.destroy$)).subscribe(i=>{this.locale=i?i.split("-")[0]:"en"}),this.people.valueChanges.pipe((0,E.a)(this.destroy$),(0,C.I)(i=>"number"==typeof i&&i>0),(0,C.I)(()=>0===this.currentIndex())).subscribe({next:()=>{setTimeout(()=>this.nextStep(),10)}}),this.datetime.valueChanges.pipe((0,E.a)(this.destroy$),(0,C.I)(i=>this.datetime.valid),(0,C.I)(()=>1===this.currentIndex())).subscribe({next:()=>{setTimeout(()=>this.nextStep(),10)}}),this.publicDataService.data$.pipe((0,E.a)(this.destroy$),(0,C.I)(i=>null!==i)).subscribe({next:i=>{const e=i.settings.max_people_per_reservation??null;this.maxPeople.set(e?Number(e):this.maxPeople());const o=i.settings.reservation_max_days_in_advance??null;this.maxDaysInAdvance.set(o?Number(o):this.maxDaysInAdvance())}})}nextStep(){this.currentStep().submitted=!0,!this.currentStep().form.invalid&&(this.steps[this.currentIndex()+1]?(this.currentIndex.update(i=>i+1),this.currentStep().viewed=!0):this.submitForm())}setState(i){this.currentIndex.set(i)}getState(i){const e=this.steps[i];if(!e)return"normal";const o=e.form;return!o||i>this.currentIndex()?"normal":o.invalid&&o.dirty?"error":o.valid?"pass":"normal"}showErrorsFor(i){if(this.submitted())return!0;const e=this.steps[i];return!e||e.submitted}currentStep(){return this.steps[this.currentIndex()]}loadPrevious(i){let e=0;i.adults&&(e+=i.adults),i.children&&(e+=i.children),this.people.setValue(e||null),this.datetime.setValue(i.datetime?i.datetime:null),i.firstName&&this.contacts.get("firstName")?.setValue(i.firstName),i.lastName&&this.contacts.get("lastName")?.setValue(i.lastName),i.email&&this.contacts.get("email")?.setValue(i.email),i.phone&&this.contacts.get("phone")?.setValue(i.phone),i.phoneCountry&&(this.countryIsoCode=i.phoneCountry),i.notes&&this.notesForm.patchValue({notes:i.notes}),i.children&&this.notesForm.patchValue({children:i.children})}formatOutput(){const i=this.contacts.get("email")?.value,e=this.contacts.get("phone")?.value,o=this.contacts.get("firstName")?.value,a=this.contacts.get("lastName")?.value,s=this.datetime.value,p=this.notesForm.get("children")?.value,R=this.people.value,A=this.notesForm.get("notes")?.value;let F=R||0;return p&&(F-=p),function Ye(n){const i=(e,o)=>(console.warn(`Invalid field ${e}`,o),null);return"string"==typeof n.lang&&n.lang.length>0?"string"==typeof n.email&&n.email.length>0?"string"==typeof n.phone&&n.phone.length>0?"string"==typeof n.firstName&&n.firstName.length>0?"string"==typeof n.lastName&&n.lastName.length>0?"string"==typeof n.datetime&&n.datetime.length>0?null===n.notes||"string"==typeof n.notes&&n.notes.length>0?"number"==typeof n.children&&n.children>=0?"number"==typeof n.adults&&n.adults>=0?null==n.tableTypeId||"number"==typeof n.tableTypeId&&n.tableTypeId>=0?{lang:n.lang,email:n.email,phone:n.phone,datetime:n.datetime,children:n.children,notes:n.notes,adults:n.adults,first_name:n.firstName,last_name:n.lastName,table_type_id:n.tableTypeId||null}:i("tableTypeId",n.tableTypeId):i("adults",n.adults):i("children",n.children):i("notes",n.notes):i("datetime",n.datetime):i("lastName",n.lastName):i("firstName",n.firstName):i("phone",n.phone):i("email",n.email):i("lang",n.lang)}({email:i,phone:e,datetime:s,children:p,notes:A,adults:F,tableTypeId:this.tableTypeId,firstName:o,lastName:a,lang:this.locale})}reset(){this.currentIndex.set(0),Object.values(this.steps).forEach(i=>i.form.reset())}submitForm(){this.submitted.set(!0);const i=this.formatOutput();if(!i)return void this.notifications.error(z.a);let e=setTimeout(()=>this.submitting.set(!0),500);this.reservations.create(i).pipe((0,E.a)(this.destroy$),(0,at.U)(()=>clearTimeout(e)),(0,at.U)(()=>this.submitting.set(!1))).subscribe({next:o=>{o.payment?.hpp_url?window.location.href=o.payment.hpp_url:(this.createdReservation.emit(o),this.notifications.success("\n           Your reservation has been created. We will send you a confirmation\n          email shortly. \n        "),this.reset(),o.secret&&this.router.navigate(["/r/",o.secret]))},error:o=>{o instanceof J.gj&&422===o.status?this.manageUnprocessableEntity(o):this.notifications.error(o instanceof J.gj?(0,_t.mk)(o):z.a)}})}manageUnprocessableEntity(i){if(!(i instanceof J.gj))return void this.notifications.error(z.a);if(!(422==i.status&&"object"==typeof i.error&&null!==i.error&&"object"==typeof i.error&&Object.keys(i.error.details).length>0))return console.warn("expected response to have status 422 and error { details: { <field>: <error> } } but did not ",i),void this.notifications.error(z.a);const e=i.error.details;console.warn("manageUnprocessableEntity()",{error:e,response:i}),e.people&&(H.y.assignErrorsToFormFromArray(this.people,e.people),delete e.adults,delete e.children,delete e.people),e.datetime&&(H.y.assignErrorsToFormFromArray(this.datetime,e.datetime),delete e.datetime),e.first_name&&(H.y.assignErrorsToFormFromArray(this.contacts.controls.firstName,e.first_name),delete e.first_name),e.last_name&&(H.y.assignErrorsToFormFromArray(this.contacts.controls.lastName,e.last_name),delete e.last_name),e.phone&&(H.y.assignErrorsToFormFromArray(this.contacts.controls.phone,e.phone),delete e.phone),e.email&&(H.y.assignErrorsToFormFromArray(this.contacts.controls.email,e.email),delete e.email),Object.keys(e).length>0&&this.notifications.error((0,_t.Yj)(Object.values(e).flat())??z.a);const o=Object.keys(this.steps).find(a=>this.steps[Number(a)].form.invalid);o&&!isNaN(Number(o))&&Number(o)>=0&&this.currentIndex.set(Number(o)),this.cd.detectChanges()}static#t=this.\u0275fac=function(e){return new(e||W)};static#e=this.\u0275cmp=t.In1({type:W,selectors:[["app-public-reservation-form"]],outputs:{createdReservation:"createdReservation"},standalone:!0,features:[t.M5G([y.UF]),t.UHJ],decls:18,vars:13,consts:()=>{let i,e,o,a,s,p,R,A,D,F,K,Y,U,ct,Ht;return i="Contacts",e="Summary",o="guests",a="How many people?",s="When?",p="Select the number of guests.",R="Continue",A="Name",D="Surname",F="Email",K="Cell phone",Y="Continue",U="How many children will be with you?",ct="Special occasion? Any specific intolerances? Let us know!",Ht="Booking confirmation",[[1,"justify-around",3,"activeItemIndex"],["tuiStep","",3,"stepState","click"],["tuiStep","",3,"stepState","disabled","click"],i,e,[1,"w-full","h-full",3,"draggable","index","itemsCount","indexChange"],["class","p-3 flex items-center justify-center",4,"tuiItem"],["class","p-3",4,"tuiItem"],o,a,s,[1,"p-3","flex","items-center","justify-center"],[1,"max-w-[500px]"],[3,"maxPeople","formControl"],[1,"text-xl","text-center","mb-2","block"],p,[3,"errors"],[3,"expanded"],["tuiButton","","appearance","custom","type","button",1,"btn-primary",3,"click"],R,[1,"block","mb-3",3,"tableTypeId","people","maxDaysInAdvance","formControl","tableTypeIdChange"],["datetimeInput",""],[1,"p-3"],[1,"mx-auto","max-w-[500px]",3,"formGroup","ngSubmit"],[1,"flex","items-center","mb-3"],[1,"grow"],[1,"grow","me-2",3,"tuiAutoFocus","formControlName"],A,["tuiTextfield","","autocomplete","given-name"],[1,"grow","ms-2",3,"formControlName"],D,["tuiTextfield","","autocomplete","family-name"],[1,"mb-3"],F,["tuiTextfield","","autocomplete","email"],[3,"countries","countryIsoCode","formControlName","countryIsoCodeChange"],K,["tuiButton","","appearance","custom","type","submit",1,"btn-primary"],Y,[1,"mb-3","hidden"],["formControlName","children",3,"decimal","min","step","max"],U,["formControlName","notes"],ct,["formControlName","acceptTerms",3,"size"],["tuiButton","","appearance","custom","type","submit",1,"btn-primary",3,"showLoader","disabled"],Ht]},template:function(e,o){1&e&&(t.I0R(0,"tui-stepper",0)(1,"button",1),t.qCj("click",function(){return o.setState(0)}),t.yuY(2,Ze,3,1,"ng-container")(3,qe,2,0),t.C$Y(),t.I0R(4,"button",2),t.qCj("click",function(){return o.setState(1)}),t.yuY(5,tn,2,4)(6,en,2,0),t.C$Y(),t.I0R(7,"button",2),t.qCj("click",function(){return o.setState(2)}),t.SAx(8),t.aS0(9,3),t.k70(),t.C$Y(),t.I0R(10,"button",2),t.qCj("click",function(){return o.setState(3)}),t.SAx(11),t.aS0(12,4),t.k70(),t.C$Y()(),t.I0R(13,"tui-carousel",5),t.iHE("indexChange",function(s){return t.kNx(o.currentIndex,s)||(o.currentIndex=s),s}),t.yuY(14,on,10,4,"div",6)(15,an,5,5,"div",6)(16,cn,30,14,"div",7)(17,dn,18,8,"div",7),t.C$Y()),2&e&&(t.E7m("activeItemIndex",o.currentIndex()),t.yG2(),t.E7m("stepState",o.getState(0)),t.yG2(),t.C0Y(2,o.people.value&&o.people.valid&&o.currentIndex()>0?2:3),t.yG2(2),t.E7m("stepState",o.getState(1))("disabled",o.maxIndex()<1),t.yG2(),t.C0Y(5,o.datetime.value&&o.datetime.valid&&o.currentIndex()>1?5:6),t.yG2(2),t.E7m("stepState",o.getState(2))("disabled",o.maxIndex()<2),t.yG2(3),t.E7m("stepState",o.getState(3))("disabled",o.maxIndex()<3),t.yG2(3),t.E7m("draggable",!1),t.OKB("index",o.currentIndex),t.E7m("itemsCount",1))},dependencies:[Xt,Tt,vt,Ee,_.sl,_.sz,_.ue,_.u,_.ug,_.uW,_.Wo,dt.uG,dt.iy,dt.Ep,Je.S,Ke,pt.CQ,pt.Oo,pt.cP,k.b,v.CI,v.Kw,P.y,Vt.m6,Vt.gJ,pe,de,gt.Y3,gt.wp,gt.kd,ht.Q7,ht.mi,ht.Qj,st.kh,st.st,We.g,Bt.i,Bt.a,je.E],styles:["[_nghost-%COMP%]     tui-stepper{--tui-primary: var(--first-color);--tui-link: var(--first-color);--tui-secondary: var(--second-color);--tui-link-hover: var(--second-color);--tui-secondary-hover: var(--first-color)}"],changeDetection:0})}(0,m.UN)([x.w7],W.prototype,"getState",null),(0,m.UN)([x.w7],W.prototype,"showErrorsFor",null);var pn=r(6616),mn=r(7296),gn=r(1680);function hn(n,i){1&n&&(t.SAx(0),t.aS0(1,4),t.k70())}function Cn(n,i){1&n&&(t.SAx(0),t.aS0(1,5),t.k70())}function fn(n,i){if(1&n&&t.wR5(0,"app-public-reservation-confirmation",3),2&n){const e=t.GaO();t.E7m("reservation",e.createdReservation())}}function En(n,i){1&n&&(t.I0R(0,"p",6),t.SAx(1),t.aS0(2,7),t.k70(),t.C$Y(),t.wR5(3,"app-public-message",8)(4,"app-public-reservation-form")),2&n&&(t.yG2(3),t.E7m("location","new-reservation-form"))}let Tn=(()=>{class n{constructor(){this.notifications=(0,t.uUt)(ft.E),this.reservations=(0,t.uUt)(Et.G),this.destroy$=(0,t.uUt)(y.UF),this.localStorage=(0,t.uUt)(pn.s),this.createdReservation=(0,t.OCB)(null),this.resendingConfirmation=(0,t.OCB)(!1)}ngOnInit(){this.reservations.created.pipe((0,E.a)(this.destroy$)).subscribe({next:e=>{this.createdReservation.set(e)}})}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-public-home-reserve"]],standalone:!0,features:[t.M5G([y.UF]),t.UHJ],decls:7,vars:2,consts:()=>{let e,o,a;return e="Booking confirmed!",o="Book now",a="Reserve your spot at one of our tables and secure our exclusive experience.",[[1,"mx-4","md:mx-8","lg:mx-12","my-3"],[1,"text-5xl","text-center","text-primary","mb-2"],[1,"bg-primary","w-3/4","mx-auto","h-[1px]","mb-5"],[3,"reservation"],e,o,[1,"text-xl","text-center","mb-3"],a,[1,"block","mb-3","text-center","text-xl",3,"location"]]},template:function(o,a){1&o&&(t.I0R(0,"div",0)(1,"h2",1),t.yuY(2,hn,2,0,"ng-container")(3,Cn,2,0),t.C$Y(),t.wR5(4,"hr",2),t.yuY(5,fn,1,1,"app-public-reservation-confirmation",3)(6,En,5,1),t.C$Y()),2&o&&(t.yG2(2),t.C0Y(2,a.createdReservation()?2:3),t.yG2(3),t.C0Y(5,a.createdReservation()?5:6))},dependencies:[v.CI,W,mn.K,g.w,gn.I],styles:["[_nghost-%COMP%]{background-color:var(--sixth-color);min-height:100vh}"],changeDetection:0})}return n})()},3688:(w,N,r)=>{r.d(N,{s:()=>x});var t=r(4496),v=r(8212),g=r(7692),m=r(668),_=r(6376),O=r(8896),l=r(9052),c=r(1588);function d(I,S){if(1&I&&t.wR5(0,"app-show-image",3),2&I){const f=t.GaO().$implicit;t.E7m("image",f)}}function T(I,S){1&I&&t.yuY(0,d,1,1,"app-show-image",2)}function M(I,S){if(1&I){const f=t.KQA();t.I0R(0,"tui-carousel",1),t.qCj("indexChange",function(h){t.usT(f);const E=t.GaO();return t.CGJ(E.cIndex.set(h))}),t.c53(1,T,1,0,"app-show-image",4,t.oxv),t.C$Y()}if(2&I){const f=t.GaO();t.E7m("draggable",!0)("index",f.cIndex())("duration",f.duration),t.yG2(),t.oho(f.images)}}function y(I,S){1&I&&t.wR5(0,"app-show-image",5),2&I&&t.E7m("image",null)}let x=(()=>{class I{constructor(){this.duration=5e3,this.cIndex=(0,t.OCB)(0)}nextImage(){this.images&&this.images.length>0&&this.cIndex()!=this.images.length-1?this.cIndex.set(this.cIndex()+1):this.cIndex.set(0)}static#t=this.\u0275fac=function(u){return new(u||I)};static#e=this.\u0275cmp=t.In1({type:I,selectors:[["app-public-show-images"]],inputs:{images:"images",duration:"duration"},standalone:!0,features:[t.UHJ],decls:2,vars:1,consts:[["class","w-full h-full",3,"draggable","index","duration"],[1,"w-full","h-full",3,"draggable","index","duration","indexChange"],["class","w-full h-full",3,"image",4,"tuiItem"],[1,"w-full","h-full",3,"image"],["class","w-full h-full",3,"image"],[2,"max-width","100px",3,"image"]],template:function(u,h){1&u&&t.yuY(0,M,3,3,"tui-carousel",0)(1,y,1,1),2&u&&t.C0Y(0,h.images&&h.images.length>0?0:1)},dependencies:[m.uG,m.iy,m.Ep,c.S,v.CI,_.k,g.Sk,O.g,l.y],styles:["[_nghost-%COMP%]{overflow:hidden}[_nghost-%COMP%]     tui-carousel div.t-scroller fieldset.t-item{padding:0}"],changeDetection:0})}return I})()},9052:(w,N,r)=>{r.d(N,{y:()=>c});var t=r(4496),v=r(7760),g=r(6700),m=r(7368),_=r(2700),O=r(1368);function l(d,T){if(1&d&&(t.wR5(0,"img",1),t.wVc(1,"async")),2&d){const M=t.GaO();t.uQ9("max-w-[100%] h-auto min-h-[50px] md:min-h-[100px] ",M.imgClass,""),t._6D("src",t.kDX(1,5,M.imageSrc$),t.K6U),t.E7m("draggable",!1)}}let c=(()=>{class d{constructor(){this.noImage="/assets/img/no-image.jpg",this.imagesService=(0,t.uUt)(v.U),this.imgClass="block rounded",this.image$=new g.g(null),this.imageSrc$=this.image$.pipe((0,m.G)(M=>M instanceof Blob?(0,_.of)(URL.createObjectURL(M)):M&&M.id?this.imagesService.downloadUrl(M.id):(0,_.of)(this.noImage)))}set image(M){this.image$.next(M??null)}static#t=this.\u0275fac=function(y){return new(y||d)};static#e=this.\u0275cmp=t.In1({type:d,selectors:[["app-show-image"]],inputs:{imgClass:"imgClass",image:"image"},standalone:!0,features:[t.UHJ],decls:2,vars:3,consts:[[3,"draggable","class","src"],[3,"draggable","src"]],template:function(y,x){1&y&&(t.yuY(0,l,2,7,"img",0),t.wVc(1,"async")),2&y&&t.C0Y(0,t.kDX(1,1,x.imageSrc$)?0:-1)},dependencies:[O.a],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}"],changeDetection:0})}return d})()},9852:(w,N,r)=>{r.d(N,{S:()=>_});var t=r(6504),v=r(400);const g=O=>null!=O&&""!=`${O}`;class _ extends t.AQ{static formWeeklyFromTo(l,c){return d=>{if(!(d instanceof t.WC))return console.warn("formWeeklyFromTo: param is not a FormGroup",d),null;const T=d,M=T.get(l),y=T.get(c);return M&&y&&M.value instanceof v.uc&&y.value instanceof v.uc&&M.value&&y.value&&M.value.toAbsoluteMilliseconds()>=y.value.toAbsoluteMilliseconds()?{formWeeklyFromTo:!0}:null}}static canBeBlankIf(l,c,d){const T=d?.message||"The form is not valid.";return M=>{if(!(M instanceof t.WC))throw new Error("canBeBlankIf: thisIsAFormGroup is not a FormGroup");const x=M.get(l);if(!x)throw new Error("canBeBlankIf: control is blank. control name: "+l);return g(x.value)||c()?null:{[`${l}canBeBlankIf`]:T}}}static listOfEmails(l){const c=l.value;if(!c||"string"!=typeof c||!c.length)return null;const d=new RegExp("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$","i");return c.split(/\,|\s+/gm).map(T=>T.trim()).filter(T=>T.length).forEach(T=>{if(!d.test(T))return{listOfEmails:!0}}),null}static mustBeArray(l){return Array.isArray(l.value)?null:{mustBeArray:!0}}static objectNotEmpty(l){return g(l.value)&&"object"==typeof l.value&&0===Object.keys(l.value).length&&0===Object.values(l.value).filter(d=>g(d)).length?{objectNotEmpty:!0}:null}static arrayMinLength(l){return c=>Array.isArray(c.value)&&c.value.length<l?{arrayMinLength:{requiredLength:l,actualLength:c.value?.length??0}}:null}static validateArray(l){return c=>{if(!Array.isArray(c.value))return null;const d={};for(const T of c.value){const M=l(new t.yM(T));M&&Object.assign(d,M)}return Object.keys(d).length?d:null}}static percentage(l){return g(l.value)&&(isNaN(l.value)||l.value<0||l.value>100)?{percentage:!0}:null}static phoneIT(l){const c=T=>T?null:{phoneIT:!0},d=`${l.value}`.trim().replace(/\s+/gm,"").replace(/^\+39/gm,"");return g(d)?c(!((O=d).length<9||isNaN(Number(O))||O.length>14)):c(!0);var O}static instanceof(l){return c=>!g(c.value)||c.value instanceof l?null:{instanceof:!0}}static#t=this.instanceOf=this.instanceof;static numerical(l){return g(l.value)&&isNaN(l.value)?{numerical:!0}:null}static moreThan(l){return c=>c.value<=l?{moreThan:!0}:null}static in(l){return this.inclusion(l)}static inclusion(l){return c=>g(c.value)&&!l.includes(c.value)?{inclusion:!0}:null}}},9772:(w,N,r)=>{r.d(N,{CU:()=>g,MJ:()=>v,ye:()=>m}),(new Date).getTimezoneOffset();const v=1;function g(_,O=v){if(!("string"==typeof _&&_.length>0&&_.match(/\d{1,2}:\d{1,2}/)))return console.error("Invalid string provided to strTimeTimezone",{string:_}),"";const c=Number(_.split(":")[0])+O;return`${c<10?"0":""}${c}:${_.split(":")[1]}`}function m(_,O=v){return g(_,-1*O)}},964:(w,N,r)=>{r.d(N,{Ez:()=>T,In:()=>I,Q1:()=>f,Q9:()=>x,QX:()=>c,Qx:()=>m,_0:()=>S,ay:()=>_,cr:()=>l,e6:()=>g,yc:()=>O});var t=r(400),v=r(9772);const g=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z$/;function m(u,h){const E=new t.uc(h.hours,h.minutes).shift({hours:-v.MJ});return new Date(Date.UTC(u.year,u.month,u.day,E.hours,E.minutes)).toISOString()}function _(u){if(!("string"==typeof u&&u.length>0&&u.match(g)))return console.error("Invalid string provided to isoStringToTuiDay",{isoString:u}),null;const h=new Date(u);return new t.EK(h.getFullYear(),h.getMonth()+1,h.getDate())}function O(u){if("string"==typeof u&&u.length>0&&u.match(/^\d{4}-\d{1,2}-\d{1,2}\s{1}\d{1,2}:\d{1,2}$/)&&(u=u.split(" ")[0]),!("string"==typeof u&&u.length>0&&u.match(/^\d{4}-\d{1,2}-\d{1,2}$/)))return console.error("Invalid string provided to stringToTuiDay. Expected format YYYY-MM-DD, got",{str:u}),null;const{day:h,month:E,year:C}=t.EK.parseRawDateString(u,"YMD");return new t.EK(C,E,h)}function l(u){if("string"==typeof u&&u.length>0&&u.match(/^\d{4}-\d{1,2}-\d{1,2}\s{1}\d{1,2}:\d{1,2}$/)&&(u=u.split(" ")[1]),!("string"==typeof u&&u.length>0&&u.match(/^\d{1,2}:\d{1,2}$/)))return console.error("Invalid string provided to stringToTuiDay. Expected format HH:mm, got",{str:u}),null;const[h,E]=u.split(":").map(C=>Number(C));return"number"==typeof h&&h>=0&&h<=23?"number"==typeof E&&E>=0&&E<60?new t.uc(h,E):(console.error("error while parsing time in stringToTuiTime. minutes are invalid",{minutes:E}),null):(console.error("error while parsing time in stringToTuiTime. hours is invalid ",{hours:h}),null)}function c(u){if(!("string"==typeof u&&u.length>0&&u.match(g)))return console.error("Invalid string provided to isoStringToTuiTime",{isoString:u}),null;const h=new Date(u);return new t.uc(h.getHours(),h.getMinutes())}function T(u){return new Date(`1970-01-01 ${u.toString()}`).toISOString()}function x(u){const h=new Date(`${u}Z`);return`${h.getFullYear()}-${String(h.getMonth()+1).padStart(2,"0")}-${String(h.getDate()).padStart(2,"0")} ${String(h.getHours()).padStart(2,"0")}:${String(h.getMinutes()).padStart(2,"0")}`}function I(u){return function M(u){const h=new Date(`1970-01-01 ${u}`);return`${`${h.getUTCHours()}`.padStart(2,"0")}:${`${h.getUTCMinutes()}`.padStart(2,"0")}`}(u.toString())}function S(u){return new t.EK(u.getFullYear(),u.getMonth(),u.getDate())}function f(u){return new t.uc(u.getHours(),u.getMinutes())}},7760:(w,N,r)=>{r.d(N,{U:()=>m});var t=r(6012),v=r(2264),g=r(4496);let m=(()=>{class _ extends t.s{constructor(){super(v.W,"images")}removeFromRecord(l,c){return this.patch(`${l}/remove_from_record`,{record_type:c.record_type,record_id:c.record_id})}updateRecord(l,c){return this.patch("record",{image_ids:c,record_type:l.record_type,record_id:l.record_id})}downloadUrl(l){return this.url(`${l}/download`)}static#t=this.\u0275fac=function(c){return new(c||_)};static#e=this.\u0275prov=g.wxM({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},1588:(w,N,r)=>{r.d(N,{S:()=>v,s:()=>g});var t=r(4496);let v=(()=>{class m{}return m.\u0275fac=function(O){return new(O||m)},m.\u0275dir=t.Sc5({type:m,selectors:[["","tuiItem",""]]}),m})(),g=(()=>{class m{}return m.\u0275fac=function(O){return new(O||m)},m.\u0275mod=t.a4G({type:m}),m.\u0275inj=t.s3X({}),m})()},8976:(w,N,r)=>{r.d(N,{Gy:()=>O,Ko:()=>_});var t=r(4496),v=r(3480),g=r(1368);let m=(()=>{class l{}return l.\u0275fac=function(d){return new(d||l)},l.\u0275cmp=t.In1({type:l,selectors:[["ng-component"]],hostAttrs:[1,"tui-group-styles"],decls:0,vars:0,template:function(d,T){},styles:[".tui-group{position:relative;display:flex;isolation:isolate}.tui-group>*{flex:1 1 0;min-width:0}.tui-group>*:not(:last-child){margin-right:.125rem}.tui-group.tui-group>*:nth-child(n){border-radius:0}.tui-group_collapsed>*{z-index:1}.tui-group_collapsed>*:not(:last-child){margin-right:-1px}.tui-group_collapsed>*._readonly,.tui-group_collapsed>*._disabled,.tui-group_collapsed>*._readonly:hover,.tui-group_collapsed>*._disabled:hover{z-index:0}.tui-group_collapsed>*:hover,.tui-group_collapsed>*._hovered,.tui-group_collapsed>*._pressed{z-index:3}.tui-group_collapsed>*._invalid{z-index:2}.tui-group_collapsed>*._invalid:hover,.tui-group_collapsed>*._invalid._hovered,.tui-group_collapsed>*._invalid._pressed{z-index:4}.tui-group_collapsed>*._hosted_dropdown_focused,.tui-group_collapsed>*._focus-visible,.tui-group_collapsed>*._focused.ng-touched,.tui-group_collapsed>*._focused.ng-untouched{z-index:5}.tui-group_collapsed>*._active,.tui-group_collapsed>*[data-appearance=whiteblock-active]{z-index:6}.tui-group_collapsed>*._focus-visible._focused,.tui-group_collapsed>*._focus-visible._active,.tui-group_collapsed>*._focus-visible[data-appearance=whiteblock-active]{z-index:7}.tui-group_orientation_vertical{display:inline-flex;flex-direction:column}.tui-group_orientation_vertical>*{min-height:auto;flex:0 0 auto}.tui-group_orientation_vertical>*:not(:last-child){margin-right:0;margin-bottom:.125rem}.tui-group_orientation_vertical.tui-group_collapsed>*:not(:last-child){margin-right:0;margin-bottom:-1px}.tui-group_rounded.tui-group_orientation_horizontal>*:first-child{border-top-left-radius:var(--tui-radius-m);border-bottom-left-radius:var(--tui-radius-m)}.tui-group_rounded.tui-group_orientation_horizontal>*:last-child{border-top-right-radius:var(--tui-radius-m);border-bottom-right-radius:var(--tui-radius-m)}.tui-group_rounded.tui-group_orientation_horizontal.tui-group_radius_large>*:first-child{border-top-left-radius:var(--tui-radius-l);border-bottom-left-radius:var(--tui-radius-l)}.tui-group_rounded.tui-group_orientation_horizontal.tui-group_radius_large>*:last-child{border-top-right-radius:var(--tui-radius-l);border-bottom-right-radius:var(--tui-radius-l)}.tui-group_rounded.tui-group_orientation_vertical>*:first-child{border-top-left-radius:var(--tui-radius-m);border-top-right-radius:var(--tui-radius-m)}.tui-group_rounded.tui-group_orientation_vertical>*:last-child{border-bottom-left-radius:var(--tui-radius-m);border-bottom-right-radius:var(--tui-radius-m)}.tui-group_rounded.tui-group_orientation_vertical.tui-group_radius_large>*:first-child{border-top-left-radius:var(--tui-radius-l);border-top-right-radius:var(--tui-radius-l)}.tui-group_rounded.tui-group_orientation_vertical.tui-group_radius_large>*:last-child{border-bottom-left-radius:var(--tui-radius-l);border-bottom-right-radius:var(--tui-radius-l)}@media screen and (max-width: 47.9625em){.tui-group_rounded.tui-group_adaptive.tui-group_orientation_vertical:not(.tui-group_collapsed)>*:first-child:not(:last-child),.tui-group_rounded.tui-group_adaptive.tui-group_orientation_horizontal>*:first-child:not(:last-child),.tui-group_rounded.tui-group_adaptive.tui-group_orientation_vertical:not(.tui-group_collapsed)>*:last-child:not(:first-child),.tui-group_rounded.tui-group_adaptive.tui-group_orientation_horizontal>*:last-child:not(:first-child){border-radius:var(--tui-radius-m)}}@media screen and (max-width: 47.9625em){.tui-group_rounded.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical:not(.tui-group_collapsed)>*:first-child:not(:last-child),.tui-group_rounded.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal>*:first-child:not(:last-child),.tui-group_rounded.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical:not(.tui-group_collapsed)>*:last-child:not(:first-child),.tui-group_rounded.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal>*:last-child:not(:first-child){border-radius:var(--tui-radius-l)}}@media screen and (max-width: 47.9625em){.tui-group_adaptive.tui-group_orientation_vertical{width:100%}.tui-group_adaptive.tui-group_orientation_vertical>*:nth-child(n):not(:only-child){border-radius:var(--tui-radius-m)}.tui-group_adaptive.tui-group_orientation_vertical>*:not(:last-child){margin-bottom:1rem}.tui-group_adaptive.tui-group_orientation_vertical.tui-group_collapsed>*:nth-child(n):not(:only-child){border-radius:0}.tui-group_adaptive.tui-group_orientation_vertical.tui-group_collapsed>*:first-child:not(:last-child){border-radius:var(--tui-radius-m) var(--tui-radius-m) 0 0}.tui-group_adaptive.tui-group_orientation_vertical.tui-group_collapsed>*:last-child:not(:first-child){border-radius:0 0 var(--tui-radius-m) var(--tui-radius-m)}.tui-group_adaptive.tui-group_orientation_vertical.tui-group_collapsed>*:not(:last-child){margin-bottom:-1px}}@media screen and (max-width: 47.9625em){.tui-group_adaptive.tui-group_orientation_horizontal{flex-direction:column;width:100%}.tui-group_adaptive.tui-group_orientation_horizontal>*:nth-child(n):not(:only-child){border-radius:var(--tui-radius-m)}.tui-group_adaptive.tui-group_orientation_horizontal>*:not(:last-child){margin-right:0;margin-bottom:1rem}.tui-group_adaptive.tui-group_orientation_horizontal.tui-group_collapsed>*:nth-child(n):not(:only-child){border-radius:0}.tui-group_adaptive.tui-group_orientation_horizontal.tui-group_collapsed>*:first-child:not(:last-child){border-radius:var(--tui-radius-m) var(--tui-radius-m) 0 0}.tui-group_adaptive.tui-group_orientation_horizontal.tui-group_collapsed>*:last-child:not(:first-child){border-radius:0 0 var(--tui-radius-m) var(--tui-radius-m)}.tui-group_adaptive.tui-group_orientation_horizontal.tui-group_collapsed>*:not(:last-child){margin-right:0;margin-bottom:-1px}}@media screen and (max-width: 47.9625em){.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical>*:nth-child(n):not(:only-child){border-radius:var(--tui-radius-l)}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical.tui-group_collapsed>*:nth-child(n):not(:only-child){border-radius:0}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical.tui-group_collapsed>*:first-child:not(:last-child){border-radius:var(--tui-radius-l) var(--tui-radius-l) 0 0}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical.tui-group_collapsed>*:last-child:not(:first-child){border-radius:0 0 var(--tui-radius-l) var(--tui-radius-l)}}@media screen and (max-width: 47.9625em){.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal>*:nth-child(n):not(:only-child){border-radius:var(--tui-radius-l)}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal.tui-group_collapsed>*:nth-child(n):not(:only-child){border-radius:0}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal.tui-group_collapsed>*:first-child:not(:last-child){border-radius:var(--tui-radius-l) var(--tui-radius-l) 0 0}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal.tui-group_collapsed>*:last-child:not(:first-child){border-radius:0 0 var(--tui-radius-l) var(--tui-radius-l)}}.tui-group__auto-width-item{min-width:auto;flex:0 0 auto}.tui-group .tui-group__inherit-item{border-radius:inherit}\n"],encapsulation:2,changeDetection:0}),l})(),_=(()=>{class l{constructor(d){this.orientation="horizontal",this.adaptive=!1,this.collapsed=!1,this.rounded=!0,this.size="m",d.addComponent(m)}get orientationHorizontal(){return"horizontal"===this.orientation}get orientationVertical(){return"vertical"===this.orientation}get sizeLarge(){return"l"===this.size}}return l.\u0275fac=function(d){return new(d||l)(t.GI1(v.WS))},l.\u0275dir=t.Sc5({type:l,selectors:[["","tuiGroup","",5,"ng-container"]],hostAttrs:["role","group",1,"tui-group"],hostVars:12,hostBindings:function(d,T){2&d&&t.eAK("tui-group_adaptive",T.adaptive)("tui-group_collapsed",T.collapsed)("tui-group_rounded",T.rounded)("tui-group_orientation_horizontal",T.orientationHorizontal)("tui-group_orientation_vertical",T.orientationVertical)("tui-group_radius_large",T.sizeLarge)},inputs:{orientation:"orientation",adaptive:"adaptive",collapsed:"collapsed",rounded:"rounded",size:"size"}}),l})(),O=(()=>{class l{}return l.\u0275fac=function(d){return new(d||l)},l.\u0275mod=t.a4G({type:l}),l.\u0275inj=t.s3X({imports:[[g.MD]]}),l})()},6988:(w,N,r)=>{r.d(N,{E:()=>O,Q:()=>l});var t=r(4496),v=r(3480),g=r(3840),m=r(3120),_=r(3616);let O=(()=>{class c{constructor(T,M){this.el=T,this.destroy$=M}set tuiScrollIntoView(T){T&&(0,m.k)(0).pipe((0,_.a)(this.destroy$)).subscribe(()=>{this.el.nativeElement.dispatchEvent(new CustomEvent(g.dG,{bubbles:!0,detail:this.el.nativeElement}))})}}return c.\u0275fac=function(T){return new(T||c)(t.GI1(t.GMv),t.GI1(v.UF,2))},c.\u0275dir=t.Sc5({type:c,selectors:[["","tuiScrollIntoView",""]],inputs:{tuiScrollIntoView:"tuiScrollIntoView"},features:[t.M5G([v.UF])]}),c})(),l=(()=>{class c{}return c.\u0275fac=function(T){return new(T||c)},c.\u0275mod=t.a4G({type:c}),c.\u0275inj=t.s3X({}),c})()},2500:(w,N,r)=>{r.d(N,{i:()=>_,y:()=>O});var t=r(4496),v=r(3656),g=r(3840),m=r(3724);let _=(()=>{class l{constructor(d){this.svgOptions=d,this.staticPath=this.svgOptions.path("tuiIcon").replace("tuiIcon.svg#tuiIcon","").replace(`tuiIcon.svg${g._m}#tuiIcon`,"")}transform(d){if(!d)return null;switch(d){case m.q.BL:case m.q.BQ:case m.q.CW:case m.q.GF:case m.q.GP:case m.q.MF:case m.q.MQ:case m.q.NC:case m.q.RE:case m.q.YT:return`${this.staticPath}${m.q.FR}.png`;case m.q.SX:return`${this.staticPath}${m.q.NL}.png`;default:return`${this.staticPath}${d}.png`}}}return l.\u0275fac=function(d){return new(d||l)(t.GI1(v.iY,16))},l.\u0275pipe=t.UTH({name:"tuiFlag",type:l,pure:!0}),l})(),O=(()=>{class l{}return l.\u0275fac=function(d){return new(d||l)},l.\u0275mod=t.a4G({type:l}),l.\u0275inj=t.s3X({}),l})()},7176:(w,N,r)=>{r.d(N,{S2:()=>f,ie:()=>S,qE:()=>h,qu:()=>y});var t=r(4496),v=r(3656),g=r(5608),m=r(466),_=r(8048),O=r(1040),l=r(2528),c=r(1368);function d(C,P){1&C&&t.wR5(0,"tui-svg",2),2&C&&t.E7m("src",P.polymorpheusOutlet)}function T(C,P){1&C&&t.C_f(0)}const y=(0,l.AL)({iconSmall:"tuiIconChevronDown",iconLarge:"tuiIconChevronDownLarge"}),S=new O.WO((()=>{class C{constructor(b,$,X){this.dropdown=b,this.textfieldSize=$,this.options=X}get rotated(){return this.dropdown.open}get arrowIcon(){return(0,g.yi)(this.textfieldSize.size)?this.options.iconLarge:this.options.iconSmall}}return C.\u0275fac=function(b){return new(b||C)(t.GI1(m.Qw),t.GI1(_.$K),t.GI1(y))},C.\u0275cmp=t.In1({type:C,selectors:[["tui-arrow"]],hostVars:2,hostBindings:function(b,$){2&b&&t.eAK("_rotated",$.rotated)},decls:3,vars:4,consts:[[3,"src",4,"polymorpheusOutlet"],[4,"ngIf"],[3,"src"]],template:function(b,$){1&b&&(t.yuY(0,d,1,1,"tui-svg",0)(1,T,1,0,"ng-container",1),t.wVc(2,"async")),2&b&&(t.E7m("polymorpheusOutlet",$.arrowIcon),t.yG2(),t.E7m("ngIf",t.kDX(2,2,$.dropdown.openChange)))},dependencies:[v.Wu,O.Af,c.u_,c.a],styles:["[_nghost-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:block;cursor:pointer;pointer-events:none}._rotated[_nghost-%COMP%]{transform:rotate(180deg)}"],changeDetection:0}),C})());let f=(()=>{class C{}return C.\u0275fac=function(b){return new(b||C)},C.\u0275mod=t.a4G({type:C}),C.\u0275inj=t.s3X({imports:[[c.MD,v.Yt,O.Ux]]}),C})();const h=(0,l.AL)({interactive:S,disabled:S})},6964:(w,N,r)=>{r.d(N,{a:()=>y,i:()=>x});var t=r(4496),v=r(6504),g=r(1800),m=r(4164),_=r(4680),O=r(5944),l=r(1739),c=r(3972),d=r(1940),T=r(1368);const M=["*"];let y=(()=>{class I extends g.GG{constructor(f,u,h,E){super(f,u),this.mode$=h,this.options=E,this.size=this.options.size}get focused(){return(0,m.ER)(this.nativeFocusableElement)}get nativeFocusableElement(){var f,u;return null!==(u=null===(f=this.checkbox)||void 0===f?void 0:f.nativeFocusableElement)&&void 0!==u?u:null}onFocused(f){this.updateFocused(f)}onModelChange(f){this.value=f}}return I.\u0275fac=function(f){return new(f||I)(t.GI1(v.eq,10),t.GI1(t.kD9),t.GI1(O.Yx),t.GI1(l.uU))},I.\u0275cmp=t.In1({type:I,selectors:[["tui-checkbox-labeled"]],viewQuery:function(f,u){if(1&f&&t.CC$(d.g,5),2&f){let h;t.wto(h=t.Gqi())&&(u.checkbox=h.first)}},hostVars:1,hostBindings:function(f,u){1&f&&t.qCj("$.data-mode.attr",function(){return u.mode$}),2&f&&t.e48("data-size",u.size)},inputs:{size:"size"},features:[t.M5G([(0,_.NK)(I),(0,g.q4)(I),c.Ir]),t.eg9],ngContentSelectors:M,decls:4,vars:12,consts:[[1,"t-wrapper"],[3,"disabled","focusable","nativeId","pseudoActive","pseudoFocus","pseudoHover","pseudoInvalid","readOnly","size","ngModel","ngModelChange","focusedChange"],[1,"t-content"]],template:function(f,u){1&f&&(t.kPM(),t.I0R(0,"label",0)(1,"tui-checkbox",1),t.iHE("ngModelChange",function(E){return t.kNx(u.value,E)||(u.value=E),E}),t.qCj("focusedChange",function(E){return u.onFocused(E)}),t.C$Y(),t.I0R(2,"div",2),t._Xx(3),t.C$Y()()),2&f&&(t.yG2(),t.E7m("disabled",u.computedDisabled)("focusable",u.focusable)("nativeId",u.nativeId)("pseudoActive",u.pseudoActive)("pseudoFocus",u.pseudoFocus)("pseudoHover",u.pseudoHover)("pseudoInvalid",u.computedInvalid)("readOnly",u.readOnly)("size",u.size),t.OKB("ngModel",u.value),t.yG2(),t.eAK("t-content_disabled",u.computedDisabled))},dependencies:[d.g,v.ue,v._G],styles:["[_nghost-%COMP%]{position:relative;display:block;line-height:0}._disabled[_nghost-%COMP%], ._readonly[_nghost-%COMP%]{pointer-events:none}.t-wrapper[_ngcontent-%COMP%]{display:inline-flex;max-width:100%;cursor:pointer}._disabled[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{cursor:default}[data-mode=onDark][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{color:var(--tui-text-01-night)}.t-content[_ngcontent-%COMP%]{font:var(--tui-font-text-s);line-height:1rem;word-wrap:break-word;min-width:0}.t-content_disabled[_ngcontent-%COMP%]{opacity:var(--tui-disabled-opacity)}[data-size=m][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{margin-left:.5rem}[data-size=l][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{font:var(--tui-font-text-m);margin-left:.75rem}"],changeDetection:0}),I})(),x=(()=>{class I{}return I.\u0275fac=function(f){return new(f||I)},I.\u0275mod=t.a4G({type:I}),I.\u0275inj=t.s3X({imports:[[T.MD,v.y,d.Q]]}),I})()},812:(w,N,r)=>{r.d(N,{m2:()=>y,mU:()=>c,qS:()=>m,w3:()=>x}),r(4392);var v=r(2528);r(3840);const m={DMY:"dd/mm/yyyy",MDY:"mm/dd/yyyy",YMD:"yyyy/mm/dd"},c=/\([#]+\)|[#\- ]/g,y=(S,f,u,h)=>{if(!f?.isSingleDay||!u)return S;const E=(0,v.Kw)(Object.entries(u).map(([P,b])=>[P,-b])),C=f.from.append(h?E:u).append({day:h?1:-1});return h?C.dayBefore(S)?S:C:S&&C.dayAfter(S)?S:C},x={HH:23,MM:59,SS:59,MS:999}}}]);