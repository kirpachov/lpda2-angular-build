"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[8960],{6580:(k,M,_)=>{_.d(M,{k:()=>Ge});var t=_(4496),s=_(1560),E=_(5656);function I(n,a){if(1&n&&(t.I0R(0,"p"),t.OEk(1),t.SAx(2),t.aS0(3,2),t.k70(),t.C$Y(),t.I0R(4,"p"),t.OEk(5),t.SAx(6),t.aS0(7,3),t.k70(),t.C$Y()),2&n){const e=t.GaO();let o,i;t.yG2(),t.oRS(" ",null!==(o=e.adults)&&void 0!==o?o:0," "),t.yG2(4),t.oRS(" ",null!==(i=e.children)&&void 0!==i?i:0," ")}}function d(n,a){if(1&n&&(t.I0R(0,"span"),t.OEk(1),t.C$Y(),t.I0R(2,"mat-icon"),t.OEk(3,"person2"),t.C$Y()),2&n){const e=t.GaO();t.yG2(),t.cNF(e.adults)}}function T(n,a){if(1&n&&(t.I0R(0,"span"),t.OEk(1),t.C$Y(),t.I0R(2,"mat-icon"),t.OEk(3,"child_care"),t.C$Y()),2&n){const e=t.GaO();t.yG2(),t.cNF(e.children)}}function g(n,a){1&n&&t.OEk(0," ??? ")}let m=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-reservation-people"]],inputs:{adults:"adults",children:"children"},standalone:!0,features:[t.UHJ],decls:6,vars:4,consts:()=>{let e,o;return e="Adults",o="Children",[["hint",""],[1,"flex","items-center",3,"tuiHint"],e,o]},template:function(o,i){if(1&o&&(t.yuY(0,I,8,2,"ng-template",null,0,t.gJz),t.I0R(2,"div",1),t.yuY(3,d,4,1)(4,T,4,1)(5,g,1,0),t.C$Y()),2&o){const c=t.Gew(1);t.yG2(2),t.E7m("tuiHint",c),t.yG2(),t.C0Y(3,i.adults&&i.adults>0?3:-1),t.yG2(),t.C0Y(4,i.children&&i.children>0?4:-1),t.yG2(),t.C0Y(5,i.adults&&i.adults>0||i.children&&i.children>0?-1:5)}},dependencies:[s.qL,E.WY,E.lh,E.SL,E.i6,E.IT],encapsulation:2})}return n})();var l=_(1368),r=_(6504),N=_(1236),P=_(6812),Y=_(5892),f=_(3480),$=_(5e3),q=_(8016),v=_(8212),b=_(1512),tt=_(7692),et=_(9880),z=_(3797),ot=_(3040),w=_(8304),X=_(1128),y=_(3616),G=_(8824),x=_(8256),F=_(9888),u=_(5188),O=_(8048),p=_(9956),C=_(4336),S=_(6052),V=_(3968),U=_(3584);function ct(n,a){if(1&n&&(t.I0R(0,"span",4),t.wR5(1,"app-payment-status",5),t.C$Y()),2&n){const e=t.GaO(2);t.yG2(),t.E7m("status",e.status())}}function Et(n,a){if(1&n&&(t.I0R(0,"div",16),t.OEk(1),t.wVc(2,"currency"),t.C$Y()),2&n){const e=t.GaO(3);let o;t.yG2(),t.oRS(" ",t.kDX(2,1,null==(o=e.payment())?null:o.value)," ")}}function ut(n,a){if(1&n&&(t.I0R(0,"p",17),t.SAx(1),t.aS0(2,18),t.k70(),t.I0R(3,"app-copy-content",19),t.OEk(4),t.C$Y()()),2&n){const e=t.GaO(3);let o,i;t.yG2(3),t.E7m("content",null==(o=e.payment())?null:o.external_id),t.yG2(),t.cNF(null==(i=e.payment())?null:i.external_id)}}function mt(n,a){1&n&&t.C_f(0)}function pt(n,a){1&n&&(t.SAx(0),t.aS0(1,20),t.k70())}function Tt(n,a){if(1&n){const e=t.KQA();t.I0R(0,"p",21),t.aS0(1,22),t.C$Y(),t.I0R(2,"button",23),t.qCj("click",function(){t.usT(e);const i=t.GaO(3);return t.CGJ(i.cancelPayment())}),t.SAx(3),t.aS0(4,24),t.k70(),t.C$Y()}if(2&n){const e=t.GaO(3);t.yG2(2),t.E7m("showLoader",e.loading())}}function Ct(n,a){if(1&n){const e=t.KQA();t.I0R(0,"p",21),t.aS0(1,25),t.C$Y(),t.I0R(2,"button",26),t.qCj("click",function(){t.usT(e);const i=t.GaO(3);return t.CGJ(i.confirmPayment())}),t.SAx(3),t.aS0(4,27),t.k70(),t.C$Y(),t.I0R(5,"button",23),t.qCj("click",function(){t.usT(e);const i=t.GaO(3);return t.CGJ(i.cancelPayment())}),t.SAx(6),t.aS0(7,28),t.k70(),t.C$Y()}if(2&n){const e=t.GaO(3);t.yG2(2),t.E7m("showLoader",e.loading()),t.yG2(3),t.E7m("showLoader",e.loading())}}function dt(n,a){if(1&n&&(t.I0R(0,"p"),t.aS0(1,29),t.C$Y(),t.I0R(2,"div",30)(3,"a",31),t.OEk(4),t.C$Y(),t.wR5(5,"app-copy-content",19),t.C$Y()),2&n){const e=t.GaO(3);let o,i,c;t.yG2(3),t._6D("href",null==(o=e.payment())?null:o.hpp_url,t.K6U),t.yG2(),t.cNF(null==(i=e.payment())?null:i.hpp_url),t.yG2(),t.E7m("content",null==(c=e.payment())?null:c.hpp_url)}}function Nt(n,a){1&n&&(t.I0R(0,"p"),t.aS0(1,32),t.C$Y())}function St(n,a){1&n&&t.OEk(0," error ")}function Rt(n,a){if(1&n){const e=t.KQA();t.I0R(0,"h2",6),t.aS0(1,7),t.C$Y(),t.yuY(2,Et,3,3,"div",8)(3,ut,5,2,"p",9),t.I0R(4,"div"),t.SAx(5),t.aS0(6,10),t.k70(),t.OEk(7," : "),t.wR5(8,"app-reservation-payment-preorder-type",11),t.C$Y(),t.I0R(9,"div",12)(10,"div",13),t.yuY(11,mt,1,0,"ng-container",3),t.C$Y(),t.yuY(12,pt,2,0,"ng-template",null,14,t.gJz),t.I0R(14,"button",15),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.fetchPaymentStatus())}),t.I0R(15,"mat-icon"),t.OEk(16,"refresh"),t.C$Y()()(),t.yuY(17,Tt,5,1)(18,Ct,8,2)(19,dt,6,3)(20,Nt,2,0)(21,St,1,0)}if(2&n){const e=t.Gew(13);t.GaO();const o=t.Gew(1),i=t.GaO();let c,R,L,D;t.yG2(2),t.C0Y(2,null!=(c=i.payment())&&c.value?2:-1),t.yG2(),t.C0Y(3,null!=(R=i.payment())&&R.external_id?3:-1),t.yG2(5),t.E7m("value",null==(L=i.payment())?null:L.preorder_type),t.yG2(3),t.E7m("ngTemplateOutlet",o),t.yG2(3),t.E7m("tuiHint",e)("showLoader",i.loading()),t.yG2(3),t.C0Y(17,"paid"===(D=i.status())?17:"authorized"===D?18:"todo"===D?19:"refunded"===D?20:21)}}function Ot(n,a){1&n&&t.C_f(0)}function gt(n,a){if(1&n){const e=t.KQA();t.yuY(0,ct,2,1,"ng-template",null,0,t.gJz)(2,Rt,22,7,"ng-template",null,1,t.gJz),t.I0R(4,"button",2),t.qCj("click",function(){t.usT(e);const i=t.Gew(3),c=t.GaO();return t.CGJ(c.showDialog(i))}),t.yuY(5,Ot,1,0,"ng-container",3),t.C$Y()}if(2&n){const e=t.Gew(1);t.yG2(5),t.E7m("ngTemplateOutlet",e)}}function Mt(n,a){1&n&&(t.SAx(0),t.aS0(1,53),t.k70())}function At(n,a){1&n&&(t.SAx(0),t.aS0(1,54),t.k70())}function It(n,a){1&n&&t.yuY(0,Mt,2,0,"ng-container")(1,At,2,0),2&n&&t.C0Y(0,a.$implicit?0:1)}const ft=()=>[!0,!1];function ht(n,a){if(1&n&&t.wR5(0,"tui-data-list-wrapper",55),2&n){t.GaO();const e=t.Gew(16);t.E7m("itemContent",e)("items",t.q4q(2,ft))}}function Pt(n,a){if(1&n){const e=t.KQA();t.I0R(0,"h2",6),t.aS0(1,35),t.C$Y(),t.I0R(2,"p",36),t.OEk(3),t.wVc(4,"date"),t.wR5(5,"app-reservation-people",37),t.C$Y(),t.I0R(6,"form",38),t.qCj("ngSubmit",function(){const c=t.usT(e).$implicit,R=t.GaO(2);return t.CGJ(R.createPayment(c))}),t.I0R(7,"div",39)(8,"tui-input-number",40),t.SAx(9),t.aS0(10,41),t.k70(),t.C$Y(),t.I0R(11,"p",42),t.aS0(12,43),t.C$Y(),t.wR5(13,"app-errors",44),t.C$Y(),t.I0R(14,"div",39),t.yuY(15,It,2,1,"ng-template",null,45,t.gJz),t.I0R(17,"tui-select",46),t.SAx(18),t.aS0(19,47),t.k70(),t.yuY(20,ht,1,3,"tui-data-list-wrapper",48),t.C$Y(),t.wR5(21,"app-errors",44),t.C$Y(),t.wR5(22,"app-errors",44),t.I0R(23,"button",49),t.SAx(24),t.aS0(25,50),t.k70(),t.C$Y(),t.I0R(26,"button",51),t.SAx(27),t.aS0(28,52),t.k70(),t.C$Y()()}if(2&n){const e=t.Gew(16),o=t.GaO(2);let i,c,R;t.yG2(3),t.CAO(" ",null==(i=o.reservation())?null:i.fullname," - ",t.g7$(4,13,null==(i=o.reservation())?null:i.datetime,"full")," - "),t.yG2(2),t.E7m("adults",null==(c=o.reservation())?null:c.adults)("children",null==(R=o.reservation())?null:R.children),t.yG2(),t.E7m("formGroup",o.newPaymentForm),t.yG2(2),t.E7m("tuiAutoFocus",!0)("tuiTextfieldPostfix","\u20ac")("formControl",o.newPaymentForm.controls.amount),t.yG2(5),t.E7m("errors",o.newPaymentForm.controls.amount.errors),t.yG2(4),t.E7m("valueContent",e)("formControl",o.newPaymentForm.controls.deferred),t.yG2(4),t.E7m("errors",o.newPaymentForm.controls.deferred.errors),t.yG2(),t.E7m("errors",o.newPaymentForm.errors)}}function yt(n,a){if(1&n){const e=t.KQA();t.yuY(0,Pt,29,16,"ng-template",null,33,t.gJz),t.I0R(2,"button",2),t.qCj("click",function(){t.usT(e);const i=t.Gew(1),c=t.GaO();return t.CGJ(c.showDialog(i))}),t.SAx(3),t.aS0(4,34),t.k70(),t.C$Y()}}let vt=(()=>{class n{constructor(){this.destroy=(0,t.uUt)(f.UF),this.dialogs=(0,t.uUt)(q._k),this.reservations=(0,t.uUt)(w.S),this.notifications=(0,t.uUt)(X.E),this.reservationChange=new t._w7,this.reservation=(0,t.OCB)(null),this.payment=(0,t.OCB)(null),this.status=(0,t.S6b)(()=>this.payment()?.status||null),this.loading=(0,t.OCB)(!1),this.newPaymentForm=new r.WC({amount:new r.Ku(null,[r.AQ.required]),deferred:new r.Ku(null,[r.AQ.required])})}set reservationValue(e){this.reservation.set(e),this.payment.set(e?.payment||null)}createPayment(e){const o=this.newPaymentForm.controls.amount.value,i=this.newPaymentForm.controls.deferred.value,c=this.reservation()?.id;c&&!this.newPaymentForm.invalid&&o?this.reservations.createPayment(c,{amount:o,deferred:i}).pipe((0,y.a)(this.destroy)).subscribe({next:R=>{this.reservationValue=R,this.reservationChange.emit(R),this.notifications.fireSnackBar("Payment created."),e.complete()}}):this.notifications.fireSnackBar("Check the entered data and try again.")}showDialog(e){this.dialogs.open(e).subscribe()}fetchPaymentStatus(){const e=this.reservation()?.id;e?(this.loading.set(!0),this.reservations.refreshPaymentStatus(e).pipe((0,y.a)(this.destroy),(0,G.U)(()=>this.loading.set(!1))).subscribe(o=>{this.reservationValue=o},o=>{this.notifications.error((0,x.mk)(o))})):this.notifications.error()}cancelPayment(){const e=this.reservation()?.id;e?this.notifications.confirm("The money from the reservation will be returned to the customer. Are you sure?").subscribe({next:o=>{o&&(this.loading.set(!0),this.reservations.refoundPayment(e).pipe((0,y.a)(this.destroy),(0,G.U)(()=>this.loading.set(!1))).subscribe(i=>{this.reservationValue=i},i=>{this.notifications.error((0,x.mk)(i))}))}}):this.notifications.error()}confirmPayment(){const e=this.reservation()?.id;e?this.notifications.confirm("The transaction will be confirmed. Are you sure?").subscribe({next:o=>{o&&(this.loading.set(!0),this.reservations.confirmPayment(e).pipe((0,y.a)(this.destroy),(0,G.U)(()=>this.loading.set(!1))).subscribe(i=>{this.reservationValue=i},i=>{this.notifications.error((0,x.mk)(i))}))}}):this.notifications.error()}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-admin-reservation-payment"]],inputs:{reservationValue:[t.Wk5.None,"reservation","reservationValue"]},outputs:{reservationChange:"reservationChange"},standalone:!0,features:[t.M5G([f.UF]),t.UHJ],decls:2,vars:1,consts:()=>{let e,o,i,c,R,L,D,B,H,J,K,W,j,Q,Z,h,at,st,lt,rt;return e="Payment status",o="Order type",i="Payment ID:",c="Update status (download the latest version from the payment gateway)",R="The payment has been successfully completed.",L="Refund payment",D="The payment has been authorized.",B="CONFIRM payment",H="Refund payment",J="Link to complete the payment:",K="The payment has been refunded.",W="Create payment",j="Create payment",Q="Payment value (absolute)",Z="The value you enter will not be multiplied by the number of people.",h="Type of charge",at="Confirm",st="Cancel",lt="Authorization",rt="Payment",[["paymentStatus",""],["modalTemplate",""],["type","button","tuiButton","","size","m","appearance","outline",3,"click"],[4,"ngTemplateOutlet"],[1,"text-center","text-nowrap"],[3,"status"],[1,"text-xl","bold","mb-3"],e,["class","w-fit border font-bold rounded-md border-success-dark text-success-dark flex items-center p-2"],["class","mt-3"],o,[3,"value"],[1,"flex","items-center"],[1,"me-2"],["hintForRefresh",""],["size","m","type","button","tuiIconButton","",3,"tuiHint","showLoader","click"],[1,"w-fit","border","font-bold","rounded-md","border-success-dark","text-success-dark","flex","items-center","p-2"],[1,"mt-3"],i,[3,"content"],c,[1,"my-3"],R,["tuiButton","","type","button","size","m","appearance","secondary-destructive",3,"showLoader","click"],L,D,["tuiButton","","type","button","size","m","appearance","outline",1,"me-2",3,"showLoader","click"],B,H,J,[1,"flex","items-center","justify-center"],["tuiLink","",1,"me-2",3,"href"],K,["createPaymentTemplate",""],W,j,[1,"block","text-slate-400","mb-2"],[3,"adults","children"],[3,"formGroup","ngSubmit"],[1,"block","mb-3"],[3,"tuiAutoFocus","tuiTextfieldPostfix","formControl"],Q,[1,"block","my-2"],Z,[3,"errors"],["deferredValue",""],[3,"valueContent","formControl"],h,[3,"itemContent","items",4,"tuiDataList"],["tuiButton","","appearance","primary","type","submit",1,"me-2"],at,["tuiButton","","appearance","outline","type","button"],st,lt,rt,[3,"itemContent","items"]]},template:function(o,i){1&o&&t.yuY(0,gt,6,1)(1,yt,5,0),2&o&&t.C0Y(0,i.payment()?0:i.reservation()?1:-1)},dependencies:[v.CI,v.Kw,ot.M,b.w,b.C,l.cf,l.XV,s.oB,s.qL,E.WY,E.lh,E.SL,E.i6,E.IT,l.y,r.sl,r.sz,r.ue,r.u,r.ug,r.uW,z.CQ,F.Q7,F.mi,F.Qj,O.aS,O.We,$.m6,$.gJ,p.g,m,u.my,u.cP,u.uO,C.A$,C.Ux,S.q8,S.OO,V.a,U.Q],changeDetection:0})}return n})();var nt=_(466),$t=_(9368);function Gt(n,a){if(1&n){const e=t.KQA();t.I0R(0,"button",8),t.qCj("click",function(){t.usT(e);const i=t.GaO().$implicit,c=t.GaO(2);return t.CGJ(c.emit(i))}),t.wR5(1,"app-reservation-status",5),t.C$Y()}if(2&n){const e=t.GaO().$implicit;t.yG2(),t.E7m("status",e)}}function Yt(n,a){if(1&n&&t.yuY(0,Gt,2,1,"button",7),2&n){const e=a.$implicit,o=t.GaO(2);t.C0Y(0,e!=o.status()?0:-1)}}function bt(n,a){if(1&n&&(t.I0R(0,"tui-data-list"),t.c53(1,Yt,1,1,null,null,t.oxv),t.C$Y()),2&n){const e=t.GaO();t.yG2(),t.oho(e.options)}}const xt=n=>({rotate180:n});let Lt=(()=>{class n{constructor(){this.destroy$=(0,t.uUt)(f.UF),this.service=(0,t.uUt)(w.S),this.statusChange=new t._w7,this.itemId=(0,t.OCB)(null),this.loading=(0,t.OCB)(!1),this.status=(0,t.OCB)(null),this.options=["arrived","noshow","cancelled","deleted"],this.buttonAppearance="outline"}set reservation(e){this.itemId.set(e.id||null),this.loading.set(!1),this.status.set(e.status||null)}emit(e){this.statusChange.emit(e)}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-eip-reservation-status"]],inputs:{buttonAppearance:"buttonAppearance",reservation:"reservation"},outputs:{statusChange:"statusChange"},standalone:!0,features:[t.M5G([f.UF]),t.UHJ],decls:9,vars:6,consts:[["dropdownContent",""],[3,"content"],["dropdown",""],["type","button","size","m","tuiButton","",3,"appearance"],[1,"flex","items-center"],[3,"status"],[1,"animation-speed-2",3,"ngClass"],["type","button","tuiOption",""],["type","button","tuiOption","",3,"click"]],template:function(o,i){if(1&o&&(t.yuY(0,bt,3,0,"ng-template",null,0,t.gJz),t.I0R(2,"tui-hosted-dropdown",1,2)(4,"button",3)(5,"span",4),t.wR5(6,"app-reservation-status",5),t.I0R(7,"mat-icon",6),t.OEk(8,"expand_more"),t.C$Y()()()()),2&o){const c=t.Gew(1),R=t.Gew(3);t.yG2(2),t.E7m("content",c),t.yG2(2),t.E7m("appearance",i.buttonAppearance),t.yG2(2),t.E7m("status",i.status()),t.yG2(),t.E7m("ngClass",t.S45(4,xt,R.open))}},dependencies:[v.CI,v.Kw,nt.GE,nt.Qw,C.A$,C.yi,C.sP,tt.Sk,$t.a,s.oB,s.qL,l.QF],changeDetection:0})}return n})();const Dt=["mailTo",""],kt=["*"];let Vt=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["","mailTo",""]],inputs:{mailTo:"mailTo"},standalone:!0,features:[t.UHJ],attrs:Dt,ngContentSelectors:kt,decls:3,vars:1,consts:[["target","_blank","tuiLink","",3,"href"],[1,"flex","items-center"]],template:function(o,i){1&o&&(t.kPM(),t.I0R(0,"a",0)(1,"span",1),t._Xx(2),t.C$Y()()),2&o&&t.CI5("href","mailto:",i.mailTo,"",t.K6U)},dependencies:[b.w,b.C],changeDetection:0})}return n})();var zt=_(8640);const wt=["phoneTo",""];function Xt(n,a){1&n&&(t.I0R(0,"mat-icon",3),t.OEk(1,"chat"),t.C$Y())}function Ft(n,a){1&n&&(t.I0R(0,"mat-icon",3),t.OEk(1,"call"),t.C$Y())}const Ut=["*"];let Bt=(()=>{class n{constructor(){this.whatsapp=!1}ngOnChanges(){this.href=this.whatsapp?`https://wa.me/${this.phoneTo}`:`tel:${this.phoneTo}`}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["","phoneTo",""]],inputs:{phoneTo:"phoneTo",whatsapp:"whatsapp"},standalone:!0,features:[t.SYr,t.UHJ],attrs:wt,ngContentSelectors:Ut,decls:5,vars:2,consts:[["target","_blank","tuiLink","",3,"href"],[1,"flex","items-center"],["class","ms-1"],[1,"ms-1"]],template:function(o,i){1&o&&(t.kPM(),t.I0R(0,"a",0)(1,"span",1),t._Xx(2),t.yuY(3,Xt,2,0,"mat-icon",2)(4,Ft,2,0),t.C$Y()()),2&o&&(t._6D("href",i.href,t.K6U),t.yG2(3),t.C0Y(3,i.whatsapp?3:4))},dependencies:[b.w,b.C,s.qL],changeDetection:0})}return n})(),Ht=(()=>{class n{constructor(){this.human={email_open:"Open email"}}transform(e){return null==e?null:this.human[e]??null}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275pipe=t.UTH({name:"humanizeEventType",type:n,pure:!0,standalone:!0})}return n})();function Jt(n,a){1&n&&(t.SAx(0),t.aS0(1,3),t.k70())}const Kt=(n,a)=>({"text-blue-500":n,"text-slate-500":a}),Wt=n=>({rotate180:n});function jt(n,a){if(1&n&&(t.I0R(0,"tui-hosted-dropdown",1,4)(2,"button",5)(3,"span",6)(4,"span",7),t.OEk(5),t.C$Y(),t.I0R(6,"mat-icon",8),t.OEk(7,"mail"),t.C$Y(),t.I0R(8,"mat-icon",9),t.OEk(9,"expand_more"),t.C$Y()()()()),2&n){const e=t.Gew(1),o=t.GaO(),i=t.Gew(4);t.E7m("content",i),t.yG2(5),t.cNF(o.emails().length),t.yG2(),t.E7m("ngClass",t.IBC(4,Kt,o.emailOpenAtLeastOnce(),!o.emailOpenAtLeastOnce())),t.yG2(2),t.E7m("ngClass",t.S45(7,Wt,e.open))}}const it=(n,a)=>a.id;function Qt(n,a){if(1&n&&(t.I0R(0,"span",19),t.OEk(1),t.wVc(2,"json"),t.C$Y()),2&n){const e=t.GaO().$implicit;t.yG2(),t.cNF(t.kDX(2,1,e.event_data))}}function Zt(n,a){if(1&n&&(t.I0R(0,"li")(1,"span",6)(2,"span",7),t.OEk(3),t.wVc(4,"humanizeEventType"),t.C$Y(),t.I0R(5,"span",7),t.OEk(6),t.wVc(7,"date"),t.C$Y(),t.yuY(8,Qt,3,3,"span",18),t.C$Y()()),2&n){const e=a.$implicit,o=t.GaO().$implicit;t.yG2(3),t.cNF(t.kDX(4,3,o.event_type)),t.yG2(3),t.cNF(t.g7$(7,5,e.event_time,"EEEE d MMMM y, H:m")),t.yG2(2),t.C0Y(8,e.event_data?8:-1)}}function qt(n,a){1&n&&t.c53(0,Zt,9,8,"li",null,it),2&n&&t.oho(a.$implicit.events)}function te(n,a){if(1&n&&(t.I0R(0,"div",14)(1,"div",15)(2,"span",16),t.OEk(3),t.C$Y(),t.I0R(4,"b",7),t.aS0(5,17),t.C$Y(),t.I0R(6,"span"),t.OEk(7),t.wVc(8,"date"),t.C$Y()()(),t.I0R(9,"ul"),t.c53(10,qt,2,0,null,null,it),t.C$Y()),2&n){const e=a.$implicit;t.yG2(3),t.oRS("#",e.id,""),t.yG2(4),t.cNF(t.g7$(8,2,e.created_at,"EEEE d MMMM y, H:m")),t.yG2(3),t.oho(e.image_pixels)}}function ee(n,a){1&n&&(t.SAx(0),t.aS0(1,20),t.k70())}function ne(n,a){1&n&&(t.SAx(0),t.aS0(1,21),t.k70())}function oe(n,a){if(1&n){const e=t.KQA();t.I0R(0,"div",11),t.c53(1,te,12,5,null,null,it),t.I0R(3,"button",12),t.qCj("click",function(){t.usT(e);const i=t.GaO(2);return t.CGJ(i.resendEmail())}),t.I0R(4,"span",6)(5,"span",13),t.yuY(6,ee,2,0,"ng-container")(7,ne,2,0),t.C$Y(),t.I0R(8,"mat-icon"),t.OEk(9,"send"),t.C$Y()()()()}if(2&n){const e=t.GaO(2);t.yG2(),t.oho(e.emails()),t.yG2(2),t.E7m("showLoader",e.loading())("appearance","outline")("disabled",!(e.reservation.email&&e.reservation.email.length>0)),t.yG2(3),t.C0Y(6,e.emails().length>0?6:7)}}function ie(n,a){if(1&n&&t.yuY(0,oe,10,4,"div",10),2&n){const e=t.GaO();t.C0Y(0,e.reservation?0:-1)}}let _e=(()=>{class n{constructor(){this.service=(0,t.uUt)(w.S),this.notifications=(0,t.uUt)(X.E),this.destroy$=(0,t.uUt)(f.UF),this.emails=(0,t.OCB)([]),this.loading=(0,t.OCB)(!1),this.emailOpenAtLeastOnce=(0,t.S6b)(()=>{const e=this.emails();let o=!1;return e.forEach(i=>{i.image_pixels?.forEach(c=>{"email_open"===c.event_type&&c.events&&c.events.length>0&&(o=!0)})}),o})}resendEmail(){const e=this.reservation?.id;e&&(this.loading.set(!0),this.service.deliverConfirmationEmail(e).pipe((0,y.a)(this.destroy$),(0,G.U)(()=>this.loading.set(!1))).subscribe({next:o=>{this.notifications.fireSnackBar("Email sent"),this.setEmailsByReservation(o)},error:o=>{this.notifications.error((0,x.mk)(o)??"Something went wrong. Please try again later.")}}))}ngOnChanges(e){e.reservation&&this.setEmailsByReservation(e.reservation.currentValue)}setEmailsByReservation(e){this.emails.set(e?.delivered_emails??[])}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-reservation-events"]],inputs:{reservation:"reservation"},standalone:!0,features:[t.SYr,t.UHJ],decls:5,vars:1,consts:()=>{let e,o,i,c;return e="Send booking confirmation.",o="Email sent",i="Resend confirmation email.",c="Send confirmation email.",[["resendHint",""],[3,"content"],["allEvents",""],e,["dropdown",""],["tuiButton","","appearance","custom","size","s","type","button"],[1,"flex","items-center"],[1,"me-1"],[1,"text-slate-500",3,"ngClass"],[1,"text-slate-500","animation-speed-2",3,"ngClass"],["class","p-3"],[1,"p-3"],["type","button","tuiButton","","size","s",3,"showLoader","appearance","disabled","click"],[1,"me-2"],[1,"flex","flex-col"],[1,"flex"],[1,"text-slate-400","me-1"],o,["class","text-slate-400"],[1,"text-slate-400"],i,c]},template:function(o,i){1&o&&t.yuY(0,Jt,2,0,"ng-template",null,0,t.gJz)(2,jt,10,9,"tui-hosted-dropdown",1)(3,ie,1,1,"ng-template",null,2,t.gJz),2&o&&(t.yG2(2),t.C0Y(2,i.reservation?2:-1))},dependencies:[v.CI,v.Kw,s.qL,E.WY,nt.GE,nt.Qw,l.y,l.ED,Ht,l.QF],encapsulation:2})}return n})();var ae=_(1183),se=_(2920),_t=_(1040),le=_(5180);let re=(()=>{class n{constructor(e){this.context=e,this.control=new r.Ku(null),this.form=new r.WC({control:this.control});let o=null;e.data&&"object"==typeof e.data&&e.data.item instanceof le.C?o=e.data.item.table||null:e.data&&"string"==typeof e.data.table&&(o=e.data.table),this.control.patchValue(o)}submit(){this.context.completeWith(this.control.value)}cancel(){this.context.completeWith(!1)}static#t=this.\u0275fac=function(o){return new(o||n)(t.GI1(_t.C0))};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-edit-reservation-table-modal"]],standalone:!0,features:[t.UHJ],decls:10,vars:3,consts:()=>{let e;return e="Table number",[[1,"m-3","p-3",3,"formGroup","ngSubmit"],[1,"mb-3"],[3,"tuiAutoFocus","formControl"],e,[1,"flex","items-center"],["type","submit","tuiButton",""],["type","button","tuiButton","","appearance","icon",3,"click"]]},template:function(o,i){1&o&&(t.I0R(0,"form",0),t.qCj("ngSubmit",function(){return i.submit()}),t.I0R(1,"div",1)(2,"tui-input",2),t.SAx(3),t.aS0(4,3),t.k70(),t.C$Y()(),t.I0R(5,"div",4)(6,"button",5),t.OEk(7," Conferma "),t.C$Y(),t.I0R(8,"button",6),t.qCj("click",function(){return i.cancel()}),t.OEk(9," Annulla "),t.C$Y()()()),2&o&&(t.E7m("formGroup",i.form),t.yG2(2),t.E7m("tuiAutoFocus",!0)("formControl",i.control))},dependencies:[r.sl,r.sz,r.ue,r.u,r.ug,r.uW,v.CI,v.Kw,O.aS,z.CQ,z.Oo,z.cP,$.m6,$.gJ],encapsulation:2,changeDetection:0})}return n})();var ce=_(8392);const Ee=(n,a)=>a.id;function ue(n,a){if(1&n&&(t.OEk(0),t.wVc(1,"date")),2&n){const e=t.GaO().$implicit;t.oRS(" ",t.g7$(1,1,e.datetime,"full")," ")}}function me(n,a){if(1&n&&(t.I0R(0,"p"),t.SAx(1),t.aS0(2,31),t.k70(),t.OEk(3),t.C$Y()),2&n){const e=t.GaO(2).$implicit;t.yG2(3),t.CAO(" ",e.table_type.name," (id=",e.table_type_id,"). ")}}function pe(n,a){if(1&n&&(t.yuY(0,me,4,2,"ng-template",null,29,t.gJz),t.I0R(2,"span",30)(3,"mat-icon",19),t.OEk(4,"table_restaurant"),t.C$Y(),t.I0R(5,"span"),t.OEk(6),t.C$Y()()),2&n){const e=t.Gew(1),o=t.GaO().$implicit;t.yG2(2),t.E7m("tuiHint",e),t.yG2(4),t.cNF(o.table_type.name)}}function Te(n,a){if(1&n&&(t.I0R(0,"span",32)(1,"span",1)(2,"span",19),t.aS0(3,33),t.C$Y(),t.I0R(4,"span",19),t.OEk(5),t.C$Y()()()),2&n){const e=t.GaO().$implicit;t.yG2(5),t.cNF(e.table)}}function Ce(n,a){1&n&&(t.SAx(0),t.aS0(1,36),t.k70())}function de(n,a){1&n&&(t.SAx(0),t.aS0(1,37),t.k70())}function Ne(n,a){1&n&&(t.SAx(0),t.aS0(1,38),t.k70())}function Se(n,a){1&n&&(t.SAx(0),t.aS0(1,39),t.k70())}function Re(n,a){if(1&n&&t.yuY(0,Ce,2,0)(1,de,2,0)(2,Ne,2,0)(3,Se,2,0),2&n){const e=t.GaO(2).$implicit;let o;t.C0Y(0,"todo"===(o=e.payment.status)?0:"authorized"===o?1:"paid"===o?2:"refunded"===o?3:-1)}}function Oe(n,a){if(1&n&&(t.yuY(0,Re,4,1,"ng-template",null,34,t.gJz),t.I0R(2,"mat-icon",35),t.wVc(3,"paymentStatusColor"),t.OEk(4,"attach_money"),t.C$Y()),2&n){const e=t.Gew(1),o=t.GaO().$implicit;t.yG2(2),t.E7m("tuiHint",e)("ngClass",t.kDX(3,2,o.payment.status))}}function ge(n,a){if(1&n&&(t.I0R(0,"p",40),t.OEk(1),t.C$Y()),2&n){const e=t.GaO().$implicit;t.yG2(),t.oRS(" ",e.notes," ")}}function Me(n,a){if(1&n&&(t.I0R(0,"p",41),t.OEk(1),t.C$Y()),2&n){const e=t.GaO().$implicit;t.E7m("phoneTo",e.phone)("whatsapp",!0),t.yG2(),t.cNF(e.phone)}}function Ae(n,a){if(1&n&&(t.I0R(0,"p",42),t.OEk(1),t.C$Y()),2&n){const e=t.GaO().$implicit;t.E7m("mailTo",e.email),t.yG2(),t.cNF(e.email)}}function Ie(n,a){if(1&n&&(t.I0R(0,"span",43)(1,"span",19),t.aS0(2,44),t.C$Y(),t.I0R(3,"span"),t.OEk(4),t.wVc(5,"date"),t.C$Y()()),2&n){const e=t.GaO().$implicit;t.yG2(4),t.cNF(t.g7$(5,1,e.cancelled_at,"medium"))}}function fe(n,a){1&n&&(t.I0R(0,"span"),t.aS0(1,45),t.C$Y())}function he(n,a){1&n&&(t.I0R(0,"span"),t.aS0(1,46),t.C$Y())}function Pe(n,a){if(1&n){const e=t.KQA();t.I0R(0,"a",47),t.qCj("click",function(){t.usT(e);const i=t.GaO().$implicit,c=t.GaO();return t.CGJ(c.editTable(i))}),t.SAx(1),t.aS0(2,48),t.k70(),t.C$Y()}}const ye=n=>({rotate180:n});function ve(n,a){if(1&n){const e=t.KQA();t.I0R(0,"div",3)(1,"div")(2,"span",4),t.yuY(3,ue,2,4,"ng-template",null,5,t.gJz),t.I0R(5,"span",6),t.OEk(6),t.wVc(7,"date"),t.C$Y(),t.I0R(8,"span",7),t.OEk(9),t.C$Y(),t.wR5(10,"app-reservation-people",8),t.yuY(11,pe,7,2)(12,Te,6,1,"span",9)(13,Oe,5,4),t.C$Y(),t.yuY(14,ge,2,1,"p",10),t.I0R(15,"tui-expand",null,11),t.yuY(17,Me,2,3,"p",12)(18,Ae,2,2,"p",13),t.I0R(19,"div",14)(20,"a",15),t.SAx(21),t.aS0(22,16),t.k70(),t.C$Y()(),t.I0R(23,"div",17)(24,"span",18)(25,"span",19),t.aS0(26,20),t.C$Y(),t.I0R(27,"span"),t.OEk(28),t.wVc(29,"date"),t.C$Y()(),t.yuY(30,Ie,6,4,"span",21),t.C$Y(),t.I0R(31,"div",14),t.wR5(32,"app-admin-reservation-payment",22),t.C$Y(),t.wR5(33,"app-reservation-events",23),t.C$Y(),t.I0R(34,"button",24),t.qCj("click",function(){t.usT(e);const i=t.Gew(16);return t.CGJ(i.expanded=!i.expanded)}),t.I0R(35,"span",1),t.yuY(36,fe,2,0,"span")(37,he,2,0),t.I0R(38,"mat-icon",25),t.OEk(39,"expand_more"),t.C$Y()()()(),t.I0R(40,"div",26)(41,"app-eip-reservation-status",27),t.qCj("statusChange",function(i){const R=t.usT(e).$implicit,L=t.GaO();return t.CGJ(L.updateStatus(R,i))}),t.C$Y(),t.yuY(42,Pe,3,0,"a",28),t.C$Y()()}if(2&n){const e=a.$implicit,o=t.Gew(4),i=t.Gew(16);t.yG2(5),t.E7m("tuiHint",o),t.yG2(),t.oRS(" ",t.g7$(7,21,e.datetime,"HH:mm")," "),t.yG2(3),t.cNF(e.fullname),t.yG2(),t.E7m("adults",e.adults)("children",e.children),t.yG2(),t.C0Y(11,e.table_type?11:-1),t.yG2(),t.C0Y(12,e.table?12:-1),t.yG2(),t.C0Y(13,e.payment?13:-1),t.yG2(),t.C0Y(14,e.notes&&e.notes.length>0?14:-1),t.yG2(3),t.C0Y(17,e.phone&&e.phone.length>0?17:-1),t.yG2(),t.C0Y(18,e.email&&e.email.length>0?18:-1),t.yG2(2),t.CI5("routerLink","/admin/reservations/",e.id,""),t.yG2(8),t.cNF(t.g7$(29,24,e.created_at,"medium")),t.yG2(2),t.C0Y(30,e.cancelled_at?30:-1),t.yG2(2),t.E7m("reservation",e),t.yG2(),t.E7m("reservation",e),t.yG2(3),t.C0Y(36,i.expanded?36:37),t.yG2(2),t.E7m("ngClass",t.S45(27,ye,i.expanded)),t.yG2(3),t.E7m("buttonAppearance","flat")("reservation",e),t.yG2(),t.C0Y(42,e.table?-1:42)}}function $e(n,a){1&n&&(t.I0R(0,"app-no-items",49)(1,"h4"),t.aS0(2,50),t.C$Y(),t.I0R(3,"span"),t.aS0(4,51),t.C$Y()()),2&n&&t.E7m("showLoader",!1)}let Ge=(()=>{class n{constructor(){this.loading=(0,t.OCB)(!1),this.data=(0,t.OCB)(null),this.items=(0,t.S6b)(()=>this.data()?.items||[]),this.dialogs=(0,t.uUt)(q._k),this.injector=(0,t.uUt)(t.zZn),this.service=(0,t.uUt)(w.S),this.router=(0,t.uUt)(N.E5),this.notifications=(0,t.uUt)(X.E),this.destroy$=(0,t.uUt)(f.UF),this.reservationsEvents=(0,t.uUt)(se.I),this._filters={},this.searchSub=null}set filters(e){this._filters=e}get filters(){return this._filters}ngOnInit(){this.reservationsEvents.listenWsChanges().subscribe({next:()=>this.search()}),this.router.events.pipe((0,y.a)(this.destroy$)).subscribe({next:e=>{e instanceof N.MT&&this.search()}}),this.search()}ngOnChanges(){this.search()}export(){this.loading.set(!0),this.service.export(this.filters).pipe((0,y.a)(this.destroy$),(0,G.U)(()=>this.loading.set(!1))).subscribe({error:e=>{this.notifications.error((0,x.mk)(e)||ce.a)}})}updateStatus(e,o){const i=e.id;i&&o?this.notifications.confirm("La prenotazione verr\xe0 aggiornata.",{title:"\n           Booking \n          " + e.fullname + "\n           for \n          " + ((e.adults || 0) + (e.children || 0)) + "\n           in status \n          " + ae.au[o].title + "\n        "}).subscribe({next:c=>{c&&this.confirmedUpdateStatus(i,o)}}):this.notifications.error()}delete(e){e&&this.notifications.confirm("Are you sure you want to cancel this reservation?").subscribe({next:o=>{o&&this.confirmedDelete(e)}})}filtersChanged(e){this.filters=e,this.search(e)}editTable(e){this.dialogs.open(new _t.WO(re,this.injector),{data:{item:e}}).pipe((0,y.a)(this.destroy$)).subscribe({next:o=>{0!=o&&e.id&&(this.loading.set(!0),this.service.update(e.id,{table:o}).pipe((0,y.a)(this.destroy$),(0,G.U)(()=>this.loading.set(!1)),(0,G.U)(()=>this.search())).subscribe())},error:o=>console.error(o)})}confirmedUpdateStatus(e,o){this.loading.set(!0),("deleted"==o?this.service.destroy(e):this.service.updateStatus(e,o)).pipe((0,y.a)(this.destroy$),(0,G.U)(()=>this.loading.set(!1))).subscribe({next:()=>{this.notifications.fireSnackBar("State updated successfully."),this.search()},error:c=>{this.notifications.error((0,x.mk)(c)||"Something went wrong with the status update.")}})}confirmedDelete(e){this.loading.set(!0),this.service.destroy(e).pipe((0,y.a)(this.destroy$),(0,G.U)(()=>{this.loading.set(!1),this.search()})).subscribe({error:o=>{this.notifications.error((0,x.mk)(o)||"Something went wrong with the cancellation.")}})}search(e=this.filters){e||={},e={...e},this.searchSub?.unsubscribe(),this.loading.set(!0),this.searchSub=this.service.search(e).pipe((0,y.a)(this.destroy$),(0,G.U)(()=>this.loading.set(!1))).subscribe({next:o=>{this.data.set(o)},error:o=>{this.notifications.error((0,x.mk)(o)||"Something went wrong in the research."),console.error(o)}})}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-admin-list-reservations"]],inputs:{filters:"filters"},standalone:!0,features:[t.M5G([f.UF]),t.SYr,t.UHJ],decls:9,vars:3,consts:()=>{let e,o,i,c,R,L,D,B,H,J,K,W,j,Q,Z;return e="Export filtered bookings.",o="Change reservation",i="Creation:",c="The type of table has been selected.",R="Table",L="The payment is pending completion.",D="The payment has been authorized.",B="The payment has been successfully completed.",H="The payment has been refunded.",J="Cancellation:",K="Hide details",W="Show details",j="Assign table",Q="No reservation",Z="Try changing the search filters.",[["type","button","tuiButton","","appearance","flat",3,"size","showLoader","click"],[1,"flex","items-center"],e,[1,"p-3","m-2","flex","items-center","justify-between","border","rounded-md","border-slate-400"],[1,"flex","items-center","text-lg","mb-2","flex-wrap"],["detailDatetime",""],[1,"me-2",3,"tuiHint"],[1,"me-2"],[1,"me-2",3,"adults","children"],["class","text-danger font-bold"],["class","block mb-2 text-danger font-bold overflow-wrap-anywhere"],["expand",""],["class","block mb-2 overflow-wrap-anywhere",3,"phoneTo","whatsapp"],["class","block mb-2 overflow-wrap-anywhere",3,"mailTo"],[1,"block","mb-2"],["tuiLink","",3,"routerLink"],o,[1,"block"],[1,"text-slate-400","block","mb-2"],[1,"me-1"],i,["class","text-slate-400 block mb-2",3,"tuiHint"],[3,"reservation"],[1,"my-auto",3,"reservation"],["type","button","size","s","tuiButton","","appearance","outline",3,"click"],[1,"animation-speed-2",3,"ngClass"],[1,"flex","flex-col","justify-center","items-around"],[1,"mb-3",3,"buttonAppearance","reservation","statusChange"],["class","flex flex-col items-center justify-center","tuiLink",""],["tableTypeHint",""],[1,"flex","items-center","border","rounded-md","border-slate-400","p-1","me-2",3,"tuiHint"],c,[1,"text-danger","font-bold"],R,["paymentStatusHint",""],[3,"tuiHint","ngClass"],L,D,B,H,[1,"block","mb-2","text-danger","font-bold","overflow-wrap-anywhere"],[1,"block","mb-2","overflow-wrap-anywhere",3,"phoneTo","whatsapp"],[1,"block","mb-2","overflow-wrap-anywhere",3,"mailTo"],[1,"text-slate-400","block","mb-2",3,"tuiHint"],J,K,W,["tuiLink","",1,"flex","flex-col","items-center","justify-center",3,"click"],j,[3,"showLoader"],Q,Z,["class","p-3 m-2 flex items-center justify-between border rounded-md border-slate-400"]]},template:function(o,i){1&o&&(t.c53(0,ve,43,29,"div",52,Ee,!1,$e,5,1,"app-no-items",49),t.I0R(3,"button",0),t.qCj("click",function(){return i.export()}),t.I0R(4,"span",1)(5,"mat-icon"),t.OEk(6,"download_file"),t.C$Y(),t.SAx(7),t.aS0(8,2),t.k70(),t.C$Y()()),2&o&&(t.oho(i.items()),t.yG2(3),t.E7m("size","s")("showLoader",i.loading()))},dependencies:[l.MD,l.QF,l.y,r.sl,z.CQ,$.m6,v.CI,v.Kw,s.qL,N.ER,b.w,b.C,Y.yy,E.WY,E.lh,E.SL,E.i6,E.IT,_e,Bt,Vt,m,zt.O,tt.Sk,vt,r.y,Lt,et.kh,et.st,P.m],encapsulation:2,changeDetection:0})}return n})()},3040:(k,M,_)=>{_.d(M,{M:()=>T});var t=_(4496),s=_(1128),E=_(8212),I=_(1560);const d=["*"];let T=(()=>{class g{constructor(){this.notifications=(0,t.uUt)(s.E),this.appearance="outline",this.size="m",this.copyHandler=this.defaultCopyHandler,this.message="Copied"}copy(){this.copyHandler(this.content??null)}defaultCopyHandler(l){l&&navigator.clipboard.writeText(l).then(r=>{this.notifications.fireSnackBar(this.message)})}static#t=this.\u0275fac=function(r){return new(r||g)};static#e=this.\u0275cmp=t.In1({type:g,selectors:[["app-copy-content"]],inputs:{content:"content",appearance:"appearance",size:"size",copyHandler:"copyHandler",message:"message"},standalone:!0,features:[t.UHJ],ngContentSelectors:d,decls:4,vars:2,consts:[["tuiIconButton","","type","button",1,"ms-2",3,"appearance","size","click"]],template:function(r,N){1&r&&(t.kPM(),t._Xx(0),t.I0R(1,"button",0),t.qCj("click",function(){return N.copy()}),t.I0R(2,"mat-icon"),t.OEk(3,"content_copy"),t.C$Y()()),2&r&&(t.yG2(),t.E7m("appearance",N.appearance)("size",N.size))},dependencies:[E.CI,E.Kw,I.qL],styles:["[_nghost-%COMP%]{display:flex;align-items:center}"],changeDetection:0})}return g})()},8640:(k,M,_)=>{_.d(M,{O:()=>d});var t=_(7692),s=_(6264),E=_(4496);const I=["*"];let d=(()=>{class T{constructor(){this.showLoader=!1}static#t=this.\u0275fac=function(l){return new(l||T)};static#e=this.\u0275cmp=E.In1({type:T,selectors:[["app-no-items"]],inputs:{showLoader:"showLoader"},standalone:!0,features:[E.UHJ],ngContentSelectors:I,decls:4,vars:3,consts:[[1,"block","w-100","h-100",3,"overlay","showLoader","size"],["alt","not found","src","assets/img/not-found.svg","tuiSlot","top",1,"image"]],template:function(l,r){1&l&&(E.kPM(),E.I0R(0,"tui-loader",0)(1,"tui-block-status"),E.wR5(2,"img",1),E._Xx(3),E.C$Y()()),2&l&&E.E7m("overlay",!0)("showLoader",r.showLoader)("size","xl")},dependencies:[t.Sk,t.Cb,s.eA,s.M$,s.Gu]})}return T})()},3584:(k,M,_)=>{_.d(M,{Q:()=>m});var t=_(6812),s=_(4496);function E(l,r){1&l&&(s.SAx(0),s.aS0(1,0),s.k70())}function I(l,r){1&l&&(s.SAx(0),s.aS0(1,1),s.k70())}function d(l,r){1&l&&(s.SAx(0),s.aS0(1,2),s.k70())}function T(l,r){1&l&&(s.SAx(0),s.aS0(1,3),s.k70())}function g(l,r){if(1&l&&s.OEk(0),2&l){const N=s.GaO();s.oRS(" ",N.status," ")}}let m=(()=>{class l{constructor(){this.status=null}static#t=this.\u0275fac=function(P){return new(P||l)};static#e=this.\u0275cmp=s.In1({type:l,selectors:[["app-payment-status"]],inputs:{status:"status"},standalone:!0,features:[s.UHJ],decls:7,vars:6,consts:()=>{let N,P,Y,f;return N="Paid",P="Authorized",Y="Unpaid",f="Refunded",[N,P,Y,f]},template:function(P,Y){if(1&P&&(s.I0R(0,"span"),s.wVc(1,"paymentStatusColor"),s.yuY(2,E,2,0)(3,I,2,0)(4,d,2,0)(5,T,2,0)(6,g,1,1),s.C$Y()),2&P){let f;s.m8U(s.kDX(1,4,Y.status)),s.yG2(2),s.C0Y(2,"paid"===(f=Y.status)?2:"authorized"===f?3:"todo"===f?4:"refunded"===f?5:6)}},dependencies:[t.m],encapsulation:2,changeDetection:0})}return l})()},3968:(k,M,_)=>{_.d(M,{a:()=>d});var t=_(4496);function s(T,g){1&T&&(t.SAx(0),t.aS0(1,0),t.k70())}function E(T,g){1&T&&(t.SAx(0),t.aS0(1,1),t.k70())}function I(T,g){if(1&T&&t.OEk(0),2&T){const m=t.GaO();t.oRS(" ",m.value," ")}}let d=(()=>{class T{static#t=this.\u0275fac=function(l){return new(l||T)};static#e=this.\u0275cmp=t.In1({type:T,selectors:[["app-reservation-payment-preorder-type"]],inputs:{value:"value"},standalone:!0,features:[t.UHJ],decls:3,vars:1,consts:()=>{let m,l;return m="Authorization",l="Payment",[m,l]},template:function(l,r){if(1&l&&t.yuY(0,s,2,0)(1,E,2,0)(2,I,1,1),2&l){let N;t.C0Y(0,"html_nexi_authorization"===(N=r.value)?0:"html_nexi_payment"===N?1:2)}},encapsulation:2})}return T})()},9368:(k,M,_)=>{_.d(M,{a:()=>I});var t=_(1183),s=_(4496);function E(d,T){if(1&d&&s.OEk(0),2&d){const g=s.GaO();s.oRS(" ",g.translations[g.status].title,"\n")}}let I=(()=>{class d{constructor(){this.translations=t.au}static#t=this.\u0275fac=function(m){return new(m||d)};static#e=this.\u0275cmp=s.In1({type:d,selectors:[["app-reservation-status"]],inputs:{status:"status"},standalone:!0,features:[s.UHJ],decls:1,vars:1,template:function(m,l){1&m&&s.yuY(0,E,1,1),2&m&&s.C0Y(0,l.status?0:-1)}})}return d})()},1183:(k,M,_)=>{_.d(M,{I5:()=>t,au:()=>s});const t=["active","arrived","deleted","noshow","cancelled"],s={active:{title:"Waiting"},arrived:{title:"Arrived"},cancelled:{title:"Canceled"},deleted:{title:"Deleted"},noshow:{title:"No show"}}},6812:(k,M,_)=>{_.d(M,{m:()=>s});var t=_(4496);let s=(()=>{class E{transform(d){switch(d){case"todo":return"text-danger";case"authorized":return"text-success";case"paid":return"text-success-dark";case"refunded":return"text-warning";default:return null}}static#t=this.\u0275fac=function(T){return new(T||E)};static#e=this.\u0275pipe=t.UTH({name:"paymentStatusColor",type:E,pure:!0,standalone:!0})}return E})()},5892:(k,M,_)=>{_.d(M,{Ws:()=>x,yy:()=>F});var t=_(4496),s=_(2528),E=_(4472);(0,s.W0)((0,E.u)("showHideText"));const d=(0,s.W0)((0,E.u)("paginationTexts"));var T=_(466),g=_(1512),m=_(4336),l=_(3656),r=_(8212),N=_(5944),P=_(1368),Y=_(1040);function f(u,O){if(1&u&&(t.SAx(0),t.OEk(1),t.I0R(2,"strong",6),t.OEk(3),t.C$Y(),t.k70()),2&u){const p=t.GaO().ngIf,C=t.GaO();t.yG2(),t.oRS(" ",p.pages," "),t.yG2(2),t.cNF(C.pages)}}function $(u,O){if(1&u&&(t.SAx(0),t.OEk(1),t.k70()),2&u){const p=O.polymorpheusOutlet;t.yG2(),t.oRS(" ",p," ")}}function q(u,O){if(1&u&&t.wR5(0,"tui-svg",13),2&u){const p=t.GaO(4);t.E7m("src",p.commonIcons.check)}}function v(u,O){1&u&&t.wR5(0,"span",14)}const b=(u,O)=>({$implicit:u,total:O});function tt(u,O){if(1&u){const p=t.KQA();t.SAx(0),t.I0R(1,"button",9),t.qCj("click",function(){const V=t.usT(p).$implicit,U=t.GaO(3);return t.CGJ(U.onItem(V))}),t.yuY(2,$,2,1,"ng-container",10)(3,q,1,1,"tui-svg",11)(4,v,1,0,"ng-template",null,12,t.gJz),t.C$Y(),t.k70()}if(2&u){const p=O.$implicit,C=t.Gew(5),S=t.GaO(3);t.yG2(2),t.E7m("polymorpheusOutlet",S.options.sizeOptionContent)("polymorpheusOutletContext",t.IBC(4,b,p,S.total)),t.yG2(),t.E7m("ngIf",p===S.size)("ngIfElse",C)}}function et(u,O){if(1&u&&(t.I0R(0,"tui-data-list",7),t.yuY(1,tt,6,7,"ng-container",8),t.C$Y()),2&u){const p=t.GaO(2);t.yG2(),t.E7m("ngForOf",p.items)}}function z(u,O){if(1&u){const p=t.KQA();t.SAx(0),t.I0R(1,"button",15),t.qCj("click",function(){t.usT(p);const S=t.GaO(2);return t.CGJ(S.back())}),t.C$Y(),t.I0R(2,"button",16),t.qCj("click",function(){t.usT(p);const S=t.GaO(2);return t.CGJ(S.forth())}),t.C$Y(),t.k70()}if(2&u){const p=O.ngIf,C=t.GaO(2);t.yG2(),t.E7m("disabled",C.leftDisabled)("icon",C.icons.decrement)("title",p[0]),t.yG2(),t.E7m("disabled",C.rightDisabled)("icon",C.icons.increment)("title",p[1])}}function ot(u,O){if(1&u){const p=t.KQA();t.SAx(0),t.I0R(1,"span",1),t.yuY(2,f,4,2,"ng-container",0),t.C$Y(),t.I0R(3,"span",2),t.OEk(4),t.I0R(5,"tui-hosted-dropdown",3),t.iHE("openChange",function(S){t.usT(p);const V=t.GaO();return t.kNx(V.open,S)||(V.open=S),t.CGJ(S)}),t.I0R(6,"button",4)(7,"strong"),t.OEk(8),t.C$Y()(),t.yuY(9,et,2,1,"ng-template",null,5,t.gJz),t.C$Y(),t.OEk(11),t.I0R(12,"strong",6),t.OEk(13),t.C$Y()(),t.yuY(14,z,3,6,"ng-container",0),t.wVc(15,"async"),t.k70()}if(2&u){const p=O.ngIf,C=t.Gew(10),S=t.GaO();t.yG2(2),t.E7m("ngIf",S.options.showPages),t.yG2(2),t.oRS(" ",p.linesPerPage," "),t.yG2(),t.E7m("content",C),t.OKB("open",S.open),t.yG2(3),t.CAO("",S.start+1,"\u2013",S.end,""),t.yG2(3),t.oRS(" ",p.of," "),t.yG2(2),t.cNF(S.total),t.yG2(),t.E7m("ngIf",t.kDX(15,9,S.spinTexts$))}}const y=(0,s.AL)({sizeOptionContent:function w({$implicit:u}){return`${u}`},showPages:!0,items:[10,20,50,100],size:10});let x=(()=>{class u{constructor(p,C,S,V,U){this.icons=p,this.spinTexts$=C,this.texts$=S,this.options=V,this.commonIcons=U,this.items=this.options.items,this.total=0,this.page=0,this.size=this.options.size,this.pageChange=new t._w7,this.sizeChange=new t._w7,this.paginationChange=new t._w7,this.open=!1}get pages(){return Math.ceil(this.total/this.size)}get start(){return this.page*this.size}get end(){return Math.min(this.start+this.size,this.total)}get leftDisabled(){return!this.start}get rightDisabled(){return this.end===this.total}get pagination(){return{page:this.page,size:this.size}}onItem(p){const{start:C}=this;this.size=p,this.sizeChange.emit(p),this.open=!1,this.page=Math.floor(C/this.size),this.pageChange.emit(this.page),this.paginationChange.emit(this.pagination)}back(){this.page--,this.pageChange.emit(this.page),this.paginationChange.emit(this.pagination)}forth(){this.page++,this.pageChange.emit(this.page),this.paginationChange.emit(this.pagination)}}return u.\u0275fac=function(p){return new(p||u)(t.GI1(N.KY),t.GI1(N.s1),t.GI1(d),t.GI1(y),t.GI1(N.QJ))},u.\u0275cmp=t.In1({type:u,selectors:[["tui-table-pagination"]],inputs:{items:"items",total:"total",page:"page",size:"size"},outputs:{pageChange:"pageChange",sizeChange:"sizeChange",paginationChange:"paginationChange"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"t-pages"],["automation-id","tui-table-pagination__lines-per-page-wrapper"],[3,"content","open","openChange"],["tuiLink","","type","button"],["content",""],[1,"t-strong"],["size","s"],[4,"ngFor","ngForOf"],["tuiOption","",1,"t-item",3,"click"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],["class","t-checkmark",3,"src",4,"ngIf","ngIfElse"],["fakeIcon",""],[1,"t-checkmark",3,"src"],[1,"t-checkmark"],["appearance","icon","size","xs","tuiIconButton","","type","button",1,"t-back",3,"disabled","icon","title","click"],["appearance","icon","size","xs","tuiIconButton","","type","button",3,"disabled","icon","title","click"]],template:function(p,C){1&p&&(t.yuY(0,ot,16,11,"ng-container",0),t.wVc(1,"async")),2&p&&t.E7m("ngIf",t.kDX(1,1,C.texts$))},dependencies:[T.Qw,g.C,m.yi,m.sP,l.Wu,r.Kw,P.u_,P.ay,Y.Af,P.a],styles:["[_nghost-%COMP%]{display:flex;font:var(--tui-font-text-s);align-items:center;color:var(--tui-text-03)}.t-strong[_ngcontent-%COMP%]{color:var(--tui-text-01)}.t-pages[_ngcontent-%COMP%]{margin-right:auto}.t-item[_ngcontent-%COMP%]{min-width:5.5rem;box-sizing:border-box}.t-checkmark[_ngcontent-%COMP%]{min-width:1.5rem;border-left:5px solid transparent}.t-back[_ngcontent-%COMP%]{margin:0 .25rem 0 1.5rem}"],changeDetection:0}),u})(),F=(()=>{class u{}return u.\u0275fac=function(p){return new(p||u)},u.\u0275mod=t.a4G({type:u}),u.\u0275inj=t.s3X({imports:[[P.MD,r.CI,g.w,T.GE,m.A$,l.Yt,Y.Ux]]}),u})()},6264:(k,M,_)=>{_.d(M,{Gu:()=>T,M$:()=>d,eA:()=>g});var t=_(4496),s=_(1368);const E=[[["","tuiSlot","top"]],[["h1"],["h2"],["h3"],["h4"],["h5"],["h6"]],"*",[["a"],["button"],["","tuiSlot","action"]]],I=["[tuiSlot='top']","h1,h2,h3,h4,h5,h6","*","a,button,[tuiSlot='action']"];let d=(()=>{class m{constructor(){this.card=!1}}return m.\u0275fac=function(r){return new(r||m)},m.\u0275cmp=t.In1({type:m,selectors:[["tui-block-status"]],hostVars:2,hostBindings:function(r,N){2&r&&t.eAK("_card",N.card)},inputs:{card:"card"},ngContentSelectors:I,decls:7,vars:0,consts:[[1,"t-block-image"],[1,"t-block-text"],[1,"t-block-actions"]],template:function(r,N){1&r&&(t.kPM(E),t.I0R(0,"div",0),t._Xx(1),t.C$Y(),t._Xx(2,1),t.I0R(3,"div",1),t._Xx(4,2),t.C$Y(),t.I0R(5,"div",2),t._Xx(6,3),t.C$Y())},styles:["tui-block-status{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;box-sizing:border-box;overflow:hidden;width:100%;height:100%}tui-root._mobile tui-block-status{padding:2rem}tui-block-status._card{border-radius:var(--tui-radius-xl);padding:2rem}tui-root._mobile tui-block-status._card{padding:1.25rem}tui-root._mobile tui-block-status._card .t-block-image{margin-top:.75rem}tui-block-status .t-block-image{margin-bottom:2rem}tui-root._mobile tui-block-status .t-block-image{margin-bottom:1.5rem}tui-block-status .t-block-text{font:var(--tui-font-text-m);color:var(--tui-text-02);margin-bottom:2rem;white-space:pre-line}tui-root._mobile tui-block-status .t-block-text{margin-bottom:1.5rem}tui-block-status .t-block-actions{display:flex;flex-direction:column;align-items:center;width:100%}tui-block-status h1,tui-block-status h2,tui-block-status h3,tui-block-status h4,tui-block-status h5,tui-block-status h6{font:var(--tui-font-heading-4);margin-top:0;margin-bottom:1rem}tui-root._mobile tui-block-status h1,tui-root._mobile tui-block-status h2,tui-root._mobile tui-block-status h3,tui-root._mobile tui-block-status h4,tui-root._mobile tui-block-status h5,tui-root._mobile tui-block-status h6{font:var(--tui-font-heading-5);margin-bottom:.5rem}tui-block-status img{width:9rem;height:9rem}tui-root._mobile tui-block-status img{width:8rem;height:8rem}tui-block-status a:not(:last-child),tui-block-status button:not(:last-child){margin-bottom:.75rem}tui-root._mobile tui-block-status a:not(:last-child),tui-root._mobile tui-block-status button:not(:last-child){margin-bottom:.5rem}\n"],encapsulation:2,changeDetection:0}),m})(),T=(()=>{class m{constructor(){this.tuiSlot="top"}}return m.\u0275fac=function(r){return new(r||m)},m.\u0275dir=t.Sc5({type:m,selectors:[["","tuiSlot",""]],inputs:{tuiSlot:"tuiSlot"}}),m})(),g=(()=>{class m{}return m.\u0275fac=function(r){return new(r||m)},m.\u0275mod=t.a4G({type:m}),m.\u0275inj=t.s3X({imports:[[s.MD]]}),m})()}}]);