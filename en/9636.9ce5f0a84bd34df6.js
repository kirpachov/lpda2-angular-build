"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[9636],{9636:(P,L,a)=>{a.d(L,{O:()=>Ye});var e=a(4496),r=a(6504),g=a(3480),d=a(8212),S=a(2720),_=a(400),l=a(7924),u=a(9956),O=a(6528),C=a(2740),M=a(1940),T=a(9880),y=a(8048),F=a(9852),Y=a(1920);function v(i,m){if(1&i&&e.wR5(0,"app-errors",4),2&i){const t=e.GaO();let n;e.E7m("errors",null==(n=t.form.get("weekday"))?null:n.errors)}}function H(i,m){if(1&i&&e.wR5(0,"app-errors",4),2&i){const t=e.GaO();e.E7m("errors",t.wholeDay.errors)}}function c(i,m){if(1&i&&e.wR5(0,"app-errors",4),2&i){const t=e.GaO();e.E7m("errors",t.weeklyFrom.errors)}}function h(i,m){if(1&i&&e.wR5(0,"app-errors",4),2&i){const t=e.GaO();e.E7m("errors",t.weeklyTo.errors)}}function A(i,m){if(1&i&&e.wR5(0,"app-errors",4),2&i){const t=e.GaO();e.E7m("errors",t.message.errors)}}function $(i,m){if(1&i&&e.wR5(0,"app-errors",4),2&i){const t=e.GaO();e.E7m("errors",t.form.errors)}}let w=(()=>{class i{constructor(){this.submitEvent=new e._w7,this.cancelEvent=new e._w7,this.submitted=(0,e.OCB)(!1),this.weeklyFrom=new r.Ku(null),this.weeklyTo=new r.Ku(null),this.wholeDay=new r.Ku(!0),this.message=new r.Ku(null,[]),this.form=new r.WC({weekly_from:this.weeklyFrom,weekly_to:this.weeklyTo,weekday:new r.Ku(null,[r.AQ.required,r.AQ.min(0),r.AQ.max(6)]),message:this.message,wholeDay:this.wholeDay},{validators:[F.S.formWeeklyFromTo("weekly_from","weekly_to"),F.S.canBeBlankIf("weekly_from",()=>!0===this.wholeDay.value,{message:"Enter the start time."}),F.S.canBeBlankIf("weekly_to",()=>!0===this.wholeDay.value,{message:"Enter the end time"})]}),this.formDefaultValue=this.form.value}submit(){if(this.submitted.set(!0),this.form.invalid)return;const t=this.formatOutput();t&&this.submitEvent.emit(t)}cancel(){this.cancelEvent.emit()}set holiday(t){const n=t instanceof S.k?t.data:t;n?this.form.patchValue({weekly_from:n.weekly_from?_.uc.fromString(n.weekly_from):null,weekly_to:n.weekly_to?_.uc.fromString(n.weekly_to):null,weekday:n.weekday??null,message:n.translations?.message??{},wholeDay:S.k.wholeDay({weekly_from:n.weekly_from,weekly_to:n.weekly_to})}):this.form.reset(this.formDefaultValue)}formatOutput(){if(this.form.invalid)return null;const{weekly_from:t,weekly_to:n,weekday:o}=this.form.value;let s=null,p=null;if(!0===this.wholeDay.value?(p="00:00",s="23:59"):(t&&(p=t.hours+":"+t.minutes),n&&(s=n.hours+":"+n.minutes)),!p||!s||"number"!=typeof o)return null;const E=this.message.value;return E?{weekday:o,weekly_from:p,weekly_to:s,message:E}:null}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.In1({type:i,selectors:[["app-weekly-holiday-form"]],inputs:{holiday:"holiday"},outputs:{submitEvent:"submitEvent",cancelEvent:"cancelEvent"},standalone:!0,features:[e.M5G([g.UF]),e.UHJ],decls:41,vars:12,consts:()=>{let t,n,o,s,p,E,R,I,N;return t="Select the day of the week.",n="Closed all day",o="Closing time in UTC",s="\n           Remember, below you need to enter the time in UTC. One hour less than\n          Italian time. \n        ",p="Closed from (24h Format):",E="Closed until (24-hour format):",R="Message for customers looking to make a reservation.",I="Confirm",N="Cancel",[[3,"formGroup","ngSubmit"],[1,"block","mb-3"],t,["formControlName","weekday",3,"autofocus"],[3,"errors"],[3,"formControl"],n,[3,"expanded"],[1,"my-3"],o,s,[1,"flex","items-center","justify-around"],["formControlName","weekly_from"],p,["formControlName","weekly_to"],E,[3,"long","formControl"],R,[1,"flex","items-center"],["type","submit","tuiButton","","appearance","primary",1,"me-2"],I,["type","button","tuiButton","","appearance","outline",3,"click"],N]},template:function(n,o){1&n&&(e.I0R(0,"form",0),e.qCj("ngSubmit",function(){return o.submit()}),e.I0R(1,"div",1)(2,"p"),e.aS0(3,2),e.C$Y(),e.wR5(4,"app-weekday-select",3),e.yuY(5,v,1,1,"app-errors",4),e.C$Y(),e.I0R(6,"div",1)(7,"tui-checkbox-block",5),e.SAx(8),e.aS0(9,6),e.k70(),e.C$Y(),e.yuY(10,H,1,1,"app-errors",4),e.I0R(11,"tui-expand",7)(12,"div",8)(13,"p"),e.aS0(14,9),e.C$Y(),e.I0R(15,"p"),e.aS0(16,10),e.C$Y(),e.I0R(17,"div",11)(18,"div")(19,"tui-input-time",12),e.SAx(20),e.aS0(21,13),e.k70(),e.C$Y(),e.yuY(22,c,1,1,"app-errors",4),e.C$Y(),e.I0R(23,"div")(24,"tui-input-time",14),e.SAx(25),e.aS0(26,15),e.k70(),e.C$Y(),e.yuY(27,h,1,1,"app-errors",4),e.C$Y()()()()(),e.I0R(28,"div",1)(29,"app-i18n-input",16),e.SAx(30),e.aS0(31,17),e.k70(),e.C$Y(),e.yuY(32,A,1,1,"app-errors",4),e.C$Y(),e.yuY(33,$,1,1,"app-errors",4),e.I0R(34,"div",18)(35,"button",19),e.SAx(36),e.aS0(37,20),e.k70(),e.C$Y(),e.I0R(38,"button",21),e.qCj("click",function(){return o.cancel()}),e.SAx(39),e.aS0(40,22),e.k70(),e.C$Y()()()),2&n&&(e.E7m("formGroup",o.form),e.yG2(4),e.E7m("autofocus",!0),e.yG2(),e.C0Y(5,o.submitted()?5:-1),e.yG2(2),e.E7m("formControl",o.wholeDay),e.yG2(3),e.C0Y(10,o.submitted()?10:-1),e.yG2(),e.E7m("expanded",!1===o.wholeDay.value),e.yG2(11),e.C0Y(22,o.submitted()?22:-1),e.yG2(5),e.C0Y(27,o.submitted()?27:-1),e.yG2(2),e.E7m("long",!1)("formControl",o.message),e.yG2(3),e.C0Y(32,o.submitted()?32:-1),e.yG2(),e.C0Y(33,o.submitted()?33:-1))},dependencies:[l.W,r.sl,r.sz,r.ue,r.u,r.ug,r.uW,r.Wo,u.g,O.i,O.I,T.kh,T.st,C.IZ,C.iw,C.gt,d.CI,d.Kw,M.Q,y.aS,Y.w],encapsulation:2,changeDetection:0})}return i})();var k=a(964),ie=a(5e3),K=a(5193),oe=a(1316),ae=a(4532),se=a(6572),z=a(3044),V=a(6732),X=a(1800),le=a(4392),x=a(2528),B=a(4680),re=a(9392),U=a(466),G=a(7936),j=a(3656),Q=a(4108),ue=a(3840),_e=a(8016),me=a(9371),ce=a(5944),J=a(812),D=a(3012),W=a(1040),de=a(4704),Oe=a(3616),Z=a(1338),q=a(5900),ee=a(5620),b=a(1368);function Ce(i,m){if(1&i&&(e.SAx(0),e.OEk(1),e.k70()),2&i){const t=m.polymorpheusOutlet;e.yG2(),e.oRS(" ",t," ")}}const te=i=>({$implicit:i});function fe(i,m){if(1&i&&(e.I0R(0,"div",6),e.yuY(1,Ce,2,1,"ng-container",7),e.C$Y()),2&i){const t=e.GaO(2);e.yG2(),e.E7m("polymorpheusOutlet",t.computedContent)("polymorpheusOutletContext",e.S45(2,te,t.value))}}function pe(i,m){if(1&i){const t=e.KQA();e.I0R(0,"tui-primitive-textfield",4),e.qCj("valueChange",function(o){e.usT(t);const s=e.GaO();return e.CGJ(s.onValueChange(o))}),e._Xx(1),e._Xx(2,1,["ngProjectAs","input",5,["input"]]),e.yuY(3,fe,2,4,"div",5),e.C$Y()}if(2&i){const t=m.tuiLet,n=e.GaO(),o=e.Gew(4);e.E7m("disabled",n.computedDisabled)("invalid",n.computedInvalid)("maskito",n.computedMask)("nativeId",n.nativeId)("pseudoActive",n.pseudoActive)("pseudoFocus",n.innerPseudoFocused)("pseudoHover",n.pseudoHover)("readOnly",n.readOnly)("tuiTextfieldFiller",n.getComputedRangeFiller(t||""))("tuiTextfieldIcon",n.calendarIcon&&o)("value",n.computedValue),e.yG2(3),e.E7m("ngIf",n.showValueTemplate)}}function Ee(i,m){if(1&i){const t=e.KQA();e.I0R(0,"tui-svg",9),e.qCj("click",function(){e.usT(t);const o=e.GaO(2);return e.CGJ(o.onIconClick())}),e.C$Y()}if(2&i){const t=m.polymorpheusOutlet,n=e.GaO(2);e.eAK("t-icon",!n.computedDisabled),e.E7m("src",t)}}function ge(i,m){if(1&i&&e.yuY(0,Ee,1,3,"tui-svg",8),2&i){const t=e.GaO();e.E7m("polymorpheusOutlet",t.calendarIcon)("polymorpheusOutletContext",e.S45(2,te,t.size))}}function he(i,m){if(1&i){const t=e.KQA();e.I0R(0,"tui-calendar-range",10),e.qCj("valueChange",function(o){e.usT(t);const s=e.GaO();return e.CGJ(s.onRangeChange(o))}),e.C$Y()}if(2&i){const t=e.GaO();e.E7m("defaultViewedMonth",t.defaultViewedMonth)("disabledItemHandler",t.disabledItemHandler)("items",t.items)("markerHandler",t.markerHandler)("max",t.computedMax)("maxLength",t.maxLength)("min",t.computedMin)("minLength",t.minLength)("value",t.value)}}const Me=["*",[["input"]]],ve=["*","input"];let Re=(()=>{class i extends X.GG{constructor(t,n,o,s,p,E,R,I,N,f,He,$e){super(t,n,f),this.injector=o,this.isMobile=s,this.dialogs=p,this.mobileCalendar=E,this.dateFormat=R,this.dateSeparator=I,this.dateTexts$=N,this.valueTransformer=f,this.options=He,this.textfieldSize=$e,this.disabledItemHandler=le.so,this.markerHandler=ue.SE,this.defaultViewedMonth=_.Ci.currentLocal(),this.items=[],this.min=this.options.min,this.max=this.options.max,this.minLength=null,this.maxLength=null,this.open=!1,this.maxLengthMapper=J.m2,this.dateFiller$=this.dateTexts$.pipe((0,de.k)(we=>(0,_.eI)(we[this.dateFormat],this.dateSeparator)))}get size(){return this.textfieldSize.size}get computedMin(){var t;return null!==(t=this.min)&&void 0!==t?t:_.sF}get computedMax(){var t;return null!==(t=this.max)&&void 0!==t?t:_.q7}get nativeFocusableElement(){var t,n;return null!==(n=null===(t=this.textfield)||void 0===t?void 0:t.nativeFocusableElement)&&void 0!==n?n:null}get focused(){var t;return!(null===(t=this.textfield)||void 0===t||!t.focused)}get computedMobile(){return this.isMobile&&!!this.mobileCalendar}get calendarIcon(){return this.options.icon}get canOpen(){return this.interactive&&!this.computedMobile}get computedExampleText(){var t,n;return this.items.length&&(null===(n=null===(t=this.textfield)||void 0===t?void 0:t.nativeFocusableElement)||void 0===n?void 0:n.placeholder)||""}get computedMask(){var t,n;const o=(null===(n=null===(t=this.textfield)||void 0===t?void 0:t.nativeFocusableElement)||void 0===n?void 0:n.value)!==this.computedValue;return this.activePeriod||o?ae.Se:this.calculateMask(this.dateFormat,this.dateSeparator,this.computedMin,this.computedMax,this.minLength,this.maxLength)}get activePeriod(){return this.items.find(t=>(0,x.K2)(this.value,t.range,(n,o)=>n.from.daySame(o.from.dayLimit(this.min,this.max))&&n.to.daySame(o.to.dayLimit(this.min,this.max))))||null}get computedValue(){const{value:t,nativeValue:n,activePeriod:o}=this;return o?String(o):t?t.getFormattedDayRange(this.dateFormat,this.dateSeparator):n}get showValueTemplate(){return(0,x.kF)(this.value)&&!this.focused}get computedContent(){var t;return(null===(t=this.activePeriod)||void 0===t?void 0:t.content)||this.computedValue}get innerPseudoFocused(){return!1!==this.pseudoFocus&&(!(!this.open&&!this.computedFocused)||null)}get nativeValue(){var t;return(null===(t=this.nativeFocusableElement)||void 0===t?void 0:t.value)||""}set nativeValue(t){this.nativeFocusableElement&&(this.nativeFocusableElement.value=t)}onClick(){this.isMobile||this.toggle()}getComputedRangeFiller(t){return this.activePeriod?"":this.getDateRangeFiller(t)}onIconClick(){!this.computedMobile||!this.mobileCalendar||this.dialogs.open(new W.WO(this.mobileCalendar,this.injector),{size:"fullscreen",closeable:!1,data:{min:this.maxLengthMapper(this.computedMin,this.value,this.maxLength,!0),max:this.maxLengthMapper(this.computedMax,this.value,this.maxLength,!1),disabledItemHandler:this.disabledItemHandler}}).pipe((0,Oe.a)(this.destroy$)).subscribe(t=>{this.value=t})}onOpenChange(t){this.open=t}onValueChange(t){this.control&&this.control.updateValueAndValidity({emitEvent:!1}),t||this.onOpenChange(!0),this.value=t.length===_.Wi?_.Se.normalizeParse(t,this.dateFormat):null}onRangeChange(t){this.toggle(),this.focusInput(),t||(this.nativeValue=""),this.value=t}onItemSelect(t){this.toggle(),this.focusInput(),"string"==typeof t?null!==this.activePeriod&&(this.value=null,this.nativeValue=""):this.value=t.range.dayLimit(this.min,this.max)}onActiveZone(t){this.updateFocused(t),!t&&!this.itemSelected&&(this.nativeValue.length===_.wj||this.nativeValue.length===_.wj+_.a_.length)&&(this.value=_.Se.normalizeParse(this.nativeValue,this.dateFormat))}writeValue(t){super.writeValue(t),this.nativeValue=t?this.computedValue:""}valueIdenticalComparator(t,n){return(0,x.K2)(t,n,(o,s)=>o.daySame(s))}calculateMask(t,n,o,s,p,E){return(0,se.wj)({separator:n,mode:J.qS[t],min:o.toLocalNativeDate(),max:s.toLocalNativeDate(),minLength:p||{},maxLength:E||{}})}get itemSelected(){return-1!==this.items.findIndex(t=>String(t)===this.nativeValue)}toggle(){this.open=!this.open}focusInput(t=!1){this.nativeFocusableElement&&this.nativeFocusableElement.focus({preventScroll:t})}getDateRangeFiller(t){return`${t}${_.a_}${t}`}}return i.\u0275fac=function(t){return new(t||i)(e.GI1(r.eq,10),e.GI1(e.kD9),e.GI1(e.zZn),e.GI1(B.Mv),e.GI1(_e._k),e.GI1(D.gR,8),e.GI1(_.E7),e.GI1(_._Q),e.GI1(D.CY),e.GI1(D.cH,8),e.GI1(D.E5),e.GI1(y.$K))},i.\u0275cmp=e.In1({type:i,selectors:[["tui-input-date-range"]],viewQuery:function(t,n){if(1&t&&e.CC$(G.y_,5),2&t){let o;e.wto(o=e.Gqi())&&(n.textfield=o.first)}},hostVars:1,hostBindings:function(t,n){1&t&&e.qCj("click",function(){return n.onClick()}),2&t&&e.e48("data-size",n.size)},inputs:{disabledItemHandler:"disabledItemHandler",markerHandler:"markerHandler",defaultViewedMonth:"defaultViewedMonth",items:"items",min:"min",max:"max",minLength:"minLength",maxLength:"maxLength"},features:[e.M5G([(0,B.NK)(i),(0,X.q4)(i),(0,D.Eh)(D.cH)]),e.eg9],ngContentSelectors:ve,decls:7,vars:6,consts:[[1,"t-hosted",3,"canOpen","content","open","openChange","tuiActiveZoneChange"],["automation-id","tui-input-date-range__textfield","tuiValueAccessor","","class","t-textfield",3,"disabled","invalid","maskito","nativeId","pseudoActive","pseudoFocus","pseudoHover","readOnly","tuiTextfieldFiller","tuiTextfieldIcon","value","valueChange",4,"tuiLet"],["iconContent",""],["dropdown",""],["automation-id","tui-input-date-range__textfield","tuiValueAccessor","",1,"t-textfield",3,"disabled","invalid","maskito","nativeId","pseudoActive","pseudoFocus","pseudoHover","readOnly","tuiTextfieldFiller","tuiTextfieldIcon","value","valueChange"],["ngProjectAs","tuiContent","class","t-value",5,["tuiContent"],4,"ngIf"],["ngProjectAs","tuiContent",5,["tuiContent"],1,"t-value"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],["appearance","icon","automation-id","tui-input-date-range__icon","tuiWrapper","",3,"t-icon","src","click",4,"polymorpheusOutlet","polymorpheusOutletContext"],["appearance","icon","automation-id","tui-input-date-range__icon","tuiWrapper","",3,"src","click"],[3,"defaultViewedMonth","disabledItemHandler","items","markerHandler","max","maxLength","min","minLength","value","valueChange"]],template:function(t,n){if(1&t&&(e.kPM(Me),e.I0R(0,"tui-hosted-dropdown",0),e.qCj("openChange",function(s){return n.onOpenChange(s)})("tuiActiveZoneChange",function(s){return n.onActiveZone(s)}),e.yuY(1,pe,4,12,"tui-primitive-textfield",1),e.wVc(2,"async"),e.yuY(3,ge,1,4,"ng-template",null,2,e.gJz)(5,he,1,9,"ng-template",null,3,e.gJz),e.C$Y()),2&t){const o=e.Gew(6);e.E7m("canOpen",n.canOpen)("content",o)("open",n.open&&n.canOpen),e.yG2(),e.E7m("tuiLet",e.kDX(2,4,n.dateFiller$))}},dependencies:[U.Qw,G.y_,j.Wu,Z.W,z.M,V.ew,G.KQ,q.a,ee.sD,y.Gk,y.uU,b.u_,W.Af,Q.S,b.a],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:left}._disabled[_nghost-%COMP%]{pointer-events:none}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}.t-icon[_ngcontent-%COMP%]{pointer-events:auto}.t-value[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center}"],changeDetection:0}),(0,oe.UN)([re.w7],i.prototype,"calculateMask",null),i})(),ye=(()=>{class i extends me.Cm{get value(){return this.host.computedValue}onValueChange(t){this.host.onValueChange(t)}process(t){t.inputMode="numeric"}ngDoCheck(){this.host.nativeFocusableElement&&(this.host.nativeFocusableElement.placeholder=this.host.computedExampleText)}}return i.\u0275fac=(()=>{let m;return function(n){return(m||(m=e.otF(i)))(n||i)}})(),i.\u0275dir=e.Sc5({type:i,selectors:[["tui-input-date-range"]],features:[e.M5G([(0,ce.iu)(i)]),e.eg9]}),i})(),Te=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.a4G({type:i}),i.\u0275inj=e.s3X({imports:[[b.MD,ee.S,z.L,V.kR,W.Ux,Q.g,G.KA,y.aS,U.GE,j.Yt,Z.N,q.i]]}),i})();function Ie(i,m){if(1&i&&e.wR5(0,"app-errors",4),2&i){const t=e.GaO();e.E7m("errors",t.dates.errors)}}function Ne(i,m){if(1&i&&e.wR5(0,"app-errors",4)(1,"app-errors",4),2&i){const t=e.GaO();e.E7m("errors",t.fromTime.errors),e.yG2(),e.E7m("errors",t.toTime.errors)}}function Se(i,m){if(1&i&&e.wR5(0,"app-errors",4),2&i){const t=e.GaO();e.E7m("errors",t.message.errors)}}function Le(i,m){if(1&i&&e.wR5(0,"app-errors",4),2&i){const t=e.GaO();e.E7m("errors",t.form.errors)}}let ne=(()=>{class i{constructor(){this.today=_.EK.currentLocal(),this.submitEvent=new e._w7,this.cancelEvent=new e._w7,this.defaultFromTime=new _.uc(0,0),this.defaultToTime=new _.uc(23,59),this.dates=new r.Ku(null,[r.AQ.required]),this.fromTime=new r.Ku(this.defaultFromTime,[r.AQ.required]),this.toTime=new r.Ku(this.defaultToTime,[r.AQ.required]),this.message=new r.Ku(null,[]),this.submitted=(0,e.OCB)(!1),this.form=new r.WC({fromTime:this.fromTime,toTime:this.toTime,dates:this.dates,message:this.message}),this.formDefaultValue=this.form.value}submit(){if(this.submitted.set(!0),this.form.invalid)return;const t=this.formatOutput();if(!t)return console.warn("Invalid form value",this.form.value);this.submitEvent.emit(t)}cancel(){this.cancelEvent.emit()}set holiday(t){const n=t instanceof S.k?t.data:t;if(n){const o={dates:null,message:t?.translations?.message||null,fromTime:this.defaultFromTime,toTime:this.defaultToTime},s=n.from_timestamp?(0,k.yc)(n.from_timestamp):null,p=n.to_timestamp?(0,k.yc)(n.to_timestamp):null,E=n.from_timestamp?(0,k.cr)(n.from_timestamp):null,R=n.to_timestamp?(0,k.cr)(n.to_timestamp):null;E&&(o.fromTime=E),R&&(o.toTime=R),s&&p&&(o.dates=new _.Se(s,p)),this.form.patchValue(o)}else this.form.reset(this.formDefaultValue)}formatOutput(){if(this.form.invalid)return null;const t=this.form.value;if(!t)return null;const n=t.dates;if(!n)return null;const o=n.from,s=n.to;if(!o||!s)return null;if(!(o instanceof _.EK&&s instanceof _.EK))throw new Error("Invalid TuiDay object");const p=o.toString("YMD"),E=s.toString("YMD");return{from_timestamp:`${p} ${this.fromTime.value?.toString("HH:MM")||""}`,to_timestamp:`${E} ${this.toTime.value?.toString("HH:MM")||""}`,message:t.message}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.In1({type:i,selectors:[["app-once-holiday-form"]],inputs:{holiday:"holiday"},outputs:{submitEvent:"submitEvent",cancelEvent:"cancelEvent"},standalone:!0,features:[e.M5G([g.UF]),e.UHJ],decls:36,vars:12,consts:()=>{let t,n,o,s,p,E,R,I,N;return t="Start and end dates",n="Select the start and end date of the scheduled closure.",o="Closing time schedule",s="Closing time schedule",p="\n           Enter the start and end times of the closure. Clearly, the start time\n          refers to the first day while the end time refers to the last. \n        ",E="\n           To avoid confusion due to time zone differences, be careful to enter\n          times in UTC. The time in UTC is one hour behind the time in Italy. \n        ",R="Message for customers looking to make a reservation.",I="Confirm",N="Cancel",[[3,"formGroup","ngSubmit"],[1,"block","mb-3"],[3,"min","tuiDropdownOpen","formControl"],t,[3,"errors"],[1,"text-slate-400"],n,[1,"flex","items-center"],[1,"mb-2","me-2"],[3,"formControl"],o,s,p,[1,"text-warning"],E,[3,"long","formControl"],R,["type","submit","tuiButton","","appearance","primary",1,"me-2"],I,["type","button","tuiButton","","appearance","outline",3,"click"],N]},template:function(n,o){1&n&&(e.I0R(0,"form",0),e.qCj("ngSubmit",function(){return o.submit()}),e.I0R(1,"div",1)(2,"tui-input-date-range",2),e.SAx(3),e.aS0(4,3),e.k70(),e.C$Y(),e.yuY(5,Ie,1,1,"app-errors",4),e.I0R(6,"p",5),e.aS0(7,6),e.C$Y()(),e.I0R(8,"div",1)(9,"div",7)(10,"div",8)(11,"tui-input-time",9),e.SAx(12),e.aS0(13,10),e.k70(),e.C$Y()(),e.I0R(14,"div",8)(15,"tui-input-time",9),e.SAx(16),e.aS0(17,11),e.k70(),e.C$Y()()(),e.yuY(18,Ne,2,2),e.I0R(19,"p",5),e.aS0(20,12),e.C$Y(),e.I0R(21,"p",13),e.aS0(22,14),e.C$Y()(),e.I0R(23,"div",1)(24,"app-i18n-input",15),e.SAx(25),e.aS0(26,16),e.k70(),e.C$Y(),e.yuY(27,Se,1,1,"app-errors",4),e.C$Y(),e.yuY(28,Le,1,1,"app-errors",4),e.I0R(29,"div",7)(30,"button",17),e.SAx(31),e.aS0(32,18),e.k70(),e.C$Y(),e.I0R(33,"button",19),e.qCj("click",function(){return o.cancel()}),e.SAx(34),e.aS0(35,20),e.k70(),e.C$Y()()()),2&n&&(e.E7m("formGroup",o.form),e.yG2(2),e.E7m("min",o.today)("tuiDropdownOpen",!0)("formControl",o.dates),e.yG2(3),e.C0Y(5,o.submitted()?5:-1),e.yG2(6),e.E7m("formControl",o.fromTime),e.yG2(4),e.E7m("formControl",o.toTime),e.yG2(3),e.C0Y(18,o.submitted()?18:-1),e.yG2(6),e.E7m("long",!1)("formControl",o.message),e.yG2(3),e.C0Y(27,o.submitted()?27:-1),e.yG2(),e.C0Y(28,o.submitted()?28:-1))},dependencies:[u.g,d.CI,d.Kw,r.sl,r.sz,r.ue,r.u,r.ug,r.uW,Te,Re,ye,ie.m6,y.aS,K.ms,K.oL,Y.w,C.IZ,C.iw,C.gt],encapsulation:2,changeDetection:0})}return i})();function Ae(i,m){if(1&i){const t=e.KQA();e.I0R(0,"app-weekly-holiday-form",0),e.qCj("cancelEvent",function(){e.usT(t);const o=e.GaO();return e.CGJ(o.cancelEvent.emit())})("submitEvent",function(o){e.usT(t);const s=e.GaO();return e.CGJ(s.submitEvent.emit(o))}),e.C$Y()}if(2&i){const t=e.GaO();e.E7m("holiday",t.holiday)}}function De(i,m){if(1&i){const t=e.KQA();e.I0R(0,"app-once-holiday-form",0),e.qCj("cancelEvent",function(){e.usT(t);const o=e.GaO();return e.CGJ(o.cancelEvent.emit())})("submitEvent",function(o){e.usT(t);const s=e.GaO();return e.CGJ(s.submitEvent.emit(o))}),e.C$Y()}if(2&i){const t=e.GaO();e.E7m("holiday",t.holiday)}}function Fe(i,m){if(1&i){const t=e.KQA();e.I0R(0,"div",1)(1,"div",2)(2,"div")(3,"p"),e.aS0(4,3),e.C$Y(),e.I0R(5,"div",4)(6,"div",5)(7,"button",6),e.qCj("click",function(){e.usT(t);const o=e.GaO();return e.CGJ(o.weekly.set(!0))}),e.SAx(8),e.aS0(9,7),e.k70(),e.C$Y()(),e.I0R(10,"div")(11,"button",6),e.qCj("click",function(){e.usT(t);const o=e.GaO();return e.CGJ(o.weekly.set(!1))}),e.SAx(12),e.aS0(13,8),e.k70(),e.C$Y()()()()()()}}let Ye=(()=>{class i{constructor(){this.weekly=(0,e.OCB)(null),this.cancelEvent=new e._w7,this.submitEvent=new e._w7,this.holidayValue=null,this.weeklyHolidayForm=null,this.onceHolidayForm=null}set holiday(t){this.holidayValue=t,this.updateWeeklyByHoliday()}get holiday(){return this.holidayValue}findForm(){const t=this.weekly()?this.weeklyHolidayForm:this.onceHolidayForm;if(!t)throw new Error("Component not found");if(!t.form)throw new Error("Form not found");return t.form}updateWeeklyByHoliday(){const t=this.holiday;this.weekly.set(t?!0===t.isWeekly:null)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.In1({type:i,selectors:[["app-holiday-form"]],viewQuery:function(n,o){if(1&n&&(e.CC$(w,5),e.CC$(ne,5)),2&n){let s;e.wto(s=e.Gqi())&&(o.weeklyHolidayForm=s.first),e.wto(s=e.Gqi())&&(o.onceHolidayForm=s.first)}},inputs:{holiday:"holiday"},outputs:{cancelEvent:"cancelEvent",submitEvent:"submitEvent"},standalone:!0,features:[e.M5G([g.UF]),e.UHJ],decls:3,vars:1,consts:()=>{let t,n,o;return t="What type of closure do you want to create?",n="Weekly repetition",o="One time only",[[3,"holiday","cancelEvent","submitEvent"],[1,"flex","flex-col","justify-center","items-center"],[1,"flex","flex-row","justify-center","items-center"],t,[1,"flex","items-center","justify-around"],[1,"me-2"],["type","button","appearance","outline","tuiButton","",3,"click"],n,o]},template:function(n,o){if(1&n&&e.yuY(0,Ae,1,1)(1,De,1,1)(2,Fe,14,0),2&n){let s;e.C0Y(0,!0===(s=o.weekly())?0:!1===s?1:2)}},dependencies:[d.CI,d.Kw,w,ne,r.y],encapsulation:2,changeDetection:0})}return i})()},7924:(P,L,a)=>{a.d(L,{W:()=>Y});var e=a(4496),r=a(6504),g=a(3480),d=a(5e3),S=a(8048),_=a(5193),l=a(6052),u=a(5188),O=a(2516),C=a(4336),M=a(7936);function T(v,H){1&v&&(e.OEk(0),e.wVc(1,"weekday")),2&v&&e.cNF(e.kDX(1,1,H.$implicit))}const y=()=>[0,1,2,3,4,5,6];function F(v,H){if(1&v&&e.wR5(0,"tui-data-list-wrapper",5),2&v){e.GaO();const c=e.Gew(1);e.E7m("items",e.q4q(2,y))("itemContent",c)}}let Y=(()=>{class v{constructor(){this.control=new r.Ku(null,[r.AQ.min(0),r.AQ.max(6)]),this.initialAutofocus=(0,e.OCB)(!1),this.dropdownOpen=(0,e.OCB)(!1),this.showCleaner=!0}set autofocus(c){this.initialAutofocus.set(!0===c),this.dropdownOpen.set(!0===c)}ngOnChanges(){this.control.valueChanges.subscribe({next:c=>{c&&this.dropdownOpen.set(!1)}})}writeValue(c){let h=null;h="number"==typeof c?c:"string"==typeof c?Number(c):null,this.control.setValue(h)}registerOnChange(c){this.control.valueChanges.subscribe({next:h=>c(h)})}registerOnTouched(c){this.control.valueChanges.subscribe({next:h=>c(h)})}setDisabledState(c){c?this.control.disable():this.control.enable()}static#e=this.\u0275fac=function(h){return new(h||v)};static#t=this.\u0275cmp=e.In1({type:v,selectors:[["app-weekday-select"]],inputs:{showCleaner:"showCleaner",autofocus:"autofocus"},standalone:!0,features:[e.M5G([g.UF,{provide:r.Y6,useExisting:v,multi:!0}]),e.SYr,e.UHJ],decls:7,vars:5,consts:()=>{let c;return c="Day of the week",[["selectItem",""],[3,"tuiAutoFocus","tuiDropdownOpen","valueContent","tuiTextfieldCleaner","formControl","tuiDropdownOpenChange"],c,["tuiTextfield",""],[3,"items","itemContent",4,"tuiDataList"],[3,"items","itemContent"]]},template:function(h,A){if(1&h&&(e.yuY(0,T,2,3,"ng-template",null,0,e.gJz),e.I0R(2,"tui-select",1),e.qCj("tuiDropdownOpenChange",function(w){return A.dropdownOpen.set(w)}),e.SAx(3),e.aS0(4,2),e.k70(),e.wR5(5,"input",3),e.yuY(6,F,1,3,"tui-data-list-wrapper",4),e.C$Y()),2&h){const $=e.Gew(1);e.yG2(2),e.E7m("tuiAutoFocus",A.initialAutofocus())("tuiDropdownOpen",A.dropdownOpen())("valueContent",$)("tuiTextfieldCleaner",A.showCleaner)("formControl",A.control)}},dependencies:[l.q8,l.OO,C.Ux,S.aS,S.es,u.my,u.cP,u.uO,M.b,r.sl,r.ue,r.ug,O.G,d.m6,d.gJ,_.ms,_.oL],encapsulation:2})}return v})()},9852:(P,L,a)=>{a.d(L,{S:()=>S});var e=a(6504),r=a(400);const g=_=>null!=_&&""!=`${_}`;class S extends e.AQ{static formWeeklyFromTo(l,u){return O=>{if(!(O instanceof e.WC))return console.warn("formWeeklyFromTo: param is not a FormGroup",O),null;const C=O,M=C.get(l),T=C.get(u);return M&&T&&M.value instanceof r.uc&&T.value instanceof r.uc&&M.value&&T.value&&M.value.toAbsoluteMilliseconds()>=T.value.toAbsoluteMilliseconds()?{formWeeklyFromTo:!0}:null}}static canBeBlankIf(l,u,O){const C=O?.message||"The form is not valid.";return M=>{if(!(M instanceof e.WC))throw new Error("canBeBlankIf: thisIsAFormGroup is not a FormGroup");const y=M.get(l);if(!y)throw new Error("canBeBlankIf: control is blank. control name: "+l);return g(y.value)||u()?null:{[`${l}canBeBlankIf`]:C}}}static listOfEmails(l){const u=l.value;if(!u||"string"!=typeof u||!u.length)return null;const O=new RegExp("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$","i");return u.split(/\,|\s+/gm).map(C=>C.trim()).filter(C=>C.length).forEach(C=>{if(!O.test(C))return{listOfEmails:!0}}),null}static mustBeArray(l){return Array.isArray(l.value)?null:{mustBeArray:!0}}static objectNotEmpty(l){return g(l.value)&&"object"==typeof l.value&&0===Object.keys(l.value).length&&0===Object.values(l.value).filter(O=>g(O)).length?{objectNotEmpty:!0}:null}static objectValuesAllPresent(l){return g(l.value)&&"object"==typeof l.value&&Object.values(l.value).filter(O=>g(O)).length!==Object.keys(l.value).length?{objectValuesAllPresent:!0}:null}static arrayMinLength(l){return u=>Array.isArray(u.value)&&u.value.length<l?{arrayMinLength:{requiredLength:l,actualLength:u.value?.length??0}}:null}static validateArray(l){return u=>{if(!Array.isArray(u.value))return null;const O={};for(const C of u.value){const M=l(new e.yM(C));M&&Object.assign(O,M)}return Object.keys(O).length?O:null}}static percentage(l){return g(l.value)&&(isNaN(l.value)||l.value<0||l.value>100)?{percentage:!0}:null}static phoneIT(l){const u=C=>C?null:{phoneIT:!0},O=`${l.value}`.trim().replace(/\s+/gm,"").replace(/^\+39/gm,"");return g(O)?u(!((_=O).length<9||isNaN(Number(_))||_.length>14)):u(!0);var _}static instanceof(l){return u=>!g(u.value)||u.value instanceof l?null:{instanceof:!0}}static#e=this.instanceOf=this.instanceof;static numerical(l){return g(l.value)&&isNaN(l.value)?{numerical:!0}:null}static moreThan(l){return u=>u.value<=l?{moreThan:!0}:null}static in(l){return this.inclusion(l)}static inclusion(l){return u=>g(u.value)&&!l.includes(u.value)?{inclusion:!0}:null}}},2720:(P,L,a)=>{a.d(L,{k:()=>r});var e=a(8400);class r extends e.w{static wholeDay(d){return"00:00"===d.weekly_from&&"23:59"===d.weekly_to}constructor(d){super(d),this.isWeekly=!1,this.isWholeDay=!1,this.from_timestamp=d.from_timestamp?new Date(d.from_timestamp):void 0,this.to_timestamp=d.to_timestamp?new Date(d.to_timestamp):void 0,this.weekly_from=d.weekly_from,this.weekly_to=d.weekly_to,this.weekday=d.weekday,this.message=d.message,this.translations={...d.translations??{}},this.isWeekly=this.calcIsWeekly(),this.isWholeDay=this.calcIsWholeday()}calcIsWeekly(){return"string"==typeof this.weekly_from&&this.weekly_from.length>0||"string"==typeof this.weekly_to&&this.weekly_to.length>0}calcIsWholeday(){return r.wholeDay({weekly_from:this.weekly_from,weekly_to:this.weekly_to})}}}}]);