"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[1780],{8108:(h,T,_)=>{_.r(T),_.d(T,{ShowModule:()=>B});var l=_(1236),d=_(7552),e=_(4496),I=_(4251),u=_(3480),N=_(7692),p=_(1512),i=_(8212),R=_(9880),S=_(3616),c=_(8824),D=_(7748),y=_(6424),v=_(1368),W=_(1128),H=_(1744),U=_(1551),V=_(9052),b=_(7492);const L=(o,E)=>E.id,M=()=>[];function X(o,E){if(1&o&&(e.I0R(0,"div",23),e.wR5(1,"app-show-image",24),e.I0R(2,"div",25)(3,"p",26),e.OEk(4),e.C$Y(),e.I0R(5,"div",27),e.SAx(6),e.aS0(7,28),e.k70(),e.OEk(8),e.wVc(9,"currency"),e.C$Y(),e.I0R(10,"div",27),e.SAx(11),e.aS0(12,29),e.k70(),e.OEk(13),e.C$Y()()()),2&o){const t=e.GaO().$implicit,n=e.GaO(2);e.yG2(),e.E7m("image",(n.tableTypeByIds()[t.table_type_id].images||e.q4q(6,M))[0]),e.yG2(3),e.oRS(" ",n.tableTypeByIds()[t.table_type_id].name," "),e.yG2(4),e.oRS(" ",e.kDX(9,4,t.price)," "),e.yG2(5),e.oRS(" ",t.people_per_turn," ")}}function x(o,E){1&o&&e.yuY(0,X,14,7,"div",22),2&o&&e.C0Y(0,E.$implicit.table_type_id?0:-1)}function Y(o,E){if(1&o){const t=e.KQA();e.I0R(0,"table",1)(1,"tbody")(2,"tr",2)(3,"td",3)(4,"span",4),e.aS0(5,5),e.C$Y()(),e.I0R(6,"td",3),e.OEk(7),e.C$Y()(),e.I0R(8,"tr",2)(9,"td",3)(10,"span",4),e.aS0(11,6),e.C$Y()(),e.I0R(12,"td",3),e.wR5(13,"app-preorder-reservation-group-preorder-type",7),e.C$Y()(),e.I0R(14,"tr",2)(15,"td",3)(16,"span",4),e.aS0(17,8),e.C$Y()(),e.I0R(18,"td",3),e.OEk(19),e.wVc(20,"currency"),e.C$Y()(),e.I0R(21,"tr",2)(22,"td",3)(23,"span",4),e.aS0(24,9),e.C$Y()(),e.I0R(25,"td",3),e.wR5(26,"app-show-translations",10),e.C$Y()(),e.I0R(27,"tr",2)(28,"td",3)(29,"span",4),e.aS0(30,11),e.C$Y()(),e.I0R(31,"td",3),e.wR5(32,"app-preorder-reservation-group-status",12),e.C$Y()()()(),e.I0R(33,"h2",13),e.aS0(34,14),e.C$Y(),e.I0R(35,"div",15),e.c53(36,x,1,1,null,null,L),e.C$Y(),e.I0R(38,"h2",13),e.aS0(39,16),e.C$Y(),e.wR5(40,"app-select-turns-paymentv2",17),e.I0R(41,"div")(42,"a",18),e.SAx(43),e.aS0(44,19),e.k70(),e.C$Y(),e.I0R(45,"div")(46,"button",20),e.qCj("click",function(){e.usT(t);const s=e.GaO();return e.CGJ(s.delete())}),e.SAx(47),e.aS0(48,21),e.k70(),e.C$Y()()()}if(2&o){const t=e.GaO();let n,s,r,O;e.yG2(7),e.oRS(" ",t.item().title," "),e.yG2(6),e.E7m("type",null==(n=t.item())?null:n.preorder_type),e.yG2(6),e.oRS(" ",e.kDX(20,8,t.item().payment_value)," "),e.yG2(7),e.E7m("translations",null==(s=t.item())||null==s.translations?null:s.translations.message),e.yG2(6),e.E7m("item",t.item()),e.yG2(2),e.oBb(((null==(r=t.item())?null:r.table_type_to_preorder_reservation_groups)||e.q4q(10,M)).length),e.Ylm(34),e.yG2(2),e.oho(null==(O=t.item())?null:O.table_type_to_preorder_reservation_groups),e.yG2(4),e.E7m("item",t.item())("editable",!1)}}function w(o,E){1&o&&e.wR5(0,"tui-loader",30),2&o&&e.E7m("showLoader",!0)}function z(o,E){1&o&&(e.I0R(0,"p"),e.SAx(1),e.aS0(2,31),e.k70(),e.C$Y())}let F=(()=>{class o{constructor(){this.service=(0,e.uUt)(I.e),this.destroy$=(0,e.uUt)(u.UF),this.router=(0,e.uUt)(l.E5),this.route=(0,e.uUt)(l.gV),this.notifications=(0,e.uUt)(W.E),this.item=(0,e.OCB)(null),this.loading=(0,e.OCB)(!1),this.itemId=null,this.tableTypeByIds=(0,e.OCB)({}),this.tableTypes=(0,e.uUt)(b.W)}ngOnInit(){this.tableTypes.search({per_page:1e3}).subscribe(t=>{const n={};t.items.forEach(s=>{s.id&&(n[s.id]=s)}),this.tableTypeByIds.set(n)}),this.route.params.pipe((0,S.a)(this.destroy$)).subscribe({next:t=>{this.itemId=Number(t.id),isNaN(this.itemId)?this.item.set(null):this.load(this.itemId)}})}delete(){this.notifications.confirm("\n           By removing this element, payment at the time of booking will no\n          longer be requested for the cases it covered. \n        ").pipe((0,S.a)(this.destroy$)).subscribe({next:t=>{t&&this.confirmedDelete()}})}confirmedDelete(){this.itemId&&(this.loading.set(!0),this.service.destroy(this.itemId).pipe((0,S.a)(this.destroy$),(0,c.U)(()=>{this.loading.set(!1),this.router.navigate(["../"],{relativeTo:this.route})})).subscribe())}load(t){this.loading.set(!0),this.service.show(t).pipe((0,S.a)(this.destroy$),(0,c.U)(()=>this.loading.set(!1))).subscribe({next:n=>this.item.set(n)})}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-show"]],standalone:!0,features:[e.M5G([u.UF]),e.UHJ],decls:5,vars:1,consts:()=>{let t,n,s,r,O,P,g,C,A,m,G,$,f;return t="Payment details at the time of booking",n="Title",s="Payment type",r="Payment value",O="Message",P="State",g="\n           Table types enabled ( \n          " + "\ufffd0\ufffd" + "\n           ) \n        ",C="When are payments due?",A="Modify",m="Delete",G="Price per person",$="Guests per shift",f="Not found :'(",[t,[1,"tui-table","mb-3"],[1,"tui-table__tr","tui-table__tr_border_none"],[1,"tui-table__td"],[1,"text-xl"],n,s,[3,"type"],r,O,[3,"translations"],P,[3,"item"],[1,"mb-3","text-2xl"],g,[1,"block"],C,[1,"block","mb-3",3,"item","editable"],["routerLink","edit","tuiButton","","appearance","flat",1,"mb-3"],A,["tuiButton","","appearance","secondary-destructive","type","button",3,"click"],m,["class","flex items-center"],[1,"flex","items-center"],[1,"max-w-[300px]",3,"image"],[1,"block","p-4"],[1,"block","text-xl","font-bold"],[1,"block","mb-2"],G,$,[3,"showLoader"],f]},template:function(n,s){1&n&&(e.I0R(0,"h1"),e.aS0(1,0),e.C$Y(),e.yuY(2,Y,49,11)(3,w,1,1)(4,z,3,0)),2&n&&(e.yG2(2),e.C0Y(2,s.item()?2:s.loading()?3:4))},dependencies:[N.Sk,N.Cb,D.c,y.w,v.cf,p.w,l.qQ,l.ER,i.CI,i.Kw,H.t,U.G,R.kh,V.y],encapsulation:2,changeDetection:0})}return o})(),B=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.a4G({type:o});static#_=this.\u0275inj=e.s3X({imports:[l.qQ.forChild([(0,d.VV)(F,{path:"",closeable:!0,dismissible:!0,size:"l"})])]})}return o})()},6988:(h,T,_)=>{_.d(T,{E:()=>N,Q:()=>p});var l=_(4496),d=_(3480),e=_(3840),I=_(3120),u=_(3616);let N=(()=>{class i{constructor(S,c){this.el=S,this.destroy$=c}set tuiScrollIntoView(S){S&&(0,I.k)(0).pipe((0,u.a)(this.destroy$)).subscribe(()=>{this.el.nativeElement.dispatchEvent(new CustomEvent(e.dG,{bubbles:!0,detail:this.el.nativeElement}))})}}return i.\u0275fac=function(S){return new(S||i)(l.GI1(l.GMv),l.GI1(d.UF,2))},i.\u0275dir=l.Sc5({type:i,selectors:[["","tuiScrollIntoView",""]],inputs:{tuiScrollIntoView:"tuiScrollIntoView"},features:[l.M5G([d.UF])]}),i})(),p=(()=>{class i{}return i.\u0275fac=function(S){return new(S||i)},i.\u0275mod=l.a4G({type:i}),i.\u0275inj=l.s3X({}),i})()}}]);