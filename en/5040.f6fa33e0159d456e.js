(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[5040],{86800:(C,c,t)=>{"use strict";t.r(c),t.d(c,{NewUserModule:()=>W});var e=t(54496),d=t(83480),N=t(35e3),n=t(6504),E=t(53797),i=t(44148),S=t(99956),l=t(8048),m=t(58212),v=t(83732),T=t(31236),U=t(53616),h=t(68824),A=t(9938),P=t(1128),p=t(38256),I=t(48392),r=t(832),$=t(37936);let G=(()=>{class a{constructor(){this.destroy$=(0,e.uUt)(d.UF),this.notifications=(0,e.uUt)(P.E),this.service=(0,e.uUt)(v.u),this.route=(0,e.uUt)(T.gV),this.router=(0,e.uUt)(T.E5),this.form=new n.WC({fullname:new n.Ku(""),email:new n.Ku("",[n.AQ.required,n.AQ.email]),can_root:new n.Ku(!1)}),this.submitting=(0,e.OCB)(!1),this.submitted=!1,this.e=this.errorsFor}submit(){this.submitted=!0,!this.form.invalid&&(this.submitting.set(!0),this.service.create(this.formVal()).pipe((0,U.a)(this.destroy$),(0,h.U)(()=>this.submitting.set(!1))).subscribe({next:o=>{this.notifications.fireSnackBar(r.$localize`Utente creato.`),this.router.navigate([".."],{relativeTo:this.route})},error:o=>{A.y.assignErrorsToForm(this.form,o),this.notifications.error((0,p.mk)(o)||I.a)}}))}cancel(){const o=this.form.dirty||this.form.touched;(!o||o&&confirm(r.$localize`Sei sicuro di voler annullare?`))&&this.router.navigate([".."],{relativeTo:this.route})}errorsFor(o){const s=this.form.get(o);return s&&(s.touched||s.dirty||this.submitted)?s.errors:null}formVal(){return{...this.form.value}}static#e=this.\u0275fac=function(s){return new(s||a)};static#t=this.\u0275cmp=e.In1({type:a,selectors:[["app-new-user"]],standalone:!0,features:[e.M5G([d.UF]),e.UHJ],decls:29,vars:5,consts:()=>{let o,s,_,f,R,g,M;return o=r.$localize`Nuovo utente`,s=r.$localize`Attenzione. L'utente che si sta per creare potrÃ  accedere alla parte amministrativa e apportare modifiche ad alcune parti sensibili dell'applicazione.`,_=r.$localize`Nome e cognome`,f=r.$localize`Email`,R=r.$localize`Ha diritti di amministratore?`,g=r.$localize`Conferma`,M=r.$localize`Annulla`,[o,s,[3,"formGroup","ngSubmit"],[1,"mb-3"],["tuiTextfieldSize","l","formControlName","fullname",3,"tuiAutoFocus"],_,["tuiTextfield",""],[3,"errors"],["tuiTextfieldSize","l","formControlName","email"],f,["contentAlign","right","formControlName","can_root","size","l"],R,[1,"flex","items-center"],["type","submit","size","l","tuiButton","","appearance","primary",1,"me-2"],g,["type","button","size","l","tuiButton","","appearance","outline",3,"click"],M]},template:function(s,_){1&s&&(e.I0R(0,"h1"),e.aS0(1,0),e.C$Y(),e.I0R(2,"p"),e.aS0(3,1),e.C$Y(),e.I0R(4,"form",2),e.qCj("ngSubmit",function(){return _.submit()}),e.I0R(5,"div",3)(6,"tui-input",4),e.SAx(7),e.aS0(8,5),e.k70(),e.wR5(9,"input",6),e.C$Y(),e.wR5(10,"app-errors",7),e.C$Y(),e.I0R(11,"div",3)(12,"tui-input",8),e.SAx(13),e.aS0(14,9),e.k70(),e.wR5(15,"input",6),e.C$Y(),e.wR5(16,"app-errors",7),e.C$Y(),e.I0R(17,"div",3)(18,"tui-checkbox-block",10),e.SAx(19),e.aS0(20,11),e.k70(),e.C$Y(),e.wR5(21,"app-errors",7),e.C$Y(),e.I0R(22,"div",12)(23,"button",13),e.SAx(24),e.aS0(25,14),e.k70(),e.C$Y(),e.I0R(26,"button",15),e.qCj("click",function(){return _.cancel()}),e.SAx(27),e.aS0(28,16),e.k70(),e.C$Y()()()),2&s&&(e.yG2(4),e.E7m("formGroup",_.form),e.yG2(2),e.E7m("tuiAutoFocus",!0),e.yG2(4),e.E7m("errors",_.e("fullname")),e.yG2(6),e.E7m("errors",_.e("email")),e.yG2(5),e.E7m("errors",_.e("can_root")))},dependencies:[n.sl,n.sz,n.ue,n.u,n.uW,n.Wo,E.CQ,E.Oo,E.cP,$.b,S.g,l.aS,l.rD,m.CI,m.Kw,i.i,i.I,N.m6,N.gJ],encapsulation:2,changeDetection:0})}return a})();var O=t(7552);let W=(()=>{class a{static#e=this.\u0275fac=function(s){return new(s||a)};static#t=this.\u0275mod=e.a4G({type:a});static#i=this.\u0275inj=e.s3X({imports:[T.qQ.forChild([(0,O.VV)(G,{path:"",closeable:!0,dismissible:!1,size:"l"})])]})}return a})()},41632:(C,c,t)=>{"use strict";t.d(c,{k:()=>n,u:()=>E});var e=t(54496),d=t(50900),N=t(74680);let n=(()=>{class i{constructor(l,m){this.el=l,this.takeOnlyTrustedEvents=m,this.tuiPressedChange=(0,d.Y7)(this.el.nativeElement,{onlyTrusted:this.takeOnlyTrustedEvents})}}return i.\u0275fac=function(l){return new(l||i)(e.GI1(e.GMv),e.GI1(N.mm))},i.\u0275dir=e.Sc5({type:i,selectors:[["","tuiPressedChange",""]],outputs:{tuiPressedChange:"tuiPressedChange"}}),i})(),E=(()=>{class i{}return i.\u0275fac=function(l){return new(l||i)},i.\u0275mod=e.a4G({type:i}),i.\u0275inj=e.s3X({}),i})()},832:()=>{}}]);