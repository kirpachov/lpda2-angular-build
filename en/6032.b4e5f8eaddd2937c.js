"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[6032],{8108:($,R,n)=>{n.r(R),n.d(R,{ShowModule:()=>I});var i=n(1236),c=n(7552),t=n(4496),p=n(4251),g=n(3480),O=n(7692),M=n(1512),a=n(8212),d=n(3616),S=n(8824),N=n(7748),f=n(6424),P=n(1368),C=n(1128),h=n(1744);function e(r,m){if(1&r){const _=t.KQA();t.I0R(0,"table",1)(1,"tbody")(2,"tr",2)(3,"td",3)(4,"span",4),t.aS0(5,5),t.C$Y()(),t.I0R(6,"td",3),t.OEk(7),t.C$Y()(),t.I0R(8,"tr",2)(9,"td",3)(10,"span",4),t.aS0(11,6),t.C$Y()(),t.I0R(12,"td",3),t.wR5(13,"app-preorder-reservation-group-preorder-type",7),t.C$Y()(),t.I0R(14,"tr",2)(15,"td",3)(16,"span",4),t.aS0(17,8),t.C$Y()(),t.I0R(18,"td",3),t.OEk(19),t.wVc(20,"currency"),t.C$Y()(),t.I0R(21,"tr",2)(22,"td",3)(23,"span",4),t.aS0(24,9),t.C$Y()(),t.I0R(25,"td",3),t.wR5(26,"app-preorder-reservation-group-status",10),t.C$Y()()()(),t.I0R(27,"h2",11),t.aS0(28,12),t.C$Y(),t.wR5(29,"app-select-turns-paymentv2",13),t.I0R(30,"div")(31,"a",14),t.SAx(32),t.aS0(33,15),t.k70(),t.C$Y(),t.I0R(34,"div")(35,"button",16),t.qCj("click",function(){t.usT(_);const T=t.GaO();return t.CGJ(T.delete())}),t.SAx(36),t.aS0(37,17),t.k70(),t.C$Y()()()}if(2&r){const _=t.GaO();let l;t.yG2(7),t.oRS(" ",_.item().title," "),t.yG2(6),t.E7m("type",null==(l=_.item())?null:l.preorder_type),t.yG2(6),t.oRS(" ",t.kDX(20,6,_.item().payment_value)," "),t.yG2(7),t.E7m("item",_.item()),t.yG2(3),t.E7m("item",_.item())("editable",!1)}}function o(r,m){1&r&&t.wR5(0,"tui-loader",18),2&r&&t.E7m("showLoader",!0)}function s(r,m){1&r&&(t.I0R(0,"p"),t.SAx(1),t.aS0(2,19),t.k70(),t.C$Y())}let u=(()=>{class r{constructor(){this.service=(0,t.uUt)(p.e),this.destroy$=(0,t.uUt)(g.UF),this.router=(0,t.uUt)(i.E5),this.route=(0,t.uUt)(i.gV),this.notifications=(0,t.uUt)(C.E),this.item=(0,t.OCB)(null),this.loading=(0,t.OCB)(!1),this.itemId=null}ngOnInit(){this.route.params.pipe((0,d.a)(this.destroy$)).subscribe({next:_=>{this.itemId=Number(_.id),isNaN(this.itemId)?this.item.set(null):this.load(this.itemId)}})}delete(){this.notifications.confirm("\n           By removing this element, payment at the time of booking will no\n          longer be requested for the cases it covered. \n        ").pipe((0,d.a)(this.destroy$)).subscribe({next:_=>{_&&this.confirmedDelete()}})}confirmedDelete(){this.itemId&&(this.loading.set(!0),this.service.destroy(this.itemId).pipe((0,d.a)(this.destroy$),(0,S.U)(()=>{this.loading.set(!1),this.router.navigate(["../"],{relativeTo:this.route})})).subscribe())}load(_){this.loading.set(!0),this.service.show(_).pipe((0,d.a)(this.destroy$),(0,S.U)(()=>this.loading.set(!1))).subscribe({next:l=>this.item.set(l)})}static#t=this.\u0275fac=function(l){return new(l||r)};static#e=this.\u0275cmp=t.In1({type:r,selectors:[["app-show"]],standalone:!0,features:[t.M5G([g.UF]),t.UHJ],decls:5,vars:1,consts:()=>{let _,l,T,D,A,G,v,y,H;return _="Payment details at the time of booking",l="Title",T="Payment type",D="Payment value",A="State",G="When are payments due?",v="Modify",y="Delete",H="Not found :'(",[_,[1,"tui-table","mb-3"],[1,"tui-table__tr","tui-table__tr_border_none"],[1,"tui-table__td"],[1,"text-xl"],l,T,[3,"type"],D,A,[3,"item"],[1,"mb-3","text-2xl"],G,[1,"block","mb-3",3,"item","editable"],["routerLink","edit","tuiButton","","appearance","flat",1,"mb-3"],v,["tuiButton","","appearance","secondary-destructive","type","button",3,"click"],y,[3,"showLoader"],H]},template:function(l,T){1&l&&(t.I0R(0,"h1"),t.aS0(1,0),t.C$Y(),t.yuY(2,e,38,8)(3,o,1,1)(4,s,3,0)),2&l&&(t.yG2(2),t.C0Y(2,T.item()?2:T.loading()?3:4))},dependencies:[O.Sk,O.Cb,N.c,f.w,P.cf,M.w,i.qQ,i.ER,a.CI,a.Kw,h.t],encapsulation:2,changeDetection:0})}return r})(),I=(()=>{class r{static#t=this.\u0275fac=function(l){return new(l||r)};static#e=this.\u0275mod=t.a4G({type:r});static#o=this.\u0275inj=t.s3X({imports:[i.qQ.forChild([(0,c.VV)(u,{path:"",closeable:!0,dismissible:!0,size:"l"})])]})}return r})()},964:($,R,n)=>{n.d(R,{Ez:()=>d,In:()=>P,Q1:()=>h,Q9:()=>f,QX:()=>M,Qx:()=>t,_0:()=>C,ay:()=>p,cr:()=>O,e6:()=>c,yc:()=>g});var i=n(400);const c=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z$/;function t(e,o){return new Date(`${e.formattedYear}-${e.formattedMonthPart}-${e.formattedDayPart} ${o.toString()}`).toISOString()}function p(e){if(!("string"==typeof e&&e.length>0&&e.match(c)))return console.error("Invalid string provided to isoStringToTuiDay",{isoString:e}),null;const o=new Date(e);return new i.EK(o.getFullYear(),o.getMonth()+1,o.getDate())}function g(e){if("string"==typeof e&&e.length>0&&e.match(/^\d{4}-\d{1,2}-\d{1,2}\s{1}\d{1,2}:\d{1,2}$/)&&(e=e.split(" ")[0]),!("string"==typeof e&&e.length>0&&e.match(/^\d{4}-\d{1,2}-\d{1,2}$/)))return console.error("Invalid string provided to stringToTuiDay. Expected format YYYY-MM-DD, got",{str:e}),null;const{day:o,month:s,year:u}=i.EK.parseRawDateString(e,"YMD");return new i.EK(u,s,o)}function O(e){if("string"==typeof e&&e.length>0&&e.match(/^\d{4}-\d{1,2}-\d{1,2}\s{1}\d{1,2}:\d{1,2}$/)&&(e=e.split(" ")[1]),!("string"==typeof e&&e.length>0&&e.match(/^\d{1,2}:\d{1,2}$/)))return console.error("Invalid string provided to stringToTuiDay. Expected format HH:mm, got",{str:e}),null;const[o,s]=e.split(":").map(u=>Number(u));return"number"==typeof o&&o>=0&&o<=23?"number"==typeof s&&s>=0&&s<60?new i.uc(o,s):(console.error("error while parsing time in stringToTuiTime. minutes are invalid",{minutes:s}),null):(console.error("error while parsing time in stringToTuiTime. hours is invalid ",{hours:o}),null)}function M(e){if(!("string"==typeof e&&e.length>0&&e.match(c)))return console.error("Invalid string provided to isoStringToTuiTime",{isoString:e}),null;const o=new Date(e);return new i.uc(o.getHours(),o.getMinutes())}function d(e){return new Date(`1970-01-01 ${e.toString()}`).toISOString()}function f(e){const o=new Date(`${e}Z`);return`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")} ${String(o.getHours()).padStart(2,"0")}:${String(o.getMinutes()).padStart(2,"0")}`}function P(e){return function S(e){const o=new Date(`1970-01-01 ${e}`);return`${`${o.getUTCHours()}`.padStart(2,"0")}:${`${o.getUTCMinutes()}`.padStart(2,"0")}`}(e.toString())}function C(e){return new i.EK(e.getFullYear(),e.getMonth(),e.getDate())}function h(e){return new i.uc(e.getHours(),e.getMinutes())}},6988:($,R,n)=>{n.d(R,{E:()=>O,Q:()=>M});var i=n(4496),c=n(3480),t=n(3840),p=n(3120),g=n(3616);let O=(()=>{class a{constructor(S,N){this.el=S,this.destroy$=N}set tuiScrollIntoView(S){S&&(0,p.k)(0).pipe((0,g.a)(this.destroy$)).subscribe(()=>{this.el.nativeElement.dispatchEvent(new CustomEvent(t.dG,{bubbles:!0,detail:this.el.nativeElement}))})}}return a.\u0275fac=function(S){return new(S||a)(i.GI1(i.GMv),i.GI1(c.UF,2))},a.\u0275dir=i.Sc5({type:a,selectors:[["","tuiScrollIntoView",""]],inputs:{tuiScrollIntoView:"tuiScrollIntoView"},features:[i.M5G([c.UF])]}),a})(),M=(()=>{class a{}return a.\u0275fac=function(S){return new(S||a)},a.\u0275mod=i.a4G({type:a}),a.\u0275inj=i.s3X({}),a})()}}]);