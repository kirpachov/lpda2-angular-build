"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[5792],{8176:(Ot,G,l)=>{l.r(G),l.d(G,{ReserveComponent:()=>Rt});var e=l(4496),ee=l(4476),te=l(6076),E=l(8212),oe=l(1512),I=l(1128),C=l(3480),ne=l(6616),L=l(4820),ie=l(7296),c=l(3616),se=l(1680),h=l(1368),s=l(6504),g=l(400),ae=l(3412),f=l(6684),M=l(8824),x=l(8976),P=l(7048),N=l(8256),T=l(8392),le=l(5116),V=l(9772),$=l(8268),S=l(1560),F=l(1676),R=l(8048),y=l(5188),w=l(6052),re=l(4336);function _e(n,r){1&n&&(e.I0R(0,"mat-icon"),e.OEk(1,"person"),e.C$Y())}function ue(n,r){1&n&&(e.I0R(0,"mat-icon"),e.OEk(1,"people"),e.C$Y())}function ce(n,r){1&n&&(e.I0R(0,"mat-icon"),e.OEk(1,"groups"),e.C$Y())}function pe(n,r){if(1&n&&e.yuY(0,_e,2,0)(1,ue,2,0)(2,ce,2,0),2&n){const t=e.GaO();let o;e.C0Y(0,1===(o=t.people.value)?0:2===o?1:2)}}function Ce(n,r){1&n&&(e.SAx(0),e.aS0(1,5),e.k70())}function me(n,r){1&n&&(e.SAx(0),e.aS0(1,6),e.k70())}function de(n,r){if(1&n&&(e.OEk(0),e.yuY(1,Ce,2,0,"ng-container")(2,me,2,0)),2&n){const t=r.$implicit;e.oRS(" ",t," "),e.yG2(),e.C0Y(1,t>1?1:2)}}function Ee(n,r){if(1&n&&e.wR5(0,"tui-data-list-wrapper",7),2&n){const t=e.GaO(),o=e.Gew(3);e.E7m("itemContent",o)("items",t.peopleArray())}}let Re=(()=>{class n{constructor(){this.destroy$=(0,e.uUt)(C.UF),this.publicDataService=(0,e.uUt)(F.s),this.people=new s.Ku(null),this.peopleArray=(0,e.OCB)(Array.from({length:10}).map((t,o)=>o+1))}ngOnInit(){this.loadPublicData()}writeValue(t){this.people.setValue(t)}registerOnChange(t){this.people.valueChanges.subscribe(o=>{t(o)})}registerOnTouched(t){this.people.valueChanges.subscribe(()=>{t()})}setDisabledState(t){t?this.people.disable():this.people.enable()}loadPublicData(){this.publicDataService.data$.pipe((0,c.a)(this.destroy$),(0,f.I)(t=>null!==t)).subscribe({next:t=>{this.updateMaxPeople(Number(t.settings.max_people_per_reservation??null))}})}updateMaxPeople(t){this.peopleArray.set(Array.from({length:t}).map((o,i)=>i+1))}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-people-input"]],standalone:!0,features:[e.M5G([C.UF,{provide:s.Y6,useExisting:n,multi:!0}]),e.UHJ],decls:7,vars:5,consts:()=>{let t,o;return t="people",o="person",[["peopleIcon",""],["peopleOptionTemplate",""],[1,"!rounded-tr-none","!rounded-br-none",3,"tuiTextfieldIconLeft","valueContent","formControl","tuiTextfieldLabelOutside"],["tuiMultiSelectGroup","",3,"itemContent","items",4,"tuiDataList"],["tuiSelect","",3,"items"],t,o,["tuiMultiSelectGroup","",3,"itemContent","items"]]},template:function(o,i){if(1&o&&(e.yuY(0,pe,3,1,"ng-template",null,0,e.gJz)(2,de,3,2,"ng-template",null,1,e.gJz),e.I0R(4,"tui-select",2),e.yuY(5,Ee,1,2,"tui-data-list-wrapper",3),e.wR5(6,"select",4),e.C$Y()),2&o){const a=e.Gew(1),_=e.Gew(3);e.yG2(4),e.E7m("tuiTextfieldIconLeft",a)("valueContent",_)("formControl",i.people)("tuiTextfieldLabelOutside",!0),e.yG2(2),e.E7m("items",i.peopleArray())}},dependencies:[S.oB,S.qL,y.my,y.cP,y.uO,y._m,R.aS,R.E9,R.Ep,s.sl,s.ue,s.ug,w.q8,w.OO,re.Ux],encapsulation:2,changeDetection:0})}return n})();var Y=l(466),v=l(7936),D=l(1673),fe=l(7176),b=l(6528),k=l(1040);const Te=["dateDropdown"];function Oe(n,r){1&n&&(e.I0R(0,"mat-icon"),e.OEk(1,"calendar_today"),e.C$Y())}function he(n,r){if(1&n){const t=e.KQA();e.I0R(0,"tui-calendar",7),e.qCj("monthChange",function(i){e.usT(t);const a=e.GaO();return e.CGJ(a.onMonthChange(i))})("touchend",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.touched())})("dayClick",function(i){e.usT(t);const a=e.GaO();return e.CGJ(a.onDayClick(i))}),e.C$Y(),e.I0R(1,"tui-checkbox-block",8),e.SAx(2),e.aS0(3,9),e.k70(),e.C$Y()}if(2&n){const t=e.GaO();e.E7m("min",t.onlyValidDates.value?t.today():null)("max",t.onlyValidDates.value?t.maxDate():null)("disabledItemHandler",t.disabledDates)("value",t.control.value),e.yG2(),e.E7m("formControl",t.onlyValidDates)}}function ge(n,r){1&n&&e.C_f(0)}function Se(n,r){if(1&n&&(e.I0R(0,"div",10),e.yuY(1,ge,1,0,"ng-container",11),e.C$Y()),2&n){const t=e.GaO();e.yG2(),e.E7m("polymorpheusOutlet",t.TUI_ARROW)}}let Ie=(()=>{class n{constructor(){this.cd=(0,e.uUt)(e.kD9),this.destroy$=(0,e.uUt)(C.UF),this.notifications=(0,e.uUt)(I.E),this.publicDataService=(0,e.uUt)(F.s),this.reservationsService=(0,e.uUt)(L.G),this.datePipe=(0,e.uUt)(h.y),this.maxDaysInAdvance=(0,e.OCB)(300),this.defaultDateValue=g.EK.currentLocal(),this.control=new s.Ku(this.defaultDateValue),this.defaultDateReadonly="Select a date.",this.loadingDates=(0,e.OCB)(!1),this.TUI_ARROW=fe.ie,this.maxDate=(0,e.OCB)(null),this.onlyValidDates=new s.Ku(!0),this.today=(0,e.OCB)(g.EK.currentLocal()),this.validDates=(0,e.OCB)([]),this.disabledDates=t=>!(!this.onlyValidDates.value||!t.dayBefore(this.today())&&!t.dayAfter(this.today().append({day:this.maxDaysInAdvance()}))&&(0===this.validDates().length||t.dayAfter(this.validDates()[this.validDates().length-1])||this.validDates().find(o=>o.daySame(t))))}ngOnInit(){this.loadPublicData(),this.formUpdated(),this.loadDates(),this.control.valueChanges.pipe((0,c.a)(this.destroy$),(0,f.I)(t=>null!==t)).subscribe(t=>{this.formUpdated()})}onDayClick(t){this.control.setValue(t),this.dropdown?.close()}touched(){}onMonthChange(t){this.loadDates(t)}writeValue(t){this.control.setValue(t)}registerOnChange(t){this.control.valueChanges.pipe((0,c.a)(this.destroy$)).subscribe(o=>{t(o)})}registerOnTouched(t){this.control.valueChanges.pipe((0,c.a)(this.destroy$)).subscribe(o=>{this.touched(),t(o)})}setDisabledState(t){t?this.control.disable():this.control.enable()}findValidDate(){this.onlyValidDates.setValue(!0),this.control.reset(this.defaultDateValue),this.dropdown&&(this.dropdown.open=!0)}loadDates(t=g.Ci.currentLocal()){const o=new g.EK(t.year,t.month,1),i=o.append({month:1}).append({day:-1});this.loadingDates.set(!0),this.reservationsService.getValidDates({from_date:this.datePipe.transform(o.toUtcNativeDate(),"yyyy-MM-dd")||"",to_date:this.datePipe.transform(i.toUtcNativeDate(),"yyyy-MM-dd")||""}).pipe((0,c.a)(this.destroy$),(0,M.U)(()=>this.loadingDates.set(!1))).subscribe({next:a=>{this.validDates.update(_=>{let p=[..._];return a.forEach(u=>{p.find(d=>d.daySame(u))||p.push(u)}),p})},error:a=>{console.error(a),this.notifications.error(a instanceof P.gj?(0,N.mk)(a):T.a)}})}loadPublicData(){this.publicDataService.data$.pipe((0,c.a)(this.destroy$),(0,f.I)(t=>null!==t)).subscribe({next:t=>{const o=t.settings.reservation_max_days_in_advance??null;this.maxDaysInAdvance.set(o?Number(o):this.maxDaysInAdvance()),this.updateMaxDate()}})}formUpdated(){this.cd.detectChanges()}updateMaxDate(){this.maxDate.set(this.today().append({day:this.maxDaysInAdvance()}))}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-date-input"]],viewQuery:function(o,i){if(1&o&&e.CC$(Te,5),2&o){let a;e.wto(a=e.Gqi())&&(i.dropdown=a.first)}},standalone:!0,features:[e.M5G([C.UF,{provide:s.Y6,useExisting:n,multi:!0}]),e.UHJ],decls:11,vars:9,consts:()=>{let t;return t="Show only selectable dates.",[["calendarIcon",""],["calendarTemplate",""],[1,"w-full",3,"content"],["dateDropdown",""],["icon",""],[1,"w-full","!rounded-tl-none","!rounded-bl-none",3,"tuiTextfieldIconLeft","tuiTextfieldIcon","editable","tuiTextfieldLabelOutside","value"],["tuiTextfield","",1,"cursor-pointer"],[1,"m-auto",3,"min","max","disabledItemHandler","value","monthChange","touchend","dayClick"],["contentAlign","right","size","l",1,"m-1",3,"formControl"],t,["appearance","icon","tuiWrapper",""],[4,"polymorpheusOutlet"]]},template:function(o,i){if(1&o&&(e.yuY(0,Oe,2,0,"ng-template",null,0,e.gJz)(2,he,4,5,"ng-template",null,1,e.gJz),e.I0R(4,"tui-hosted-dropdown",2,3),e.yuY(6,Se,2,1,"ng-template",null,4,e.gJz),e.I0R(8,"tui-primitive-textfield",5),e.wVc(9,"date"),e.wR5(10,"input",6),e.C$Y()()),2&o){const a=e.Gew(1),_=e.Gew(3),p=e.Gew(7);let u;e.yG2(4),e.E7m("content",_),e.yG2(4),e.E7m("tuiTextfieldIconLeft",a)("tuiTextfieldIcon",p)("editable",!1)("tuiTextfieldLabelOutside",!0)("value",null!==(u=e.g7$(9,6,null==i.control.value?null:i.control.value.toUtcNativeDate(),"d MMMM"))&&void 0!==u?u:i.defaultDateReadonly)}},dependencies:[S.oB,S.qL,s.sl,s.ue,s.ug,E.CI,Y.GE,Y.Qw,v.KA,v.y_,v.KQ,v.b,R.aS,R.E9,R.uU,R.Ep,D.y,D.I,b.i,b.I,k.Ux,k.Af,h.y],encapsulation:2,changeDetection:0})}return n})();function Pe(n,r){if(1&n){const t=e.KQA();e.I0R(0,"button",1),e.qCj("click",function(){const a=e.usT(t).$implicit,_=e.GaO();return e.CGJ(_.onTimeClick(a))}),e.I0R(1,"span",2),e.OEk(2),e.C$Y()()}if(2&n){const t=r.$implicit,o=e.GaO();e.E7m("ngClass",o.time.value&&o.time.value.hours==t.hours&&o.time.value.minutes==t.minutes?"btn-primary":"btn-primary-outline"),e.yG2(2),e.oRS(" ",t," ")}}let Ne=(()=>{class n{constructor(){this.destroy$=(0,e.uUt)(C.UF),this.options=[],this.time=new s.Ku(null)}writeValue(t){this.time.setValue(t)}registerOnChange(t){this.time.valueChanges.pipe((0,c.a)(this.destroy$)).subscribe(o=>{t(o)})}registerOnTouched(t){this.time.valueChanges.pipe((0,c.a)(this.destroy$)).subscribe(o=>{t(o)})}setDisabledState(t){t?this.time.disable():this.time.enable()}onTimeClick(t){this.time.setValue(t)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-time-input"]],inputs:{options:"options"},standalone:!0,features:[e.M5G([C.UF,{provide:s.Y6,useExisting:n,multi:!0}]),e.UHJ],decls:3,vars:0,consts:[[1,"grid","grid-cols-3","gap-x-2","gap-y-2"],["type","button","size","l","tuiButton","","appearance","custom",3,"ngClass","click"],[1,"text-xl"],["type","button","size","l","tuiButton","","appearance","custom",3,"ngClass"]],template:function(o,i){1&o&&(e.I0R(0,"div",0),e.c53(1,Pe,3,2,"button",3,e.oxv),e.C$Y()),2&o&&(e.yG2(),e.oho(i.options))},dependencies:[h.QF],encapsulation:2})}return n})();var U=l(1236);function ve(n,r){1&n&&(e.wR5(0,"div",2),e.wVc(1,"linkify")),2&n&&e.E7m("innerHTML",e.kDX(1,1,r.$implicit),e.E3n)}function Me(n,r){if(1&n&&(e.I0R(0,"div",1),e.c53(1,ve,2,3,"div",3,e.oxv),e.C$Y()),2&n){const t=e.GaO();e.yG2(),e.oho(t.messages)}}let z=(()=>{class n{constructor(){this.messages=[]}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-show-messages"]],inputs:{messages:"messages"},standalone:!0,features:[e.UHJ],decls:1,vars:1,consts:[["class","w-full my-5 border border-primary p-3 rounded-lg"],[1,"w-full","my-5","border","border-primary","p-3","rounded-lg"],[1,"w-full","text-pretty","my-3","text-xl",3,"innerHTML"],["class","w-full text-pretty my-3 text-xl",3,"innerHTML"]],template:function(o,i){1&o&&e.yuY(0,Me,3,0,"div",0),2&o&&e.C0Y(0,i.messages&&i.messages.length?0:-1)},dependencies:[$.M],encapsulation:2,changeDetection:0})}return n})();const ye=["warningsDiv"];function be(n,r){1&n&&(e.wR5(0,"p",11),e.wVc(1,"linkify")),2&n&&e.E7m("innerHTML",e.kDX(1,1,r.$implicit),e.E3n)}function Ae(n,r){1&n&&(e.I0R(0,"p"),e.aS0(1,12),e.C$Y())}function Le(n,r){if(1&n&&(e.I0R(0,"p"),e.SAx(1),e.aS0(2,13),e.k70(),e.OEk(3),e.wVc(4,"date"),e.C$Y()),2&n){e.GaO(3);const t=e.Gew(5);let o;e.yG2(3),e.oRS(" ",e.g7$(4,1,null==(o=t.maxDate())?null:o.toUtcNativeDate(),"fullDate")," ")}}function Ve(n,r){if(1&n&&(e.I0R(0,"div",10),e.c53(1,be,2,3,"p",11,e.oxv,!1,Ae,2,0,"p"),e.yuY(4,Le,5,4,"p"),e.C$Y()),2&n){const t=e.GaO(2),o=e.Gew(5);e.yG2(),e.oho(t.holidayMessages()),e.yG2(3),e.C0Y(4,t.form.controls.date.value&&o.maxDate()&&t.form.controls.date.value.dayAfter(o.maxDate())?4:-1)}}function $e(n,r){if(1&n&&e.wR5(0,"app-show-messages",7),2&n){const t=e.GaO(2);e.E7m("messages",t.holidayMessages())}}function Ue(n,r){if(1&n&&e.yuY(0,Ve,5,2,"div",9)(1,$e,1,1),2&n){const t=e.GaO();e.C0Y(0,0==t.validTimes().length?0:1)}}function Be(n,r){if(1&n&&e.wR5(0,"app-show-messages",7),2&n){const t=e.GaO();e.E7m("messages",t.messages()[t.form.controls.time.value.toString()])}}function Ge(n,r){if(1&n&&e.OEk(0),2&n){const t=e.GaO(2);e.oRS(" alle ",t.form.controls.time.value.toString("HH:MM")," ")}}function xe(n,r){if(1&n&&(e.I0R(0,"button",14),e.OEk(1," Prenota un tavolo "),e.yuY(2,Ge,1,1),e.C$Y()),2&n){const t=e.GaO();e.E7m("disabled",t.form.invalid)("showLoader",t.loadingTimes()||t.showLoader),e.yG2(2),e.C0Y(2,t.form.controls.time.value?2:-1)}}function Fe(n,r){if(1&n){const t=e.KQA();e.I0R(0,"button",15),e.qCj("click",function(){e.usT(t),e.GaO();const i=e.Gew(5);return e.CGJ(i.findValidDate())}),e.SAx(1),e.aS0(2,16),e.k70(),e.C$Y()}if(2&n){const t=e.GaO();e.E7m("showLoader",t.loadingTimes()||t.showLoader)}}let K=(()=>{class n{constructor(){this.route=(0,e.uUt)(U.gV),this.destroy$=(0,e.uUt)(C.UF),this.reservationsv2=(0,e.uUt)(le.e),this.notifications=(0,e.uUt)(I.E),this.submitted=new e._w7,this.warningsToShow=(0,e.OCB)([]),this.defaultPeople=2,this.defaultDate=g.EK.currentLocal(),this.defaultTime=null,this.form=new s.WC({people:new s.Ku(this.defaultPeople,[s.AQ.required,s.AQ.min(1),s.AQ.max(20)]),date:new s.Ku(this.defaultDate,[s.AQ.required]),time:new s.Ku(this.defaultTime,[s.AQ.required])}),this.showLoader=!1,this.messages=(0,e.OCB)({}),this.loadingTimes=(0,e.OCB)(!1),this.holidayMessages=(0,e.OCB)([]),this.validTimes=(0,e.OCB)([])}ngOnInit(){(0,ae.U)(this.form.controls.people.valueChanges.pipe((0,c.a)(this.destroy$),(0,f.I)(()=>this.form.controls.people.valid)),this.form.controls.date.valueChanges.pipe((0,c.a)(this.destroy$),(0,f.I)(()=>this.form.controls.date.valid))).subscribe(()=>{this.peopleOrDateChanged()}),this.loadValidTimes()}writeValue(t){if(null==t||null==t||"object"!=typeof t)return void this.form.reset();const i=this.form.value;this.form.patchValue({people:t.people??i.people??this.defaultPeople,date:t.date??i.date??this.defaultDate,time:t.time??i.time??this.defaultTime})}registerOnChange(t){this.form.valueChanges.pipe((0,c.a)(this.destroy$)).subscribe({next:o=>t(o)})}registerOnTouched(t){this.form.valueChanges.pipe((0,c.a)(this.destroy$)).subscribe({next:o=>t(o)})}setDisabledState(t){t?this.form.disable():this.form.enable()}onFormSubmit(){const t=this.formatOutput();t?this.submitted.emit(t):this.notifications.error("Check that the data is correct.")}onDayClick(t,o){this.form.controls.date.setValue(t),o.close()}touched(){}loadValidTimes(){const t=this.form.controls.date.value,o=this.form.controls.people.value;!t||!o||(this.loadingTimes.set(!0),this.reservationsv2.getValidTimes({date:t,people:o}).pipe((0,c.a)(this.destroy$),(0,M.U)(()=>this.loadingTimes.set(!1))).subscribe({next:i=>{const a=[];i.holidays.forEach(u=>{u.message&&"string"==typeof u.message&&u.message.length>0&&a.push(u.message)}),this.holidayMessages.set(a);const _=i.turns.map(u=>u.valid_times).filter(u=>Array.isArray(u)&&u.length>0).flat();this.validTimes.set(_.map(u=>g.uc.fromString((0,V.CU)(u))).sort((u,d)=>u.toAbsoluteMilliseconds()-d.toAbsoluteMilliseconds()));const p={};i.turns.forEach(u=>{u.valid_times?.forEach(d=>{(u.messages||[]).forEach(m=>{m&&"string"==typeof m.message&&m.message.length>0&&(p[(0,V.CU)(d)]||=[],p[(0,V.CU)(d)].push(m.message))})})}),this.messages.set(p)},error:i=>{this.notifications.error(i instanceof P.gj?(0,N.mk)(i):T.a)}}))}peopleOrDateChanged(){this.form.controls.time.setValue(null),this.validTimes.set([]),this.loadValidTimes()}formatOutput(){const t=this.form.controls.date.value,o=this.form.controls.time.value,i=this.form.controls.people.value;return t&&o&&i?{date:t,time:o,people:i}:null}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-public-reserve-preview"]],viewQuery:function(o,i){if(1&o&&e.CC$(ye,5),2&o){let a;e.wto(a=e.Gqi())&&(i.warningsDiv=a.first)}},inputs:{showLoader:"showLoader"},outputs:{submitted:"submitted"},standalone:!0,features:[e.M5G([C.UF,{provide:s.Y6,useExisting:n,multi:!0}]),e.UHJ],decls:12,vars:9,consts:()=>{let t,o,i;return t="We are sorry, there are no available times for the selected date.",o="The last bookable day is",i="Find a date.",[[1,"container","max-w-[600px]","mx-auto"],[1,"block","px-2",3,"formGroup","ngSubmit"],["tuiGroup","",1,"block","mb-2",3,"collapsed"],[3,"formControl"],["date",""],[1,"block","mb-2"],[3,"formControl","options"],[3,"messages"],["class","w-full","appearance","primary","size","l","tuiButton","","type","submit",3,"disabled","showLoader"],["class","text-center text-xl text-danger block mb-3"],[1,"text-center","text-xl","text-danger","block","mb-3"],[3,"innerHTML"],t,o,["appearance","primary","size","l","tuiButton","","type","submit",1,"w-full",3,"disabled","showLoader"],["appearance","outline","tuiButton","","type","button",1,"w-full",3,"showLoader","click"],i]},template:function(o,i){1&o&&(e.I0R(0,"div",0)(1,"form",1),e.qCj("ngSubmit",function(){return i.onFormSubmit()}),e.I0R(2,"div",2),e.wR5(3,"app-people-input",3)(4,"app-date-input",3,4),e.C$Y(),e.I0R(6,"div",5),e.wR5(7,"app-time-input",6),e.C$Y(),e.yuY(8,Ue,2,1)(9,Be,1,1,"app-show-messages",7)(10,xe,3,3,"button",8)(11,Fe,3,1),e.C$Y()()),2&o&&(e.yG2(),e.E7m("formGroup",i.form),e.yG2(),e.E7m("collapsed",!1),e.yG2(),e.E7m("formControl",i.form.controls.people),e.yG2(),e.E7m("formControl",i.form.controls.date),e.yG2(3),e.E7m("formControl",i.form.controls.time)("options",i.validTimes()),e.yG2(),e.C0Y(8,!i.loadingTimes()&&i.form.controls.date.touched?8:-1),e.yG2(),e.C0Y(9,i.form.controls.time.value&&i.messages()?9:-1),e.yG2(),e.C0Y(10,i.loadingTimes()||i.validTimes().length>0?10:11))},dependencies:[s.sl,s.sz,s.ue,s.u,s.ug,s.uW,x.Gy,x.Ko,E.CI,E.Kw,$.M,h.y,Re,Ie,Ne,z],encapsulation:2,changeDetection:0})}return n})();var A=l(964),X=l(9212),we=l(4704),Ye=l(9144),De=l(2700),ke=l(3688);function ze(n,r){if(1&n&&(e.wR5(0,"p",14),e.wVc(1,"linkify")),2&n){const t=e.GaO().$implicit;e.E7m("innerHTML",e.kDX(1,1,null==t.table_type?null:t.table_type.description),e.E3n)}}const Ke=()=>[];function Xe(n,r){if(1&n){const t=e.KQA();e.I0R(0,"div",6)(1,"p",7),e.OEk(2),e.C$Y(),e.I0R(3,"p",8),e.OEk(4),e.wVc(5,"currency"),e.SAx(6),e.aS0(7,9),e.k70(),e.C$Y(),e.yuY(8,ze,2,3,"p",10),e.wR5(9,"app-public-show-images",11),e.I0R(10,"tui-checkbox-block",12),e.qCj("ngModelChange",function(i){const _=e.usT(t).$implicit,p=e.GaO();return e.CGJ(p.updateTableType(i?_.table_type:null))}),e.SAx(11),e.aS0(12,13),e.k70(),e.C$Y()()}if(2&n){const t=r.$implicit,o=e.GaO();e.yG2(2),e.oRS(" ",null==t.table_type?null:t.table_type.name," "),e.yG2(2),e.oRS("",e.kDX(5,6,t.price)," "),e.yG2(4),e.C0Y(8,null!=t.table_type&&t.table_type.description?8:-1),e.yG2(),e.E7m("images",(null==t||null==t.table_type?null:t.table_type.images)||e.q4q(8,Ke)),e.yG2(),e.E7m("contentAlign","left")("ngModel",(null==o.control.value?null:o.control.value.id)==t.table_type_id)}}function He(n,r){1&n&&(e.I0R(0,"div",6)(1,"p",15),e.SAx(2),e.aS0(3,16),e.k70(),e.C$Y(),e.I0R(4,"p",17),e.SAx(5),e.aS0(6,18),e.k70(),e.C$Y()())}const Qe=n=>[n];function We(n,r){if(1&n&&e.wR5(0,"app-show-messages",4),2&n){const t=e.GaO();e.E7m("messages",e.S45(1,Qe,t.message()))}}function je(n,r){if(1&n&&(e.SAx(0),e.aS0(1,19),e.k70(),e.I0R(2,"span",20),e.OEk(3),e.C$Y()),2&n){const t=e.GaO();e.yG2(3),e.cNF(t.control.value.name)}}function Je(n,r){1&n&&(e.SAx(0),e.aS0(1,21),e.k70())}let Ze=(()=>{class n{constructor(){this.submitted=new e._w7,this.showLoader=!1,this.destroy$=(0,e.uUt)(C.UF),this.control=new s.Ku(null),this.tableTypes=(0,e.OCB)([]),this.message=(0,e.OCB)(null)}set group(t){this.tableTypes.set(t?.table_type_to_preorder_reservation_groups||[]),this.message.set(t?.message||null)}ngOnInit(){}writeValue(t){this.control.setValue(t)}registerOnChange(t){this.control.valueChanges.pipe((0,c.a)(this.destroy$)).subscribe(o=>t(o))}registerOnTouched(t){this.control.valueChanges.pipe((0,c.a)(this.destroy$)).subscribe(o=>t(o))}setDisabledState(t){t?this.control.disable():this.control.enable()}updateTableTypeId(t){const o=this.tableTypes().find(i=>i.table_type_id===t)?.table_type||null;this.updateTableType(o)}updateTableType(t){this.control.setValue(t||null)}formSubmit(){this.submitted.emit(this.control.value)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-public-reserve-ask-table-type"]],inputs:{showLoader:"showLoader",group:"group"},outputs:{submitted:"submitted"},standalone:!0,features:[e.M5G([C.UF,{provide:s.Y6,useExisting:(0,e.wd)(()=>n),multi:!0}]),e.UHJ],decls:13,vars:5,consts:()=>{let t,o,i,a,_,p,u,d;return t="Select additions.",o="Customize your experience by selecting the table you like the most!",i="per person",a="Request this table.",_="No tables are available.",p="Contact the restaurant for more information.",u="Request",d="Proceed without.",[[1,"font-bold","text-2xl"],t,[1,"text-slate-400","text-lg","mb-2"],o,[3,"messages"],["appearance","primary","size","l","tuiButton","","type","button",1,"w-full",3,"disabled","showLoader","click"],[1,"w-full","mb-3","border","border-primary","p-3","rounded-lg"],[1,"font-bold","text-xl"],[1,"my-1","uppercase"],i,["class","text-lg mb-4 text-slate-600",3,"innerHTML"],[1,"block","mb-3",3,"images"],[3,"contentAlign","ngModel","ngModelChange"],a,[1,"text-lg","mb-4","text-slate-600",3,"innerHTML"],[1,"font-bold","block","mb-2","text-lg"],_,[1,"block","mb-2"],p,u,[1,"ms-1","uppercase"],d,["class","w-full mb-3 border border-primary p-3 rounded-lg"]]},template:function(o,i){1&o&&(e.I0R(0,"p",0),e.SAx(1),e.aS0(2,1),e.k70(),e.C$Y(),e.I0R(3,"p",2),e.SAx(4),e.aS0(5,3),e.k70(),e.C$Y(),e.c53(6,Xe,13,9,"div",22,e.oxv,!1,He,7,0,"div",22),e.yuY(9,We,1,3,"app-show-messages",4),e.I0R(10,"button",5),e.qCj("click",function(){return i.formSubmit()}),e.yuY(11,je,4,1)(12,Je,2,0),e.C$Y()),2&o&&(e.yG2(6),e.oho(i.tableTypes()),e.yG2(3),e.C0Y(9,i.message()?9:-1),e.yG2(),e.E7m("disabled",i.control.invalid)("showLoader",i.showLoader),e.yG2(),e.C0Y(11,i.control.value?11:12))},dependencies:[ke.s,b.i,b.I,s.y,s.ue,s._G,h.cf,$.M,E.CI,E.Kw,z],encapsulation:2,changeDetection:0})}return n})();var qe=l(9852),H=l(5e3),B=l(3797),Q=l(7868),W=l(6964),et=l(9956),j=l(3724),tt=l(7708);function ot(n,r){if(1&n&&e.wR5(0,"app-errors",6),2&n){const t=e.GaO();e.E7m("errors",t.form.controls.firstName.errors)}}function nt(n,r){if(1&n&&e.wR5(0,"app-errors",6),2&n){const t=e.GaO();e.E7m("errors",t.form.controls.lastName.errors)}}function it(n,r){if(1&n&&e.wR5(0,"app-errors",6),2&n){const t=e.GaO();e.E7m("errors",t.form.controls.email.errors)}}function st(n,r){if(1&n&&e.wR5(0,"app-errors",6),2&n){const t=e.GaO();e.E7m("errors",t.form.controls.phone.errors)}}function at(n,r){if(1&n&&e.wR5(0,"app-errors",6),2&n){const t=e.GaO();e.E7m("errors",t.form.controls.notes.errors)}}function lt(n,r){if(1&n&&e.wR5(0,"app-errors",6),2&n){const t=e.GaO();e.E7m("errors",t.form.controls.acceptTerms.errors)}}let J=(()=>{class n{constructor(){this.destroy$=(0,e.uUt)(C.UF),this.notifications=(0,e.uUt)(I.E),this.submitted=new e._w7,this.showLoader=!1,this.formSubmitted=(0,e.OCB)(!1),this.form=new s.WC({firstName:new s.Ku(null,[s.AQ.required]),lastName:new s.Ku(null,[s.AQ.required]),email:new s.Ku(null,[s.AQ.required,s.AQ.email]),phone:new s.Ku(null,[s.AQ.required]),notes:new s.Ku(null),acceptTerms:new s.Ku(!1,[s.AQ.requiredTrue])}),this.countries=Object.values(j.q),this.countryIsoCode=j.q.IT}ngOnInit(){}writeValue(t){this.form.patchValue(t)}registerOnChange(t){this.form.valueChanges.pipe((0,c.a)(this.destroy$)).subscribe(o=>t(o))}registerOnTouched(t){this.form.valueChanges.pipe((0,c.a)(this.destroy$)).subscribe(o=>t(o))}setDisabledState(t){t?this.form.disable():this.form.enable()}formSubmit(){const t=this.formatOutput();this.formSubmitted.set(!0),t?this.submitted.emit(t):this.notifications.error("Please fill in all required fields")}formatOutput(){if(this.form.invalid)return null;const t=this.form.controls.firstName.value,o=this.form.controls.lastName.value,i=this.form.controls.email.value,a=this.form.controls.phone.value;return t&&o&&i&&a?{firstName:t,lastName:o,email:i,phone:a,notes:this.form.controls.notes.value}:null}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-contact-confirm"]],inputs:{showLoader:"showLoader"},outputs:{submitted:"submitted"},standalone:!0,features:[e.M5G([C.UF,{provide:s.Y6,useExisting:(0,e.wd)(()=>n),multi:!0}]),e.UHJ],decls:39,vars:20,consts:()=>{let t,o,i,a,_,p;return t="Name",o="Surname",i="Email",a="Cell phone",_="Special requests (optional)",p="Booking confirmation",[[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"grow"],[1,"grow",3,"tuiAutoFocus","formControl"],t,["tuiTextfield","","autocomplete","given-name"],[3,"errors"],[1,"grow",3,"formControl"],o,["tuiTextfield","","autocomplete","family-name"],i,["tuiTextfield","","name","email","autocomplete","email"],[3,"countries","countryIsoCode","formControl","countryIsoCodeChange"],a,[3,"formControl"],_,[3,"size","formControl"],["appearance","primary","size","l","tuiButton","","type","submit",1,"w-full",3,"disabled","showLoader"],p]},template:function(o,i){1&o&&(e.I0R(0,"form",0),e.qCj("ngSubmit",function(){return i.formSubmit()}),e.I0R(1,"div",1)(2,"div",2)(3,"tui-input",3),e.SAx(4),e.aS0(5,4),e.k70(),e.wR5(6,"input",5),e.C$Y(),e.yuY(7,ot,1,1,"app-errors",6),e.C$Y()(),e.I0R(8,"div",1)(9,"tui-input",7),e.SAx(10),e.aS0(11,8),e.k70(),e.wR5(12,"input",9),e.C$Y(),e.yuY(13,nt,1,1,"app-errors",6),e.C$Y(),e.I0R(14,"div",1)(15,"tui-input",3),e.SAx(16),e.aS0(17,10),e.k70(),e.wR5(18,"input",11),e.C$Y(),e.yuY(19,it,1,1,"app-errors",6),e.C$Y(),e.I0R(20,"div",1)(21,"tui-input-phone-international",12),e.iHE("countryIsoCodeChange",function(_){return e.kNx(i.countryIsoCode,_)||(i.countryIsoCode=_),_}),e.SAx(22),e.aS0(23,13),e.k70(),e.C$Y(),e.yuY(24,st,1,1,"app-errors",6),e.C$Y(),e.I0R(25,"div",1)(26,"tui-input",14),e.SAx(27),e.aS0(28,15),e.k70(),e.C$Y(),e.yuY(29,at,1,1,"app-errors",6),e.C$Y(),e.I0R(30,"div",1)(31,"tui-checkbox-labeled",16),e.OEk(32," Accetto i "),e.I0R(33,"app-terms-and-conditions-link"),e.OEk(34,"termini e le condizioni"),e.C$Y()(),e.yuY(35,lt,1,1,"app-errors",6),e.C$Y(),e.I0R(36,"button",17),e.SAx(37),e.aS0(38,18),e.k70(),e.C$Y()()),2&o&&(e.E7m("formGroup",i.form),e.yG2(3),e.E7m("tuiAutoFocus",!0)("formControl",i.form.controls.firstName),e.yG2(4),e.C0Y(7,i.form.controls.firstName.touched||i.formSubmitted()?7:-1),e.yG2(2),e.E7m("formControl",i.form.controls.lastName),e.yG2(4),e.C0Y(13,i.form.controls.lastName.touched||i.formSubmitted()?13:-1),e.yG2(2),e.E7m("tuiAutoFocus",!0)("formControl",i.form.controls.email),e.yG2(4),e.C0Y(19,i.form.controls.email.touched||i.formSubmitted()?19:-1),e.yG2(2),e.E7m("countries",i.countries),e.OKB("countryIsoCode",i.countryIsoCode),e.E7m("formControl",i.form.controls.phone),e.yG2(3),e.C0Y(24,i.form.controls.phone.touched||i.formSubmitted()?24:-1),e.yG2(2),e.E7m("formControl",i.form.controls.notes),e.yG2(3),e.C0Y(29,i.form.controls.notes.touched||i.formSubmitted()?29:-1),e.yG2(2),e.E7m("size","l")("formControl",i.form.controls.acceptTerms),e.yG2(4),e.C0Y(35,i.form.controls.acceptTerms.touched||i.formSubmitted()?35:-1),e.yG2(),e.E7m("disabled",i.form.invalid)("showLoader",i.showLoader))},dependencies:[E.CI,E.Kw,B.CQ,B.Oo,B.cP,v.b,R.aS,H.m6,H.gJ,s.sl,s.sz,s.ue,s.u,s.ug,s.uW,Q.W0,Q.e6,et.g,W.i,W.a,tt.E],encapsulation:2,changeDetection:0})}return n})();var Z=l(9880),rt=l(5893),_t=l(3468),O=l(9938);const ut=["stepperHeader"];function ct(n,r){1&n&&(e.I0R(0,"mat-icon"),e.OEk(1,"check"),e.C$Y())}function pt(n,r){1&n&&(e.I0R(0,"span"),e.OEk(1,"1."),e.C$Y())}const q=n=>({"border-primary border-b-2 ":n});let Ct=(()=>{class n{constructor(){this.destroy$=(0,e.uUt)(C.UF),this.reservations=(0,e.uUt)(L.G),this.notifications=(0,e.uUt)(I.E),this.configs=(0,e.uUt)(_t.m),this.router=(0,e.uUt)(U.E5),this.route=(0,e.uUt)(U.gV),this.invalidControl=new s.Ku(null,[s.AQ.required]),this.datePeopleControl=new s.Ku(null,[s.AQ.required,qe.S.objectValuesAllPresent]),this.tableTypeControl=new s.Ku(null),this.contactControl=new s.Ku(null),this.preorder=(0,e.OCB)(null),this.loadingTableTypes=(0,e.OCB)(!1),this.savingReservation=(0,e.OCB)(!1),this.locale="en",this.stepIndex=(0,e.OCB)(1),this.stepper=null,this.datePeopleInput=null,this.contactInput=null}ngOnInit(){this.configs.locale$.pipe((0,c.a)(this.destroy$)).subscribe(t=>{this.locale=t?t.split("-")[0]:"en"}),this.datePeopleControl.valueChanges.pipe((0,c.a)(this.destroy$),(0,X.y)(()=>this.preorder.set(null))).subscribe(),this.datePeopleControl.valueChanges.pipe((0,c.a)(this.destroy$),(0,f.I)(()=>this.datePeopleControl.valid),(0,f.I)(t=>!!(t&&t.date&&t.time&&t.people))).subscribe(t=>{this.loadPaymentInfo(t).subscribe()}),this.listenQueryParamsAndUpdateForm()}previewSubmitted(t){this.loadPaymentInfoAndAskTableTypeOrShowLastPage(t)}tableTypeSubmitted(t){this.tableTypeControl.setValue(t),this.showLastPage()}contactSubmitted(t){this.contactControl.patchValue(t);const o=this.formatOutput();if(o)return this.saveReservation(o);this.notifications.error("Please fill in all required fields.")}loadPaymentInfo(t){return this.reservations.datetimeRequiresPayment({date:t.date.toString("YMD","-"),time:(0,A.In)(t.time),people:t.people}).pipe((0,c.a)(this.destroy$),(0,we.k)(o=>o?.preorder_reservation_group||null),(0,Ye.a)(o=>(console.error("Error while loading payment info",o),this.notifications.error((0,N.mk)(o)||T.a),(0,De.of)(null))),(0,X.y)(o=>this.preorder.set(o)))}askTableType(){this.stepIndex.set(2),this.scrollTop()}showLastPage(){this.stepIndex.set(3),this.scrollTop()}backFromTableTypeSelect(){this.stepIndex.set(1),this.tableTypeControl.setValue(null)}backFromContacts(){this.preorder()?this.stepIndex.set(2):this.stepIndex.set(1)}loadPaymentInfoAndAskTableTypeOrShowLastPage(t){this.loadingTableTypes.set(!0),this.loadPaymentInfo(t).pipe((0,M.U)(()=>this.loadingTableTypes.set(!1))).subscribe({next:o=>{o?this.askTableType():this.showLastPage()}})}saveReservation(t){this.savingReservation.set(!0),this.reservations.create(t).pipe((0,c.a)(this.destroy$),(0,M.U)(()=>this.savingReservation.set(!1))).subscribe({next:o=>{o.payment?.hpp_url?window.location.href=o.payment.hpp_url:(this.notifications.success("\n           Your reservation has been created. We will send you a confirmation\n          email shortly. \n        "),o.secret&&this.router.navigate(["/r/",o.secret]))},error:o=>{o instanceof P.gj&&422===o.status?this.manageUnprocessableEntity(o):this.notifications.error(o instanceof P.gj?(0,N.mk)(o):T.a)}})}formatOutput(){const t=this.contactControl.value?.email,o=this.contactControl.value?.phone,i=this.contactControl.value?.firstName,a=this.contactControl.value?.lastName,_=this.datePeopleControl.value&&this.datePeopleControl.value.date&&this.datePeopleControl.value.time?(0,A.Qx)(this.datePeopleControl.value.date,this.datePeopleControl.value.time):null,p=this.datePeopleControl.value?.people,u=this.contactControl.value?.notes;return(0,rt.W)({email:t,phone:o,datetime:_,children:0,notes:u,adults:p||0,tableTypeId:this.tableTypeControl.value?.id||null,firstName:i,lastName:a,lang:this.locale})}scrollTop(){setTimeout(()=>{this.stepper?this.stepper?.nativeElement?.scrollIntoView({behavior:"smooth",block:"start",inline:"center"}):console.warn("stepper is null")},100)}manageUnprocessableEntity(t){if(!(t instanceof P.gj))return void this.notifications.error(T.a);if(!(422==t.status&&"object"==typeof t.error&&null!==t.error&&"object"==typeof t.error&&Object.keys(t.error.details).length>0))return console.warn("expected response to have status 422 and error { details: { <field>: <error> } } but did not ",t),void this.notifications.error(T.a);const o=t.error.details;console.warn("manageUnprocessableEntity()",{error:o,response:t}),this.datePeopleInput&&(o.people&&(O.y.assignErrorsToFormFromArray(this.datePeopleInput.form,o.people),delete o.adults,delete o.children,delete o.people),o.datetime&&(O.y.assignErrorsToFormFromArray(this.datePeopleInput.form,o.datetime),delete o.datetime)),this.contactInput&&(o.first_name&&(O.y.assignErrorsToFormFromArray(this.contactInput.form,o.first_name),delete o.first_name),o.last_name&&(O.y.assignErrorsToFormFromArray(this.contactInput.form,o.last_name),delete o.last_name),o.phone&&(O.y.assignErrorsToFormFromArray(this.contactInput.form,o.phone),delete o.phone),o.email&&(O.y.assignErrorsToFormFromArray(this.contactInput.form,o.email),delete o.email),o.notes&&(O.y.assignErrorsToFormFromArray(this.contactInput.form,o.notes),delete o.notes)),Object.keys(o).length>0&&this.notifications.error((0,N.Yj)(Object.values(o).flat())??T.a)}listenQueryParamsAndUpdateForm(){this.route.queryParams.pipe((0,c.a)(this.destroy$)).subscribe(t=>{const o=t.people?Number(t.people):null,i=t.date?(0,A.yc)(t.date):null,a=t.time?(0,A.cr)(t.time):null;this.datePeopleControl.setValue({...this.datePeopleControl.value||{},date:i||void 0,time:a||void 0,people:o||void 0}),this.contactControl.setValue({...this.contactControl.value||{},firstName:t.firstName||void 0,lastName:t.lastName||void 0,email:t.email||void 0,phone:t.phone||void 0,notes:t.notes||void 0})})}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-public-reservation-formv2"]],viewQuery:function(o,i){if(1&o&&(e.CC$(ut,7),e.CC$(K,5),e.CC$(J,5)),2&o){let a;e.wto(a=e.Gqi())&&(i.stepper=a.first),e.wto(a=e.Gqi())&&(i.datePeopleInput=a.first),e.wto(a=e.Gqi())&&(i.contactInput=a.first)}},standalone:!0,features:[e.M5G([C.UF]),e.UHJ],decls:28,vars:16,consts:()=>{let t,o,i,a;return t="Find a table.",o="Your details",i="Backward",a="Backward",[[1,"border-b","flex","flex-wrap","border-slate-400","text-lg","uppercase","mb-3"],["stepperHeader",""],[1,"mb-[-1px]","flex","items-center","flex-nowrap","text-nowrap","pb-3","border-solid","me-4",3,"ngClass"],[1,"ms-1"],t,o,[3,"expanded"],[3,"formControl","showLoader","submitted"],[1,"cursor-pointer","inline-flex","items-center","mb-4","ms-2","text-lg","underline",3,"click"],[1,"me-1"],i,[3,"group","formControl","submitted"],a]},template:function(o,i){1&o&&(e.I0R(0,"div",0,1)(2,"div",2),e.yuY(3,ct,2,0,"mat-icon")(4,pt,2,0),e.I0R(5,"span",3),e.aS0(6,4),e.C$Y()(),e.I0R(7,"div",2)(8,"span"),e.OEk(9,"2."),e.C$Y(),e.I0R(10,"span",3),e.aS0(11,5),e.C$Y()()(),e.I0R(12,"tui-expand",6)(13,"app-public-reserve-preview",7),e.qCj("submitted",function(_){return i.previewSubmitted(_)}),e.C$Y()(),e.I0R(14,"tui-expand",6)(15,"span",8),e.qCj("click",function(){return i.backFromTableTypeSelect()}),e.I0R(16,"mat-icon",9),e.OEk(17,"arrow_back"),e.C$Y(),e.I0R(18,"span"),e.aS0(19,10),e.C$Y()(),e.I0R(20,"app-public-reserve-ask-table-type",11),e.qCj("submitted",function(_){return i.tableTypeSubmitted(_)}),e.C$Y()(),e.I0R(21,"tui-expand",6)(22,"span",8),e.qCj("click",function(){return i.backFromContacts()}),e.I0R(23,"mat-icon",9),e.OEk(24,"arrow_back"),e.C$Y(),e.I0R(25,"span"),e.aS0(26,12),e.C$Y()(),e.I0R(27,"app-contact-confirm",7),e.qCj("submitted",function(_){return i.contactSubmitted(_)}),e.C$Y()()),2&o&&(e.yG2(2),e.E7m("ngClass",e.S45(12,q,1==i.stepIndex()||2==i.stepIndex())),e.yG2(),e.C0Y(3,i.stepIndex()>2?3:4),e.yG2(4),e.E7m("ngClass",e.S45(14,q,3==i.stepIndex())),e.yG2(5),e.E7m("expanded",1==i.stepIndex()),e.yG2(),e.E7m("formControl",i.datePeopleControl)("showLoader",i.loadingTableTypes()),e.yG2(),e.E7m("expanded",2==i.stepIndex()),e.yG2(6),e.E7m("group",i.preorder())("formControl",i.tableTypeControl),e.yG2(),e.E7m("expanded",3==i.stepIndex()),e.yG2(6),e.E7m("formControl",i.contactControl)("showLoader",i.savingReservation()))},dependencies:[K,s.sl,s.ue,s.ug,Ze,J,h.QF,S.oB,S.qL,Z.kh,Z.st],encapsulation:2,changeDetection:0})}return n})();function mt(n,r){if(1&n&&e.wR5(0,"app-public-reservation-confirmation",0),2&n){const t=e.GaO();e.E7m("shareDetailsLinkShown",!0)("reservation",t.createdReservation())}}function dt(n,r){1&n&&(e.I0R(0,"div",1)(1,"h2",2),e.SAx(2),e.aS0(3,3),e.k70(),e.C$Y(),e.wR5(4,"hr",4),e.I0R(5,"p",5),e.SAx(6),e.aS0(7,6),e.k70(),e.C$Y(),e.wR5(8,"app-public-message",7)(9,"app-public-reservation-formv2"),e.C$Y()),2&n&&(e.yG2(8),e.E7m("location","new-reservation-form"))}let Et=(()=>{class n{constructor(){this.notifications=(0,e.uUt)(I.E),this.reservations=(0,e.uUt)(L.G),this.destroy$=(0,e.uUt)(C.UF),this.localStorage=(0,e.uUt)(ne.s),this.createdReservation=(0,e.OCB)(null),this.resendingConfirmation=(0,e.OCB)(!1)}ngOnInit(){this.reservations.created.pipe((0,c.a)(this.destroy$)).subscribe({next:t=>{this.createdReservation.set(t)}})}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-public-home-reservev2"]],standalone:!0,features:[e.M5G([C.UF]),e.UHJ],decls:2,vars:1,consts:()=>{let t,o;return t="Book now",o="Reserve your spot at one of our tables and secure our exclusive experience.",[[3,"shareDetailsLinkShown","reservation"],[1,"mx-4","md:mx-8","lg:mx-12","my-3"],[1,"text-5xl","text-center","text-primary","mb-2"],t,[1,"bg-primary","w-3/4","mx-auto","h-[1px]","mb-5"],[1,"text-xl","text-center","mb-3"],o,[1,"block","mb-3","text-center","text-xl",3,"location"]]},template:function(o,i){1&o&&e.yuY(0,mt,1,2,"app-public-reservation-confirmation",0)(1,dt,10,1),2&o&&e.C0Y(0,i.createdReservation()?0:1)},dependencies:[E.CI,ie.K,oe.w,se.I,Ct],styles:["[_nghost-%COMP%]{background-color:var(--sixth-color);min-height:100vh}"],changeDetection:0})}return n})(),Rt=(()=>{class n extends te.G{constructor(){super(...arguments),this._=(0,e.uUt)(ee.OY).setTitle("Book a table | La Porta D'Acqua")}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.otF(n)))(i||n)}})();static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-reserve"]],standalone:!0,features:[e.eg9,e.UHJ],decls:1,vars:0,consts:[[1,"section"]],template:function(o,i){1&o&&e.wR5(0,"app-public-home-reservev2",0)},dependencies:[Et],styles:["[_nghost-%COMP%]   .section[_ngcontent-%COMP%]{padding-top:5vh;padding-bottom:5vh;display:block;overflow:hidden;background-position:center center!important;background-repeat:no-repeat!important;background-size:cover!important;background-attachment:unset!important}"]})}return n})()}}]);