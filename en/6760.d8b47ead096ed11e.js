"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[6760],{7344:(Y,v,o)=>{o.r(v),o.d(v,{AdminReservationsHomeComponent:()=>gn});var t=o(4496),C=o(1368),c=o(6504),S=o(3797),R=o(3480),r=o(5e3),g=o(8212),_=o(1512),d=o(5656),I=o(1560),$=o(2992),P=o(5892),L=o(1128),A=o(3616),V=o(8824),z=o(8256),k=o(8304),H=o(6012),w=o(6360);let O=(()=>{class e extends H.s{constructor(){super(w.e,"admin/reservation_turns")}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275prov=t.wxM({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var G=o(580),l=o(6096),u=o(6052),p=o(9604),T=o(8048),b=o(7936),D=o(4336),j=o(7692),E=o(6732),N=o(1040);function f(e,s){1&e&&(t.SAx(0),t.aS0(1,10),t.k70())}function y(e,s){if(1&e&&(t.SAx(0),t.OEk(1),t.k70()),2&e){const n=s.polymorpheusOutlet;t.yG2(),t.oRS(" ",n," ")}}function M(e,s){if(1&e&&t.yuY(0,y,2,1,"ng-container",11),2&e){const n=t.GaO(2);t.E7m("polymorpheusOutlet",n.optionTemplate$())}}function U(e,s){1&e&&t.C_f(0)}const B=(e,s)=>({$implicit:e,injector:s});function rt(e,s){if(1&e&&t.yuY(0,U,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,i=t.GaO();t.E7m("polymorpheusOutlet",i.optionTemplate$())("polymorpheusOutletContext",t.IBC(2,B,n,i.injector))}}function lt(e,s){1&e&&t.C_f(0)}const nt=e=>({data:e});function ct(e,s){if(1&e&&t.yuY(0,lt,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,i=t.GaO();t.E7m("polymorpheusOutlet",i.optionTemplate$())("polymorpheusOutletContext",t.S45(2,nt,n))}}function ut(e,s){if(1&e&&t.wR5(0,"div",13),2&e){const n=t.GaO().$implicit,i=t.GaO();t.E7m("innerText",i.stringify(n))}}function mt(e,s){if(1&e&&t.yuY(0,M,1,1)(1,rt,1,5)(2,ct,1,4)(3,ut,1,1),2&e){const n=t.GaO();let i;t.C0Y(0,"text"===(i=n.optionTemplateType$())?0:"template"===i?1:"component"===i?2:3)}}function pt(e,s){if(1&e&&(t.SAx(0),t.OEk(1),t.k70()),2&e){const n=s.polymorpheusOutlet;t.yG2(),t.oRS(" ",n," ")}}function dt(e,s){if(1&e&&t.yuY(0,pt,2,1,"ng-container",11),2&e){const n=t.GaO(2);t.E7m("polymorpheusOutlet",n.nativeOptionTemplate$())}}function Et(e,s){1&e&&t.C_f(0)}function Ct(e,s){if(1&e&&t.yuY(0,Et,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,i=t.GaO();t.E7m("polymorpheusOutlet",i.nativeOptionTemplate$())("polymorpheusOutletContext",t.IBC(2,B,n,i.injector))}}function gt(e,s){1&e&&t.C_f(0)}function Tt(e,s){if(1&e&&t.yuY(0,gt,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,i=t.GaO();t.E7m("polymorpheusOutlet",i.nativeOptionTemplate$())("polymorpheusOutletContext",t.S45(2,nt,n))}}function ft(e,s){if(1&e&&t.wR5(0,"div",13),2&e){const n=t.GaO().$implicit,i=t.GaO();t.E7m("innerText",i.stringify(n))}}function St(e,s){if(1&e&&t.yuY(0,dt,1,1)(1,Ct,1,5)(2,Tt,1,4)(3,ft,1,1),2&e){const n=t.GaO();let i;t.C0Y(0,"text"===(i=n.nativeOptionTemplateType$())?0:"template"===i?1:"component"===i?2:3)}}function Rt(e,s){if(1&e&&(t.SAx(0),t.OEk(1),t.k70()),2&e){const n=t.GaO(2);t.yG2(),t.oRS(" ",n.placeholder," ")}}function Ot(e,s){if(1&e&&(t.I0R(0,"span",null,14),t._Xx(2),t.C$Y(),t.yuY(3,Rt,2,1,"ng-container",15)),2&e){const n=t.Gew(1);t.yG2(3),t.E7m("ngIf",!n.hasChildNodes())}}function ht(e,s){1&e&&(t.SAx(0),t.aS0(1,19),t.k70())}function vt(e,s){if(1&e&&(t.I0R(0,"span"),t.OEk(1),t.C$Y()),2&e){const n=t.GaO(2);t.yG2(),t.cNF(n.emptyContentString())}}function It(e,s){1&e&&t.C_f(0)}function Mt(e,s){if(1&e&&(t.SAx(0),t.yuY(1,It,1,0,"ng-container",8),t.k70()),2&e){const n=t.GaO(4);t.yG2(),t.E7m("ngTemplateOutlet",n.emptyContentTemplate())}}function yt(e,s){if(1&e&&(t.SAx(0),t.yuY(1,Mt,2,1,"ng-container",20),t.k70()),2&e){t.GaO(2);const n=t.Gew(6),i=t.GaO();t.yG2(),t.E7m("ngIf",i.emptyContentTemplate())("ngIfElse",n)}}function Nt(e,s){if(1&e&&(t.SAx(0),t.yuY(1,yt,2,2,"ng-container",20),t.k70()),2&e){t.GaO();const n=t.Gew(4),i=t.GaO();t.yG2(),t.E7m("ngIf",i.emptyContent$())("ngIfElse",n)}}function At(e,s){if(1&e&&(t.I0R(0,"span",null,16),t._Xx(2,1),t.C$Y(),t.yuY(3,ht,2,0,"ng-template",null,17,t.gJz)(5,vt,2,1,"ng-template",null,18,t.gJz)(7,Nt,2,2,"ng-container",15)),2&e){const n=t.Gew(1);t.yG2(7),t.E7m("ngIf",!n.hasChildNodes())}}function Pt(e,s){1&e&&t.wR5(0,"tui-loader")}function Gt(e,s){1&e&&t.C_f(0)}function $t(e,s){if(1&e&&t.yuY(0,Gt,1,0,"ng-container",8),2&e){t.GaO(2);const n=t.Gew(9);t.E7m("ngTemplateOutlet",n)}}function xt(e,s){1&e&&t.C_f(0)}function Dt(e,s){if(1&e&&(t.SAx(0),t.yuY(1,xt,1,0,"ng-container",8),t.k70()),2&e){t.GaO(2);const n=t.Gew(11);t.yG2(),t.E7m("ngTemplateOutlet",n)}}function Lt(e,s){if(1&e&&t.yuY(0,$t,1,1,"ng-template",null,21,t.gJz)(2,Dt,2,1,"ng-container",20),2&e){const n=t.Gew(1),i=t.GaO();t.yG2(2),t.E7m("ngIf",i.loading())("ngIfElse",n)}}function Yt(e,s){1&e&&t.C_f(0)}function Vt(e,s){1&e&&t.C_f(0)}function bt(e,s){1&e&&t.C_f(0)}function Ft(e,s){if(1&e&&(t.SAx(0),t.yuY(1,bt,1,0,"ng-container",8),t.k70()),2&e){t.GaO(4);const n=t.Gew(11);t.yG2(),t.E7m("ngTemplateOutlet",n)}}function zt(e,s){1&e&&t.C_f(0)}function kt(e,s){if(1&e){const n=t.KQA();t.I0R(0,"button",28)(1,"span",29),t.qCj("click",function(){t.usT(n);const a=t.GaO(4);return t.CGJ(a.loadMoreItems())}),t.yuY(2,zt,1,0,"ng-container",20),t.C$Y()()}if(2&e){const n=t.GaO(4),i=t.Gew(1);t.E7m("size",n.optionSize)("disabled",!0),t.yG2(2),t.E7m("ngIf",n.loadMore)("ngIfElse",i)}}function wt(e,s){if(1&e&&(t.SAx(0),t.yuY(1,Ft,2,1,"ng-container",15)(2,kt,3,4,"button",27),t.k70()),2&e){const n=t.GaO(3);t.yG2(),t.E7m("ngIf",n.loading),t.yG2(),t.E7m("ngIf",!n.loading)}}const Ut=e=>({$implicit:e});function Ht(e,s){if(1&e){const n=t.KQA();t.SAx(0),t.I0R(1,"button",25),t.qCj("mouseenter",function(){const a=t.usT(n),m=a.index,h=a.last,x=t.GaO(2);return t.CGJ(x.optionMouseEnter(m,h))})("focus",function(){const a=t.usT(n),m=a.index,h=a.last,x=t.GaO(2);return t.CGJ(x.optionFocus(m,h))}),t.yuY(2,Vt,1,0,"ng-container",26),t.C$Y(),t.yuY(3,wt,3,2,"ng-container",15),t.k70()}if(2&e){const n=s.$implicit,i=s.last,a=t.GaO(2),m=t.Gew(5);t.yG2(),t.E7m("size",a.optionSize)("value",n)("disabled",a.disabledItemHandler(n)),t.yG2(),t.E7m("ngTemplateOutlet",m)("ngTemplateOutletContext",t.S45(6,Ut,n)),t.yG2(),t.E7m("ngIf",i&&a.thereAreMoreItems)}}function Bt(e,s){if(1&e){const n=t.KQA();t.I0R(0,"span",33),t.qCj("click",function(){t.usT(n);const a=t.GaO(3);return t.CGJ(a.createNew.emit())}),t.I0R(1,"mat-icon"),t.OEk(2,"add"),t.C$Y(),t.I0R(3,"span"),t.aS0(4,34),t.C$Y()()}}function Xt(e,s){if(1&e&&(t.I0R(0,"button",30)(1,"span",null,31),t._Xx(3,2),t.C$Y(),t.yuY(4,Bt,5,0,"span",32),t.C$Y()),2&e){const n=t.Gew(2),i=t.GaO(2);t.E7m("size",i.optionSize)("value",null)("disabled",!0),t.yG2(4),t.E7m("ngIf",!n.hasChildNodes())}}function Kt(e,s){if(1&e&&(t.I0R(0,"tui-data-list",22),t.yuY(1,Ht,4,8,"ng-container",23)(2,Xt,5,4,"button",24),t.C$Y()),2&e){const n=t.GaO(),i=t.Gew(13);t.E7m("emptyContent",i),t.yG2(),t.E7m("ngForOf",n.items()),t.yG2(),t.E7m("ngIf",n.showCreateNew)}}const Wt=["*",[["","empty-content",""]],[["","create-new",""]]],Jt=["*","[empty-content]","[create-new]"];let it=(()=>{class e extends G.m{constructor(){super(),this.stringify=n=>`${n.name} (${n.starts_at} - ${n.ends_at})`??0,this.service=(0,t.uUt)(O)}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-reservation-turn-select"]],inputs:{outputType:"outputType",multiple:"multiple",service:"service",stringify:"stringify",query:"query",autofocus:"autofocus",placeholder:"placeholder",optionTemplate:"optionTemplate",stringifyOption:"stringifyOption",inputSize:"inputSize",page:"page",per_page:"per_page",optionSize:"optionSize",disabledItemHandler:"disabledItemHandler",loadMoreOnLastItem:"loadMoreOnLastItem",emptyContent:"emptyContent",showCreateNew:"showCreateNew",nativeOptionTemplate:"nativeOptionTemplate",filters:"filters"},outputs:{httpError:"httpError",pageChange:"pageChange",queryChange:"queryChange",per_pageChange:"per_pageChange",createNew:"createNew"},standalone:!0,features:[t.M5G([{provide:c.Y6,useExisting:(0,t.wd)(()=>e),multi:!0},R.UF]),t.eg9,t.UHJ],ngContentSelectors:Jt,decls:17,vars:5,consts:()=>{let n,i,a;return n="Load more",i="We found nothing.",a="Create new",[["loadMoreDefault",""],["valueContent",""],["nativeOptionTemplate",""],["placeholderTemplate",""],["nativeEmptyContentTemplate",""],["loadingTemplate",""],["loadingOrEmptyContent",""],[3,"stringify","tuiTextfieldSize","formControl","valueContent","searchChange"],[4,"ngTemplateOutlet"],[3,"emptyContent",4,"tuiDataList"],n,[4,"polymorpheusOutlet"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"innerText"],["customContent",""],[4,"ngIf"],["customEmptyContent",""],["defaultEmptyContent",""],["emptyContentCustomString",""],i,[4,"ngIf","ngIfElse"],["empty",""],[3,"emptyContent"],[4,"ngFor","ngForOf"],["tuiOption","",3,"size","value","disabled",4,"ngIf"],["tuiOption","",3,"size","value","disabled","mouseenter","focus"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tuiOption","",3,"size","disabled",4,"ngIf"],["tuiOption","",3,"size","disabled"],["role","button",3,"click"],["tuiOption","",3,"size","value","disabled"],["createNewCustomTemplate",""],["role","button","class","d-flex align-items-center",3,"click",4,"ngIf"],["role","button",1,"d-flex","align-items-center",3,"click"],a]},template:function(i,a){if(1&i&&(t.kPM(Wt),t.yuY(0,f,2,0,"ng-template",null,0,t.gJz)(2,mt,4,1,"ng-template",null,1,t.gJz)(4,St,4,1,"ng-template",null,2,t.gJz)(6,Ot,4,1,"ng-template",null,3,t.gJz)(8,At,8,1,"ng-template",null,4,t.gJz)(10,Pt,1,0,"ng-template",null,5,t.gJz)(12,Lt,3,2,"ng-template",null,6,t.gJz),t.I0R(14,"tui-combo-box",7),t.qCj("searchChange",function(h){return a.onSearchChange(h)}),t.yuY(15,Yt,1,0,"ng-container",8)(16,Kt,3,3,"tui-data-list",9),t.C$Y()),2&i){const m=t.Gew(3),h=t.Gew(7);t.yG2(14),t.E7m("stringify",a.stringify)("tuiTextfieldSize",a.inputSize)("formControl",a.control)("valueContent",m),t.yG2(),t.E7m("ngTemplateOutlet",h)}},dependencies:[C.MD,C.ay,C.u_,C.XV,l.uk,l.i_,l.qI,T.aS,T.rD,b.KA,S.CQ,D.A$,D.yi,D.sP,D.Ux,u.q8,c.sl,c.ue,c.ug,E.kR,p.CA,j.Sk,j.Cb,N.Ux,N.Af,I.oB,I.qL],changeDetection:0})}return e})();const jt=["active","arrived","deleted","noshow","cancelled"];var Q=o(4e3),Z=o(6684),q=o(5188);function Qt(e,s){if(1&e&&(t.SAx(0),t.I0R(1,"button",3),t.OEk(2),t.C$Y(),t.k70()),2&e){const n=s.$implicit;t.yG2(),t.E7m("value",n),t.yG2(),t.cNF(n)}}function Zt(e,s){if(1&e&&(t.I0R(0,"tui-data-list"),t.yuY(1,Qt,3,2,"ng-container",2),t.C$Y()),2&e){const n=t.GaO();t.yG2(),t.E7m("ngForOf",n.statuses)}}const qt=["*"];let te=(()=>{class e{constructor(){this.destroy$=(0,t.uUt)(R.UF),this.control=new c.Ku(null),this.statuses=[...jt],this.inputSize="m",this.valueChanges$=this.control.valueChanges.pipe((0,A.a)(this.destroy$),(0,Q.a)(),(0,Z.I)(()=>this.control.valid))}ngOnInit(){}registerOnChange(n){this.valueChanges$.subscribe(n)}registerOnTouched(n){this.valueChanges$.subscribe(n)}setDisabledState(n){n?this.control.disable():this.control.enable()}writeValue(n){if(null==n||"string"==typeof n)return this.control.setValue(n);console.warn("Invalid value for reservation status select:",n)}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-reservation-status-select"]],inputs:{inputSize:"inputSize"},standalone:!0,features:[t.M5G([{provide:c.Y6,useExisting:(0,t.wd)(()=>e),multi:!0},R.UF]),t.UHJ],ngContentSelectors:qt,decls:3,vars:2,consts:[[3,"tuiTextfieldSize","formControl"],[4,"tuiDataList"],[4,"ngFor","ngForOf"],["tuiOption","",3,"value"]],template:function(i,a){1&i&&(t.kPM(),t.I0R(0,"tui-select",0),t._Xx(1),t.yuY(2,Zt,2,1,"tui-data-list",1),t.C$Y()),2&i&&t.E7m("tuiTextfieldSize",a.inputSize)("formControl",a.control)},dependencies:[c.sl,c.ue,c.ug,q.my,q.cP,q.uO,D.A$,D.yi,D.sP,D.Ux,C.ay,T.aS,T.rD],styles:["[_nghost-%COMP%]{display:block;min-width:150px}"],changeDetection:0})}return e})();var X=o(400),ee=o(4704),tt=o(6380);const ne=["*"];let ie=(()=>{class e{constructor(){this.destroy$=(0,t.uUt)(R.UF),this.control=new c.Ku(null),this.inputSize="m",this.valueChanges$=this.control.valueChanges.pipe((0,A.a)(this.destroy$),(0,Q.a)(),(0,Z.I)(()=>this.control.valid),(0,ee.k)(n=>n?n.toLocalNativeDate():null)),this.today=X.EK.currentLocal()}ngOnInit(){}registerOnChange(n){this.valueChanges$.subscribe(n)}registerOnTouched(n){this.valueChanges$.subscribe(n)}setDisabledState(n){n?this.control.disable():this.control.enable()}writeValue(n){this.control.patchValue(this.formatToTuiDay(n))}prevDay(){this.control.value instanceof X.EK?this.control.setValue(this.control.value.append({day:-1})):console.warn("control value invalid",this.control.value)}nextDay(){this.control.value instanceof X.EK?this.control.setValue(this.control.value.append({day:1})):console.warn("control value invalid",this.control.value)}formatToTuiDay(n){return null===n||n instanceof X.EK?n:n instanceof Date?X.EK.fromLocalNativeDate(n):"string"==typeof n?X.EK.fromLocalNativeDate(new Date(n)):(console.warn("Invalid value for reservation date select:",n),null)}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-reservation-date-select"]],inputs:{inputSize:"inputSize"},standalone:!0,features:[t.M5G([{provide:c.Y6,useExisting:(0,t.wd)(()=>e),multi:!0},R.UF]),t.UHJ],ngContentSelectors:ne,decls:9,vars:4,consts:[[1,"flex","items-center"],["tuiIconButton","","type","button","size","m","appearance","icon",1,"!border","!border-solid","!rounded-full","!border-slate-400",3,"click"],[1,"mx-2","grow",3,"tuiAutoFocus","tuiTextfieldSize","min","formControl"]],template:function(i,a){1&i&&(t.kPM(),t.I0R(0,"div",0)(1,"button",1),t.qCj("click",function(){return a.prevDay()}),t.I0R(2,"mat-icon"),t.OEk(3,"arrow_back"),t.C$Y()(),t.I0R(4,"tui-input-date",2),t._Xx(5),t.C$Y(),t.I0R(6,"button",1),t.qCj("click",function(){return a.nextDay()}),t.I0R(7,"mat-icon"),t.OEk(8,"arrow_forward"),t.C$Y()()()),2&i&&(t.yG2(4),t.E7m("tuiAutoFocus",!0)("tuiTextfieldSize",a.inputSize)("min",a.today)("formControl",a.control))},dependencies:[g.CI,g.Kw,I.qL,tt.iO,tt.yc,tt.Ml,r.m6,r.gJ,T.aS,T.rD,c.sl,c.ue,c.ug],styles:["[_nghost-%COMP%]{display:block;min-width:250px}"],changeDetection:0})}return e})();var oe=o(2300),ot=o(9772),ae=o(4592);const at=e=>({date:e});function se(e,s){if(1&e&&t.wR5(0,"app-reservation-tables-summary",16),2&e){const n=t.GaO();let i;t.E7m("showLoader",!1)("filters",t.S45(2,at,null!==(i=n.dateStr())&&void 0!==i?i:""))}}const _e=()=>[10,20,50,100],re=["*"];let le=(()=>{class e{constructor(){this.loading=!1,this.data=null,this.inputSize="m",this.filtersChanged=new t._w7,this.destroy$=(0,t.uUt)(R.UF),this.datePipe=(0,t.uUt)(C.y),this.query=new c.Ku(null),this.turn=new c.Ku(null),this.date=new c.Ku(new Date),this.status=new c.Ku("active"),this.dateStr=(0,t.OCB)(this.formatDate(this.date.value)),this.offset=0,this.per_page=10,this.lastFilters={}}ngOnInit(){this.date.valueChanges.pipe((0,A.a)(this.destroy$)).subscribe({next:n=>{this.turn.setValue(null),n?this.turn.disabled&&this.turn.enable():this.turn.disable(),this.dateStr.set(this.formatDate(n))},error:n=>console.error(n)}),[this.date,this.turn,this.status].map(n=>{n.valueChanges.pipe((0,A.a)(this.destroy$),(0,Q.a)(),(0,Z.I)(()=>n.valid)).subscribe({next:()=>{this.offset=0,this.filtersMayHaveChanged()}})}),[this.query].map(n=>{n.valueChanges.pipe((0,A.a)(this.destroy$),(0,Q.a)(),(0,oe.o)(500),(0,Z.I)(()=>n.valid)).subscribe({next:()=>{this.offset=0,this.filtersMayHaveChanged()}})})}ngAfterViewInit(){this.emitCurrentFilters()}submit(){this.emitCurrentFilters()}mergeFilters(n){}setFilters(n){}currentFilters(){const n={};if("string"==typeof this.query.value&&this.query.valid&&this.query.value.length>0&&(n.query=this.query.value),this.date.value instanceof Date&&this.date.valid){const i=this.datePipe.transform(this.date.value,"YYYY-MM-dd"),a=this.turn.value;this.turn.valid&&a instanceof w.e&&a.starts_at&&a.ends_at?(n.datetime_from=`${i} ${(0,ot.ye)(a.starts_at)}`,n.datetime_to=`${i} ${(0,ot.ye)(a.ends_at)}`):i&&(n.date=i)}return"string"==typeof this.status.value&&this.status.valid&&(n.status=this.status.value),n}paginationChange(n){this.offset=n.page,this.per_page=n.size,this.filtersMayHaveChanged()}filtersMayHaveChanged(){const n=this.currentFilters(),i=JSON.stringify(n)!==JSON.stringify(this.lastFilters);return i&&(this.lastFilters=n,this.emitCurrentFilters()),i}formatDate(n){return n instanceof Date?this.datePipe.transform(n,"YYYY-MM-dd"):null}emitCurrentFilters(){this.filtersChanged.emit(this.currentFilters())}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-list-reservations-filters"]],inputs:{loading:"loading",data:"data",inputSize:"inputSize"},outputs:{filtersChanged:"filtersChanged"},standalone:!0,features:[t.M5G([R.UF]),t.UHJ],ngContentSelectors:re,decls:28,vars:16,consts:()=>{let n,i,a,m,h;return n="Filter bookings",i="Create reservation",a="State",m="Shift",h="Data",[[1,"flex","sm:flex-col"],[1,"flex","items-center","mb-2"],["type","button","tuiIconButton","","appearance","flat",1,"me-2",3,"showLoader","click"],[1,"!inline-block","min-w-[250px]","me-2",3,"tuiAutoFocus","formControl"],n,["tuiTextfield",""],["routerLink","new","tuiLink",""],[1,"flex","items-center"],i,[1,"flex","items-center","justify-between"],[3,"inputSize","formControl"],a,[1,"mx-2",2,"min-width","150px",3,"filters","inputSize","formControl"],m,h,[1,"my-2",3,"items","total","paginationChange"],[3,"showLoader","filters"]]},template:function(i,a){if(1&i&&(t.kPM(),t.I0R(0,"div",0)(1,"div",1)(2,"button",2),t.qCj("click",function(){return a.submit()}),t.I0R(3,"mat-icon"),t.OEk(4,"search"),t.C$Y()(),t.I0R(5,"tui-input",3),t.SAx(6),t.aS0(7,4),t.k70(),t.wR5(8,"input",5),t.C$Y(),t.I0R(9,"a",6)(10,"span",7)(11,"mat-icon"),t.OEk(12,"add"),t.C$Y(),t.SAx(13),t.aS0(14,8),t.k70(),t.C$Y()()(),t.I0R(15,"div",9)(16,"app-reservation-status-select",10),t.SAx(17),t.aS0(18,11),t.k70(),t.C$Y(),t.I0R(19,"app-reservation-turn-select",12),t.SAx(20),t.aS0(21,13),t.k70(),t.C$Y(),t.I0R(22,"app-reservation-date-select",10),t.SAx(23),t.aS0(24,14),t.k70(),t.C$Y()()(),t._Xx(25),t.I0R(26,"tui-table-pagination",15),t.qCj("paginationChange",function(h){return a.paginationChange(h)}),t.C$Y(),t.yuY(27,se,1,4,"app-reservation-tables-summary",16)),2&i){let m;t.yG2(2),t.E7m("showLoader",a.loading),t.yG2(3),t.E7m("tuiAutoFocus",!0)("formControl",a.query),t.yG2(11),t.E7m("inputSize",a.inputSize)("formControl",a.status),t.yG2(3),t.E7m("filters",t.S45(13,at,a.dateStr()))("inputSize",a.inputSize)("formControl",a.turn),t.yG2(3),t.E7m("inputSize",a.inputSize)("formControl",a.date),t.yG2(4),t.E7m("items",t.q4q(15,_e))("total",null!==(m=null==a.data||null==a.data.metadata?null:a.data.metadata.total_count)&&void 0!==m?m:0),t.yG2(),t.C0Y(27,a.dateStr()?27:-1)}},dependencies:[g.CI,g.Kw,I.qL,S.CQ,S.Oo,S.cP,b.b,r.m6,r.gJ,_.w,_.C,$.ER,te,it,ie,P.yy,P.Ws,c.sl,c.ue,c.ug,ae.u],encapsulation:2,changeDetection:0})}return e})();var ce=o(1220),st=o(1800),ue=o(4680);const me=(e,s)=>({rotate180:e,"text-slate-200 hover:text-slate-400":s}),pe=["*"];let de=(()=>{class e extends st.GG{constructor(n,i,a){super(n,i),this.modeDirective=a,this.hint="Click to order the items.",this.focused=!1,this.nativeFocusableElement=null}trigger(){if(this.item){if(!this.value||this.value?.field!==this.item)return void(this.value={field:this.item,asc:!0});if(this.isCurrent&&!this.isAsc)return void(this.value=null);this.value={field:this.item,asc:!this.value?.asc}}}get isAsc(){return this.value?.asc??!1}get isCurrent(){return this.value?.field===this.item}static#t=this.\u0275fac=function(i){return new(i||e)(t.GI1(c.eq,10),t.GI1(t.kD9),t.GI1(ce.Y,8))};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-order-by"]],inputs:{item:"item",hint:"hint"},standalone:!0,features:[t.M5G([(0,ue.NK)(e),(0,st.q4)(e)]),t.eg9,t.UHJ],ngContentSelectors:pe,decls:6,vars:5,consts:[["role","button",1,"inline-block",3,"click"],[1,"flex","items-center",3,"tuiHint"],["tuiIconButton","","type","button","role","button","size","s","appearance","custom"],[1,"animation-speed-2",3,"ngClass"]],template:function(i,a){1&i&&(t.kPM(),t.I0R(0,"div",0),t.qCj("click",function(){return a.trigger()}),t.I0R(1,"div",1),t._Xx(2),t.I0R(3,"button",2)(4,"mat-icon",3),t.OEk(5,"expand_more "),t.C$Y()()()()),2&i&&(t.yG2(),t.E7m("tuiHint",a.hint),t.yG2(3),t.E7m("ngClass",t.IBC(2,me,a.isCurrent&&!a.isAsc,!a.isCurrent)))},dependencies:[I.qL,C.QF,g.CI,g.Kw,d.WY,d.lh,d.SL,d.i6,d.IT],encapsulation:2,changeDetection:0})}return e})();var _t=o(466);let Ee=(()=>{class e{constructor(){this.human={email_open:"Open email"}}transform(n){return null==n?null:this.human[n]??null}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275pipe=t.UTH({name:"humanizeEventType",type:e,pure:!0,standalone:!0})}return e})();function Ce(e,s){1&e&&(t.SAx(0),t.aS0(1,3),t.k70())}const ge=(e,s)=>({"text-blue-500":e,"text-slate-500":s}),Te=e=>({rotate180:e});function fe(e,s){if(1&e&&(t.I0R(0,"tui-hosted-dropdown",1,4)(2,"button",5)(3,"span",6)(4,"span",7),t.OEk(5),t.C$Y(),t.I0R(6,"mat-icon",8),t.OEk(7,"mail"),t.C$Y(),t.I0R(8,"mat-icon",9),t.OEk(9,"expand_more"),t.C$Y()()()()),2&e){const n=t.Gew(1),i=t.GaO(),a=t.Gew(4);t.E7m("content",a),t.yG2(5),t.cNF(i.emails().length),t.yG2(),t.E7m("ngClass",t.IBC(4,ge,i.emailOpenAtLeastOnce(),!i.emailOpenAtLeastOnce())),t.yG2(2),t.E7m("ngClass",t.S45(7,Te,n.open))}}const et=(e,s)=>s.id;function Se(e,s){if(1&e&&(t.I0R(0,"span",19),t.OEk(1),t.wVc(2,"json"),t.C$Y()),2&e){const n=t.GaO().$implicit;t.yG2(),t.cNF(t.kDX(2,1,n.event_data))}}function Re(e,s){if(1&e&&(t.I0R(0,"li")(1,"span",6)(2,"span",7),t.OEk(3),t.wVc(4,"humanizeEventType"),t.C$Y(),t.I0R(5,"span",7),t.OEk(6),t.wVc(7,"date"),t.C$Y(),t.yuY(8,Se,3,3,"span",18),t.C$Y()()),2&e){const n=s.$implicit,i=t.GaO().$implicit;t.yG2(3),t.cNF(t.kDX(4,3,i.event_type)),t.yG2(3),t.cNF(t.g7$(7,5,n.event_time,"EEEE d MMMM y, H:m")),t.yG2(2),t.C0Y(8,n.event_data?8:-1)}}function Oe(e,s){1&e&&t.c53(0,Re,9,8,"li",null,et),2&e&&t.oho(s.$implicit.events)}function he(e,s){if(1&e&&(t.I0R(0,"div",14)(1,"div",15)(2,"span",16),t.OEk(3),t.C$Y(),t.I0R(4,"b",7),t.aS0(5,17),t.C$Y(),t.I0R(6,"span"),t.OEk(7),t.wVc(8,"date"),t.C$Y()()(),t.I0R(9,"ul"),t.c53(10,Oe,2,0,null,null,et),t.C$Y()),2&e){const n=s.$implicit;t.yG2(3),t.oRS("#",n.id,""),t.yG2(4),t.cNF(t.g7$(8,2,n.created_at,"EEEE d MMMM y, H:m")),t.yG2(3),t.oho(n.image_pixels)}}function ve(e,s){1&e&&(t.SAx(0),t.aS0(1,20),t.k70())}function Ie(e,s){1&e&&(t.SAx(0),t.aS0(1,21),t.k70())}function Me(e,s){if(1&e){const n=t.KQA();t.I0R(0,"div",11),t.c53(1,he,12,5,null,null,et),t.I0R(3,"button",12),t.qCj("click",function(){t.usT(n);const a=t.GaO(2);return t.CGJ(a.resendEmail())}),t.I0R(4,"span",6)(5,"span",13),t.yuY(6,ve,2,0,"ng-container")(7,Ie,2,0),t.C$Y(),t.I0R(8,"mat-icon"),t.OEk(9,"send"),t.C$Y()()()()}if(2&e){const n=t.GaO(2);t.yG2(),t.oho(n.emails()),t.yG2(2),t.E7m("showLoader",n.loading())("appearance","outline")("disabled",!(n.reservation.email&&n.reservation.email.length>0)),t.yG2(3),t.C0Y(6,n.emails().length>0?6:7)}}function ye(e,s){if(1&e&&t.yuY(0,Me,10,4,"div",10),2&e){const n=t.GaO();t.C0Y(0,n.reservation?0:-1)}}let Ne=(()=>{class e{constructor(){this.service=(0,t.uUt)(k.S),this.notifications=(0,t.uUt)(L.E),this.destroy$=(0,t.uUt)(R.UF),this.emails=(0,t.OCB)([]),this.loading=(0,t.OCB)(!1),this.emailOpenAtLeastOnce=(0,t.S6b)(()=>{const n=this.emails();let i=!1;return n.forEach(a=>{a.image_pixels?.forEach(m=>{"email_open"===m.event_type&&m.events&&m.events.length>0&&(i=!0)})}),i})}resendEmail(){const n=this.reservation?.id;n&&(this.loading.set(!0),this.service.deliverConfirmationEmail(n).pipe((0,A.a)(this.destroy$),(0,V.U)(()=>this.loading.set(!1))).subscribe({next:i=>{this.notifications.fireSnackBar("Email sent"),this.setEmailsByReservation(i)},error:i=>{this.notifications.error((0,z.mk)(i)??"Something went wrong. Please try again later.")}}))}ngOnChanges(n){n.reservation&&this.setEmailsByReservation(n.reservation.currentValue)}setEmailsByReservation(n){this.emails.set(n?.delivered_emails??[])}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-reservation-events"]],inputs:{reservation:"reservation"},standalone:!0,features:[t.SYr,t.UHJ],decls:5,vars:1,consts:()=>{let n,i,a,m;return n="Send booking confirmation.",i="Email sent",a="Resend confirmation email.",m="Send confirmation email.",[["resendHint",""],[3,"content"],["allEvents",""],n,["dropdown",""],["tuiButton","","appearance","custom","size","s","type","button"],[1,"flex","items-center"],[1,"me-1"],[1,"text-slate-500",3,"ngClass"],[1,"text-slate-500","animation-speed-2",3,"ngClass"],["class","p-3"],[1,"p-3"],["type","button","tuiButton","","size","s",3,"showLoader","appearance","disabled","click"],[1,"me-2"],[1,"flex","flex-col"],[1,"flex"],[1,"text-slate-400","me-1"],i,["class","text-slate-400"],[1,"text-slate-400"],a,m]},template:function(i,a){1&i&&t.yuY(0,Ce,2,0,"ng-template",null,0,t.gJz)(2,fe,10,9,"tui-hosted-dropdown",1)(3,ye,1,1,"ng-template",null,2,t.gJz),2&i&&(t.yG2(2),t.C0Y(2,a.reservation?2:-1))},dependencies:[g.CI,g.Kw,I.qL,d.WY,_t.GE,_t.Qw,C.y,C.ED,Ee,C.QF],encapsulation:2})}return e})();const Ae=["phoneTo",""];function Pe(e,s){1&e&&(t.I0R(0,"mat-icon",3),t.OEk(1,"chat"),t.C$Y())}function Ge(e,s){1&e&&(t.I0R(0,"mat-icon",3),t.OEk(1,"call"),t.C$Y())}const $e=["*"];let xe=(()=>{class e{constructor(){this.whatsapp=!1}ngOnChanges(){this.href=this.whatsapp?`https://wa.me/${this.phoneTo}`:`tel:${this.phoneTo}`}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["","phoneTo",""]],inputs:{phoneTo:"phoneTo",whatsapp:"whatsapp"},standalone:!0,features:[t.SYr,t.UHJ],attrs:Ae,ngContentSelectors:$e,decls:5,vars:2,consts:[["target","_blank","tuiLink","",3,"href"],[1,"flex","items-center"],["class","ms-1"],[1,"ms-1"]],template:function(i,a){1&i&&(t.kPM(),t.I0R(0,"a",0)(1,"span",1),t._Xx(2),t.yuY(3,Pe,2,0,"mat-icon",2)(4,Ge,2,0),t.C$Y()()),2&i&&(t._6D("href",a.href,t.K6U),t.yG2(3),t.C0Y(3,a.whatsapp?3:4))},dependencies:[_.w,_.C,I.qL],changeDetection:0})}return e})();const De=["mailTo",""],Le=["*"];let Ye=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["","mailTo",""]],inputs:{mailTo:"mailTo"},standalone:!0,features:[t.UHJ],attrs:De,ngContentSelectors:Le,decls:3,vars:1,consts:[["target","_blank","tuiLink","",3,"href"],[1,"flex","items-center"]],template:function(i,a){1&i&&(t.kPM(),t.I0R(0,"a",0)(1,"span",1),t._Xx(2),t.C$Y()()),2&i&&t.CI5("href","mailto:",a.mailTo,"",t.K6U)},dependencies:[_.w,_.C],changeDetection:0})}return e})();function Ve(e,s){if(1&e&&(t.I0R(0,"p"),t.OEk(1),t.SAx(2),t.aS0(3,2),t.k70(),t.C$Y(),t.I0R(4,"p"),t.OEk(5),t.SAx(6),t.aS0(7,3),t.k70(),t.C$Y()),2&e){const n=t.GaO();let i,a;t.yG2(),t.oRS(" ",null!==(i=n.adults)&&void 0!==i?i:0," "),t.yG2(4),t.oRS(" ",null!==(a=n.children)&&void 0!==a?a:0," ")}}function be(e,s){if(1&e&&(t.I0R(0,"span"),t.OEk(1),t.C$Y(),t.I0R(2,"mat-icon"),t.OEk(3,"person2"),t.C$Y()),2&e){const n=t.GaO();t.yG2(),t.cNF(n.adults)}}function Fe(e,s){if(1&e&&(t.I0R(0,"span"),t.OEk(1),t.C$Y(),t.I0R(2,"mat-icon"),t.OEk(3,"child_care"),t.C$Y()),2&e){const n=t.GaO();t.yG2(),t.cNF(n.children)}}function ze(e,s){1&e&&t.OEk(0," ??? ")}let ke=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-reservation-people"]],inputs:{adults:"adults",children:"children"},standalone:!0,features:[t.UHJ],decls:6,vars:4,consts:()=>{let n,i;return n="Adults",i="Children",[["hint",""],[1,"flex","items-center",3,"tuiHint"],n,i]},template:function(i,a){if(1&i&&(t.yuY(0,Ve,8,2,"ng-template",null,0,t.gJz),t.I0R(2,"div",1),t.yuY(3,be,4,1)(4,Fe,4,1)(5,ze,1,0),t.C$Y()),2&i){const m=t.Gew(1);t.yG2(2),t.E7m("tuiHint",m),t.yG2(),t.C0Y(3,a.adults&&a.adults>0?3:-1),t.yG2(),t.C0Y(4,a.children&&a.children>0?4:-1),t.yG2(),t.C0Y(5,a.adults&&a.adults>0||a.children&&a.children>0?-1:5)}},dependencies:[I.qL,d.WY,d.lh,d.SL,d.i6,d.IT],encapsulation:2})}return e})();var we=o(4476);const Ue=(e,s)=>s.id;function He(e,s){1&e&&(t.SAx(0),t.aS0(1,14),t.k70())}function Be(e,s){1&e&&(t.SAx(0),t.aS0(1,15),t.k70())}function Xe(e,s){1&e&&(t.SAx(0),t.aS0(1,16),t.k70())}function Ke(e,s){1&e&&(t.SAx(0),t.aS0(1,17),t.k70())}function We(e,s){1&e&&(t.SAx(0),t.aS0(1,18),t.k70())}function Je(e,s){1&e&&(t.SAx(0),t.aS0(1,19),t.k70())}function je(e,s){1&e&&(t.SAx(0),t.aS0(1,20),t.k70())}function Qe(e,s){1&e&&(t.SAx(0),t.aS0(1,21),t.k70())}function Ze(e,s){1&e&&t.C_f(0)}function qe(e,s){1&e&&t.C_f(0)}function tn(e,s){1&e&&t.C_f(0)}function en(e,s){1&e&&t.C_f(0)}function nn(e,s){1&e&&t.C_f(0)}function on(e,s){1&e&&t.C_f(0)}function an(e,s){1&e&&t.C_f(0)}function sn(e,s){1&e&&t.C_f(0)}function _n(e,s){if(1&e&&(t.OEk(0),t.wVc(1,"date")),2&e){const n=t.GaO().$implicit;t.oRS(" ",t.g7$(1,1,n.datetime,"full")," ")}}function rn(e,s){1&e&&t.C_f(0)}function ln(e,s){1&e&&t.C_f(0)}function cn(e,s){1&e&&t.C_f(0)}function un(e,s){1&e&&t.C_f(0)}function mn(e,s){1&e&&t.C_f(0)}function pn(e,s){1&e&&t.C_f(0)}function dn(e,s){if(1&e&&(t.I0R(0,"p",26),t.OEk(1),t.C$Y()),2&e){const n=t.GaO().$implicit;t.E7m("phoneTo",n.phone)("whatsapp",!0),t.yG2(),t.cNF(n.phone)}}function En(e,s){if(1&e&&(t.I0R(0,"p",27),t.OEk(1),t.C$Y()),2&e){const n=t.GaO().$implicit;t.E7m("mailTo",n.email),t.yG2(),t.cNF(n.email)}}function Cn(e,s){if(1&e){const n=t.KQA();t.I0R(0,"tr")(1,"td")(2,"span",22),t.yuY(3,sn,1,0,"ng-container",13),t.C$Y(),t.yuY(4,_n,2,4,"ng-template",null,23,t.gJz),t.I0R(6,"span",24),t.OEk(7),t.wVc(8,"date"),t.C$Y()(),t.I0R(9,"td")(10,"span",22),t.yuY(11,rn,1,0,"ng-container",13),t.C$Y(),t.I0R(12,"span"),t.OEk(13),t.C$Y()(),t.I0R(14,"td")(15,"span",22),t.yuY(16,ln,1,0,"ng-container",13),t.C$Y(),t.wR5(17,"app-reservation-people",25),t.C$Y(),t.I0R(18,"td")(19,"span",22),t.yuY(20,cn,1,0,"ng-container",13),t.C$Y(),t.I0R(21,"span"),t.OEk(22),t.C$Y()(),t.I0R(23,"td")(24,"span",22),t.yuY(25,un,1,0,"ng-container",13),t.C$Y(),t.I0R(26,"span"),t.OEk(27),t.C$Y()(),t.I0R(28,"td")(29,"span",22),t.yuY(30,mn,1,0,"ng-container",13),t.C$Y(),t.I0R(31,"span"),t.OEk(32),t.C$Y()(),t.I0R(33,"td")(34,"span",22),t.yuY(35,pn,1,0,"ng-container",13),t.C$Y(),t.yuY(36,dn,2,3,"p",26)(37,En,2,2,"p",27),t.C$Y(),t.I0R(38,"td")(39,"div",28),t.wR5(40,"app-reservation-events",29),t.I0R(41,"a",30)(42,"mat-icon"),t.OEk(43,"edit"),t.C$Y()(),t.I0R(44,"button",31),t.qCj("click",function(){const m=t.usT(n).$implicit,h=t.GaO();return t.CGJ(h.delete(m.id))}),t.I0R(45,"mat-icon"),t.OEk(46,"delete"),t.C$Y()()()()()}if(2&e){const n=s.$implicit,i=t.Gew(5);t.GaO();const a=t.Gew(4),m=t.Gew(6),h=t.Gew(10),x=t.Gew(12),K=t.Gew(14),W=t.Gew(16),J=t.Gew(18);t.yG2(3),t.E7m("ngTemplateOutlet",a),t.yG2(3),t.E7m("tuiHint",i),t.yG2(),t.oRS(" ",t.g7$(8,19,n.datetime,"HH:mm")," "),t.yG2(4),t.E7m("ngTemplateOutlet",m),t.yG2(2),t.cNF(n.fullname),t.yG2(3),t.E7m("ngTemplateOutlet",h),t.yG2(),t.E7m("adults",n.adults)("children",n.children),t.yG2(3),t.E7m("ngTemplateOutlet",x),t.yG2(2),t.cNF(n.status),t.yG2(3),t.E7m("ngTemplateOutlet",K),t.yG2(2),t.cNF(n.table),t.yG2(3),t.E7m("ngTemplateOutlet",W),t.yG2(2),t.cNF(n.notes),t.yG2(3),t.E7m("ngTemplateOutlet",J),t.yG2(),t.C0Y(36,n.phone&&n.phone.length>0?36:-1),t.yG2(),t.C0Y(37,n.email&&n.email.length>0?37:-1),t.yG2(3),t.E7m("reservation",n),t.yG2(),t._6D("routerLink",n.id)}}let gn=(()=>{class e{constructor(){this.loading=(0,t.OCB)(!1),this.data=(0,t.OCB)(null),this.items=(0,t.S6b)(()=>this.data()?.items||[]),this.service=(0,t.uUt)(k.S),this.notifications=(0,t.uUt)(L.E),this.date=(0,t.uUt)(C.y),this.destroy$=(0,t.uUt)(R.UF),this._=(0,t.uUt)(we.OY).setTitle("Reservations | La Porta D'Acqua"),this.inputSize="m",this.defaultOrder={field:"datetime",asc:!0},this.filters={},this.order=new c.Ku(null)}ngOnInit(){this.order.valueChanges.subscribe({next:n=>{this.search()}})}delete(n){n&&this.notifications.confirm("Are you sure you want to cancel this reservation?").subscribe({next:i=>{i&&this.confirmedDelete(n)}})}filtersChanged(n){this.filters=n,this.search(n)}confirmedDelete(n){this.loading.set(!0),this.service.destroy(n).pipe((0,A.a)(this.destroy$),(0,V.U)(()=>{this.loading.set(!1),this.search()})).subscribe({error:i=>{this.notifications.error((0,z.mk)(i)||"Something went wrong with the cancellation.")}})}search(n=this.filters){n||={},n={...n};const i=this.order.value;this.order.valid&&i&&(n.order_by_field=i.field,n.order_by_direction=i.asc?"ASC":"DESC"),this.loading.set(!0),this.service.search(n).pipe((0,A.a)(this.destroy$),(0,V.U)(()=>this.loading.set(!1))).subscribe({next:a=>{this.data.set(a)},error:a=>{this.notifications.error((0,z.mk)(a)||"Something went wrong in the research."),console.error(a)}})}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-admin-reservations-home"]],viewQuery:function(i,a){if(1&i&&t.CC$(it,7),2&i){let m;t.wto(m=t.Gqi())&&(a.turnSelect=m.first)}},standalone:!0,features:[t.M5G([R.UF]),t.UHJ],decls:48,vars:20,consts:()=>{let n,i,a,m,h,x,K,W,J;return n="Reservations",i="Schedule",a="Name",m="Email",h="No.",x="State",K="Table",W="Note",J="Contacts",[n,["datetimeCol",""],["nameCol",""],["emailCol",""],["peopleCol",""],["statusCol",""],["tableCol",""],["notesCol",""],["contactsCol",""],[3,"data","filtersChanged"],[1,"responsive-table","collapse-md"],[1,"text-start"],[3,"item","formControl"],[4,"ngTemplateOutlet"],i,a,m,h,x,K,W,J,[1,"collapse-header"],["detailDatetime",""],[3,"tuiHint"],[3,"adults","children"],[3,"phoneTo","whatsapp"],[3,"mailTo"],[1,"flex","items-baseline"],[1,"my-auto",3,"reservation"],["size","m","tuiIconButton","","appearance","flat",1,"me-1",3,"routerLink"],["size","m","type","button","tuiIconButton","","appearance","secondary-destructive",3,"click"]]},template:function(i,a){if(1&i&&(t.I0R(0,"h1"),t.SAx(1),t.aS0(2,0),t.k70(),t.C$Y(),t.yuY(3,He,2,0,"ng-template",null,1,t.gJz)(5,Be,2,0,"ng-template",null,2,t.gJz)(7,Xe,2,0,"ng-template",null,3,t.gJz)(9,Ke,2,0,"ng-template",null,4,t.gJz)(11,We,2,0,"ng-template",null,5,t.gJz)(13,Je,2,0,"ng-template",null,6,t.gJz)(15,je,2,0,"ng-template",null,7,t.gJz)(17,Qe,2,0,"ng-template",null,8,t.gJz),t.I0R(19,"app-list-reservations-filters",9),t.qCj("filtersChanged",function(h){return a.filtersChanged(h)}),t.I0R(20,"table",10)(21,"thead")(22,"tr")(23,"th",11)(24,"app-order-by",12),t.yuY(25,Ze,1,0,"ng-container",13),t.C$Y()(),t.I0R(26,"th",11)(27,"app-order-by",12),t.yuY(28,qe,1,0,"ng-container",13),t.C$Y()(),t.I0R(29,"th",11)(30,"app-order-by",12),t.yuY(31,tn,1,0,"ng-container",13),t.C$Y()(),t.I0R(32,"th",11)(33,"app-order-by",12),t.yuY(34,en,1,0,"ng-container",13),t.C$Y()(),t.I0R(35,"th",11)(36,"app-order-by",12),t.yuY(37,nn,1,0,"ng-container",13),t.C$Y()(),t.I0R(38,"th",11)(39,"app-order-by",12),t.yuY(40,on,1,0,"ng-container",13),t.C$Y()(),t.I0R(41,"th",11),t.yuY(42,an,1,0,"ng-container",13),t.C$Y(),t.wR5(43,"th"),t.C$Y()(),t.I0R(44,"tbody"),t.c53(45,Cn,47,22,"tr",null,Ue),t.C$Y()()(),t.wR5(47,"router-outlet")),2&i){const m=t.Gew(4),h=t.Gew(6),x=t.Gew(10),K=t.Gew(12),W=t.Gew(14),J=t.Gew(16),F=t.Gew(18);t.yG2(19),t.E7m("data",a.data()),t.yG2(5),t.E7m("item","datetime")("formControl",a.order),t.yG2(),t.E7m("ngTemplateOutlet",m),t.yG2(2),t.E7m("item","fullname")("formControl",a.order),t.yG2(),t.E7m("ngTemplateOutlet",h),t.yG2(2),t.E7m("item","people")("formControl",a.order),t.yG2(),t.E7m("ngTemplateOutlet",x),t.yG2(2),t.E7m("item","status")("formControl",a.order),t.yG2(),t.E7m("ngTemplateOutlet",K),t.yG2(2),t.E7m("item","table")("formControl",a.order),t.yG2(),t.E7m("ngTemplateOutlet",W),t.yG2(2),t.E7m("item","notes")("formControl",a.order),t.yG2(),t.E7m("ngTemplateOutlet",J),t.yG2(2),t.E7m("ngTemplateOutlet",F),t.yG2(3),t.oho(a.items())}},dependencies:[C.MD,C.XV,C.y,c.sl,c.ue,c.ug,S.CQ,r.m6,g.CI,g.Kw,I.qL,$.ER,_.w,$.cP,P.yy,d.WY,d.lh,d.SL,d.i6,d.IT,le,de,Ne,xe,Ye,ke],encapsulation:2,changeDetection:0})}return e})()},4592:(Y,v,o)=>{o.d(v,{u:()=>G});var t=o(4496),C=o(3480),c=o(8304),S=o(3616),R=o(8824),r=o(7692),g=o(5656);let _=(()=>{class l{transform(p){return null==p||"object"!=typeof p||Array.isArray(p)?[]:Object.keys(p).map(T=>[T,p[T]])}static#t=this.\u0275fac=function(T){return new(T||l)};static#e=this.\u0275pipe=t.UTH({name:"objectToArray",type:l,pure:!0,standalone:!0})}return l})();function d(l,u){if(1&l&&t.wR5(0,"tui-loader",0),2&l){const p=t.GaO();t.E7m("showLoader",p.showLoader)("size","s")}}const I=(l,u)=>u.turn.id;function $(l,u){1&l&&t._Xx(0)}const P=(l,u)=>u[0];function L(l,u){1&l&&t.OEk(0,"Quante persone ci sono al tavolo in questione")}function A(l,u){if(1&l&&(t.I0R(0,"th",4),t.OEk(1),t.I0R(2,"span"),t.aS0(3,11),t.C$Y()()),2&l){const p=u.$implicit;t.yG2(),t.oRS(" ",p[0]," ")}}function V(l,u){1&l&&t.OEk(0,"Quanti tavoli con lo stesso numero di persone")}function z(l,u){if(1&l&&(t.I0R(0,"td",8)(1,"span"),t.OEk(2),t.C$Y()()),2&l){const p=u.$implicit;t.yG2(2),t.cNF(p[1])}}function k(l,u){if(1&l&&(t.I0R(0,"p",1)(1,"b"),t.OEk(2),t.C$Y()(),t.I0R(3,"table",2)(4,"thead")(5,"tr",3)(6,"th",4),t.yuY(7,L,1,0,"ng-template",null,5,t.gJz),t.I0R(9,"span",6),t.aS0(10,7),t.C$Y()(),t.c53(11,A,4,1,"th",12,P),t.wVc(13,"objectToArray"),t.C$Y()(),t.I0R(14,"tbody")(15,"tr",3)(16,"td",8),t.yuY(17,V,1,0,"ng-template",null,9,t.gJz),t.I0R(19,"span",6),t.aS0(20,10),t.C$Y()(),t.c53(21,z,3,1,"td",13,P),t.wVc(23,"objectToArray"),t.C$Y()()()),2&l){const p=u.$implicit,T=t.Gew(8),b=t.Gew(18);t.yG2(2),t.cNF(p.turn.name),t.yG2(7),t.E7m("tuiHint",T),t.yG2(2),t.oho(t.kDX(13,3,p.summary)),t.yG2(8),t.E7m("tuiHint",b),t.yG2(2),t.oho(t.kDX(23,5,p.summary))}}const H=()=>[];function w(l,u){if(1&l&&(t.yuY(0,$,1,0),t.c53(1,k,24,7,null,null,I)),2&l){const p=t.GaO();t.C0Y(0,(p.data()||t.q4q(1,H)).length>0?0:-1),t.yG2(),t.oho(p.data())}}const O=["*"];let G=(()=>{class l{constructor(){this.destroy$=(0,t.uUt)(C.UF),this.service=(0,t.uUt)(c.S),this.data=(0,t.OCB)(null),this.loading=(0,t.OCB)(!1),this.showLoader=!0,this.filters=null}ngOnChanges(){this.query()}query(){this.loading.set(!0),this.service.tablesSummary(this.filters??{}).pipe((0,S.a)(this.destroy$),(0,R.U)(()=>this.loading.set(!1))).subscribe({next:p=>{this.data.set(p)}})}static#t=this.\u0275fac=function(T){return new(T||l)};static#e=this.\u0275cmp=t.In1({type:l,selectors:[["app-reservation-tables-summary"]],inputs:{showLoader:"showLoader",filters:"filters"},standalone:!0,features:[t.M5G([C.UF]),t.SYr,t.UHJ],ngContentSelectors:O,decls:2,vars:1,consts:()=>{let p,T,b;return p="Type:",T="Quantity:",b="people",[[3,"showLoader","size"],[1,"font-xl"],[1,"tui-table"],[1,"tui-table__tr","tui-table__tr_border_none"],[1,"tui-table__th"],["headerExplain",""],[3,"tuiHint"],p,[1,"tui-table__td"],["valueExplain",""],T,b,["class","tui-table__th"],["class","tui-table__td"]]},template:function(T,b){1&T&&(t.kPM(),t.yuY(0,d,1,2,"tui-loader",0)(1,w,3,2)),2&T&&t.C0Y(0,b.loading()?0:1)},dependencies:[r.Sk,r.Cb,_,g.WY,g.lh,g.SL,g.i6,g.IT],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid var(--tui-base-04)}table[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:.9rem}table[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]   .tui-table__td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]   .tui-table__th[_ngcontent-%COMP%]{padding:.5rem;height:inherit}"],changeDetection:0})}return l})()},9772:(Y,v,o)=>{o.d(v,{CU:()=>C,ye:()=>c});const t=(new Date).getTimezoneOffset()/60;function C(S,R=t){return"string"==typeof S&&S.length>0&&S.match(/\d{2}:\d{2}/)?`${Number(S.split(":")[0])-R}:${S.split(":")[1]}`:(console.error("Invalid string provided to strTimeTimezone",{string:S}),"")}function c(S,R=t){return C(S,-1*R)}},6360:(Y,v,o)=>{o.d(v,{e:()=>S});var t=o(8400),C=o(9772);class c extends t.w{constructor(r){super(r),this.title=r.title,this.status=r.status,this.active_from=r.active_from?new Date(r.active_from):void 0,this.active_to=r.active_to?new Date(r.active_to):void 0,this.preorder_type=r.preorder_type,this.payment_value=r.payment_value,this.message=r.message}}class S extends t.w{constructor(r){super(r),this.name=r.name,this.weekday=r.weekday,this.step=r.step,this.valid_times=r.valid_times,this.starts_at=r.starts_at?(0,C.CU)(r.starts_at):void 0,this.ends_at=r.ends_at?(0,C.CU)(r.ends_at):void 0,this.preorder_reservation_group=r.preorder_reservation_group?new c(r.preorder_reservation_group):void 0}}},5180:(Y,v,o)=>{o.d(v,{C:()=>r});var t=o(8400);class C extends t.w{constructor(_){super(_),this.image_pixel_id=_.image_pixel_id,this.event_data=_.event_data,this.event_time=_.event_time?new Date(_.event_time):void 0}}class c extends t.w{constructor(_){super(_),this.image_id=_.image_id,this.delivered_email_id=_.delivered_email_id,this.record_type=_.record_type,this.record_id=_.record_id,this.event_type=_.event_type,this.secret=_.secret,this.events=_.events?_.events.map(d=>new C(d)):[]}}class S extends t.w{constructor(_){super(_),this.record_id=_.record_id,this.record_type=_.record_type,this.text=_.text,this.html=_.html,this.subject=_.subject,this.headers=_.headers,this.raw=_.raw,this.image_pixels=_.image_pixels?_.image_pixels.map(d=>new c(d)):[]}}class R extends t.w{constructor(_){super(_),this.hpp_url=_.hpp_url,this.value=_.value,this.status=_.status,this.reservation_id=_.reservation_id,this.preorder_type=_.preorder_type,this.other=_.other}}class r extends t.w{constructor(_){super(_),this.fullname=_.fullname,this.datetime=_.datetime?new Date(_.datetime):void 0,this.status=_.status,this.secret=_.secret,this.adults=_.adults,this.children=_.children,this.table=_.table,this.notes=_.notes,this.email=_.email,this.phone=_.phone,this.payment=_.payment?new R(_.payment):void 0,this.delivered_emails=_.delivered_emails?_.delivered_emails.map(d=>new S(d)):[]}}},8304:(Y,v,o)=>{o.d(v,{S:()=>R});var t=o(6012),C=o(5180),c=o(4704),S=o(4496);let R=(()=>{class r extends t.s{constructor(){super(C.C,"admin/reservations")}tablesSummary(_={}){return this.get("tables_summary",{params:_})}deliverConfirmationEmail(_){return this.post(`${_}/deliver_confirmation_email`,{}).pipe((0,c.k)(d=>this.mapItem(d)))}static#t=this.\u0275fac=function(d){return new(d||r)};static#e=this.\u0275prov=S.wxM({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()},5892:(Y,v,o)=>{o.d(v,{Ws:()=>D,yy:()=>j});var t=o(4496),C=o(2528),c=o(3568);(0,C.W0)((0,c.u)("showHideText"));const R=(0,C.W0)((0,c.u)("paginationTexts"));var r=o(466),g=o(1512),_=o(4336),d=o(3656),I=o(8212),$=o(5944),P=o(1368),L=o(1040);function A(E,N){if(1&E&&(t.SAx(0),t.OEk(1),t.I0R(2,"strong",6),t.OEk(3),t.C$Y(),t.k70()),2&E){const f=t.GaO().ngIf,y=t.GaO();t.yG2(),t.oRS(" ",f.pages," "),t.yG2(2),t.cNF(y.pages)}}function V(E,N){if(1&E&&(t.SAx(0),t.OEk(1),t.k70()),2&E){const f=N.polymorpheusOutlet;t.yG2(),t.oRS(" ",f," ")}}function z(E,N){if(1&E&&t.wR5(0,"tui-svg",13),2&E){const f=t.GaO(4);t.E7m("src",f.commonIcons.check)}}function k(E,N){1&E&&t.wR5(0,"span",14)}const H=(E,N)=>({$implicit:E,total:N});function w(E,N){if(1&E){const f=t.KQA();t.SAx(0),t.I0R(1,"button",9),t.qCj("click",function(){const U=t.usT(f).$implicit,B=t.GaO(3);return t.CGJ(B.onItem(U))}),t.yuY(2,V,2,1,"ng-container",10)(3,z,1,1,"tui-svg",11)(4,k,1,0,"ng-template",null,12,t.gJz),t.C$Y(),t.k70()}if(2&E){const f=N.$implicit,y=t.Gew(5),M=t.GaO(3);t.yG2(2),t.E7m("polymorpheusOutlet",M.options.sizeOptionContent)("polymorpheusOutletContext",t.IBC(4,H,f,M.total)),t.yG2(),t.E7m("ngIf",f===M.size)("ngIfElse",y)}}function O(E,N){if(1&E&&(t.I0R(0,"tui-data-list",7),t.yuY(1,w,6,7,"ng-container",8),t.C$Y()),2&E){const f=t.GaO(2);t.yG2(),t.E7m("ngForOf",f.items)}}function G(E,N){if(1&E){const f=t.KQA();t.SAx(0),t.I0R(1,"button",15),t.qCj("click",function(){t.usT(f);const M=t.GaO(2);return t.CGJ(M.back())}),t.C$Y(),t.I0R(2,"button",16),t.qCj("click",function(){t.usT(f);const M=t.GaO(2);return t.CGJ(M.forth())}),t.C$Y(),t.k70()}if(2&E){const f=N.ngIf,y=t.GaO(2);t.yG2(),t.E7m("disabled",y.leftDisabled)("icon",y.icons.decrement)("title",f[0]),t.yG2(),t.E7m("disabled",y.rightDisabled)("icon",y.icons.increment)("title",f[1])}}function l(E,N){if(1&E){const f=t.KQA();t.SAx(0),t.I0R(1,"span",1),t.yuY(2,A,4,2,"ng-container",0),t.C$Y(),t.I0R(3,"span",2),t.OEk(4),t.I0R(5,"tui-hosted-dropdown",3),t.iHE("openChange",function(M){t.usT(f);const U=t.GaO();return t.kNx(U.open,M)||(U.open=M),t.CGJ(M)}),t.I0R(6,"button",4)(7,"strong"),t.OEk(8),t.C$Y()(),t.yuY(9,O,2,1,"ng-template",null,5,t.gJz),t.C$Y(),t.OEk(11),t.I0R(12,"strong",6),t.OEk(13),t.C$Y()(),t.yuY(14,G,3,6,"ng-container",0),t.wVc(15,"async"),t.k70()}if(2&E){const f=N.ngIf,y=t.Gew(10),M=t.GaO();t.yG2(2),t.E7m("ngIf",M.options.showPages),t.yG2(2),t.oRS(" ",f.linesPerPage," "),t.yG2(),t.E7m("content",y),t.OKB("open",M.open),t.yG2(3),t.CAO("",M.start+1,"\u2013",M.end,""),t.yG2(3),t.oRS(" ",f.of," "),t.yG2(2),t.cNF(M.total),t.yG2(),t.E7m("ngIf",t.kDX(15,9,M.spinTexts$))}}const T=(0,C.AL)({sizeOptionContent:function u({$implicit:E}){return`${E}`},showPages:!0,items:[10,20,50,100],size:10});let D=(()=>{class E{constructor(f,y,M,U,B){this.icons=f,this.spinTexts$=y,this.texts$=M,this.options=U,this.commonIcons=B,this.items=this.options.items,this.total=0,this.page=0,this.size=this.options.size,this.pageChange=new t._w7,this.sizeChange=new t._w7,this.paginationChange=new t._w7,this.open=!1}get pages(){return Math.ceil(this.total/this.size)}get start(){return this.page*this.size}get end(){return Math.min(this.start+this.size,this.total)}get leftDisabled(){return!this.start}get rightDisabled(){return this.end===this.total}get pagination(){return{page:this.page,size:this.size}}onItem(f){const{start:y}=this;this.size=f,this.sizeChange.emit(f),this.open=!1,this.page=Math.floor(y/this.size),this.pageChange.emit(this.page),this.paginationChange.emit(this.pagination)}back(){this.page--,this.pageChange.emit(this.page),this.paginationChange.emit(this.pagination)}forth(){this.page++,this.pageChange.emit(this.page),this.paginationChange.emit(this.pagination)}}return E.\u0275fac=function(f){return new(f||E)(t.GI1($.KY),t.GI1($.s1),t.GI1(R),t.GI1(T),t.GI1($.QJ))},E.\u0275cmp=t.In1({type:E,selectors:[["tui-table-pagination"]],inputs:{items:"items",total:"total",page:"page",size:"size"},outputs:{pageChange:"pageChange",sizeChange:"sizeChange",paginationChange:"paginationChange"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"t-pages"],["automation-id","tui-table-pagination__lines-per-page-wrapper"],[3,"content","open","openChange"],["tuiLink","","type","button"],["content",""],[1,"t-strong"],["size","s"],[4,"ngFor","ngForOf"],["tuiOption","",1,"t-item",3,"click"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],["class","t-checkmark",3,"src",4,"ngIf","ngIfElse"],["fakeIcon",""],[1,"t-checkmark",3,"src"],[1,"t-checkmark"],["appearance","icon","size","xs","tuiIconButton","","type","button",1,"t-back",3,"disabled","icon","title","click"],["appearance","icon","size","xs","tuiIconButton","","type","button",3,"disabled","icon","title","click"]],template:function(f,y){1&f&&(t.yuY(0,l,16,11,"ng-container",0),t.wVc(1,"async")),2&f&&t.E7m("ngIf",t.kDX(1,1,y.texts$))},dependencies:[r.Qw,g.C,_.yi,_.sP,d.Wu,I.Kw,P.u_,P.ay,L.Af,P.a],styles:["[_nghost-%COMP%]{display:flex;font:var(--tui-font-text-s);align-items:center;color:var(--tui-text-03)}.t-strong[_ngcontent-%COMP%]{color:var(--tui-text-01)}.t-pages[_ngcontent-%COMP%]{margin-right:auto}.t-item[_ngcontent-%COMP%]{min-width:5.5rem;box-sizing:border-box}.t-checkmark[_ngcontent-%COMP%]{min-width:1.5rem;border-left:5px solid transparent}.t-back[_ngcontent-%COMP%]{margin:0 .25rem 0 1.5rem}"],changeDetection:0}),E})(),j=(()=>{class E{}return E.\u0275fac=function(f){return new(f||E)},E.\u0275mod=t.a4G({type:E}),E.\u0275inj=t.s3X({imports:[[P.MD,I.CI,g.w,r.GE,_.A$,d.Yt,L.Ux]]}),E})()},1632:(Y,v,o)=>{o.d(v,{k:()=>S,u:()=>R});var t=o(4496),C=o(900),c=o(4680);let S=(()=>{class r{constructor(_,d){this.el=_,this.takeOnlyTrustedEvents=d,this.tuiPressedChange=(0,C.Y7)(this.el.nativeElement,{onlyTrusted:this.takeOnlyTrustedEvents})}}return r.\u0275fac=function(_){return new(_||r)(t.GI1(t.GMv),t.GI1(c.mm))},r.\u0275dir=t.Sc5({type:r,selectors:[["","tuiPressedChange",""]],outputs:{tuiPressedChange:"tuiPressedChange"}}),r})(),R=(()=>{class r{}return r.\u0275fac=function(_){return new(_||r)},r.\u0275mod=t.a4G({type:r}),r.\u0275inj=t.s3X({}),r})()},1200:(Y,v,o)=>{o.d(v,{A:()=>r,m:()=>g});var t=o(4496),C=o(900),c=o(3480),S=o(800),R=o(3616);let r=(()=>{class _{constructor(I,$,P){this.el=I,this.zone=$,this.destroy$=P,this.eventName=""}ngOnInit(){(0,S.w)(this.el.nativeElement,this.eventName,{passive:!1}).pipe((0,C.Uv)(this.zone),(0,C.uy)(),(0,R.a)(this.destroy$)).subscribe()}}return _.\u0275fac=function(I){return new(I||_)(t.GI1(t.GMv),t.GI1(t.WW2),t.GI1(c.UF,2))},_.\u0275dir=t.Sc5({type:_,selectors:[["","tuiPreventDefault",""]],inputs:{eventName:[t.Wk5.None,"tuiPreventDefault","eventName"]},features:[t.M5G([c.UF])]}),_})(),g=(()=>{class _{}return _.\u0275fac=function(I){return new(I||_)},_.\u0275mod=t.a4G({type:_}),_.\u0275inj=t.s3X({}),_})()},4736:(Y,v,o)=>{o.d(v,{M:()=>S,O:()=>R});var t=o(4496),C=o(5944),c=o(4704);let S=(()=>{class r{constructor(_){this.months$=_}transform({month:_}){return this.months$.pipe((0,c.k)(d=>d[_]))}}return r.\u0275fac=function(_){return new(_||r)(t.GI1(C.GU,16))},r.\u0275pipe=t.UTH({name:"tuiMonth",type:r,pure:!0}),r})(),R=(()=>{class r{}return r.\u0275fac=function(_){return new(_||r)},r.\u0275mod=t.a4G({type:r}),r.\u0275inj=t.s3X({}),r})()},3797:(Y,v,o)=>{o.d(v,{CQ:()=>w,Oo:()=>k,cP:()=>H});var t=o(4496),C=o(6504),c=o(3044),S=o(1800),R=o(4164),r=o(4680),g=o(466),_=o(7936),d=o(8048),I=o(4336),$=o(5944),P=o(9371),L=o(796),A=o(1368);const V=["*",[["input"]]],z=["*","input"];let k=(()=>{class O extends S._y{constructor(l,u,p,T){super(l,u,T),this.textfieldSize=p,this.open=!1}get size(){return this.textfieldSize.size}get nativeFocusableElement(){return this.computedDisabled||!this.textfield?null:this.textfield.nativeFocusableElement}get focused(){return(0,R.ER)(this.nativeFocusableElement)||!!this.hostedDropdown&&this.hostedDropdown.focused}get canOpen(){return this.interactive&&!!this.datalist}onValueChange(l){this.value=l,this.open=!0}onActiveZone(l){this.updateFocused(l)}handleOption(l){this.setNativeValue(String(l)),this.focusInput(),this.value=String(l),this.open=!1}getFallbackValue(){return""}focusInput(l=!1){this.nativeFocusableElement&&this.nativeFocusableElement.focus({preventScroll:l})}setNativeValue(l){this.nativeFocusableElement&&(this.nativeFocusableElement.value=l)}}return O.\u0275fac=function(l){return new(l||O)(t.GI1(C.eq,10),t.GI1(t.kD9),t.GI1(d.$K),t.GI1(S.cn,8))},O.\u0275cmp=t.In1({type:O,selectors:[["tui-input"]],contentQueries:function(l,u,p){if(1&l&&t.szK(p,I.Ux,5,t.Yw2),2&l){let T;t.wto(T=t.Gqi())&&(u.datalist=T.first)}},viewQuery:function(l,u){if(1&l&&(t.CC$(g.Qw,5),t.CC$(_.y_,5)),2&l){let p;t.wto(p=t.Gqi())&&(u.hostedDropdown=p.first),t.wto(p=t.Gqi())&&(u.textfield=p.first)}},hostVars:1,hostBindings:function(l,u){2&l&&t.e48("data-size",u.size)},features:[t.M5G([L.g3,(0,r.NK)(O),(0,$.UH)(O),(0,S.q4)(O)],[L.YL]),t.eg9],ngContentSelectors:z,decls:4,vars:11,consts:[[1,"t-hosted",3,"canOpen","content","open","openChange","tuiActiveZoneChange"],["automation-id","tui-input__textfield",1,"t-textfield",3,"disabled","focusable","invalid","nativeId","pseudoFocus","pseudoHover","readOnly","value","valueChange"]],template:function(l,u){1&l&&(t.kPM(V),t.I0R(0,"tui-hosted-dropdown",0),t.iHE("openChange",function(T){return t.kNx(u.open,T)||(u.open=T),T}),t.qCj("tuiActiveZoneChange",function(T){return u.onActiveZone(T)}),t.I0R(1,"tui-primitive-textfield",1),t.qCj("valueChange",function(T){return u.onValueChange(T)}),t._Xx(2),t._Xx(3,1,["ngProjectAs","input",5,["input"]]),t.C$Y()()),2&l&&(t.E7m("canOpen",u.canOpen)("content",u.datalist||""),t.OKB("open",u.open),t.yG2(),t.E7m("disabled",u.computedDisabled)("focusable",u.computedFocusable)("invalid",u.computedInvalid)("nativeId",u.nativeId)("pseudoFocus",u.computedFocused)("pseudoHover",u.pseudoHover)("readOnly",u.readOnly)("value",u.value))},dependencies:[g.Qw,_.y_,c.M,_.KQ],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:left}._disabled[_nghost-%COMP%]{pointer-events:none}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}"],changeDetection:0}),O})(),H=(()=>{class O extends P.Cm{onValueChange(l){this.host.onValueChange(l)}}return O.\u0275fac=(()=>{let G;return function(u){return(G||(G=t.otF(O)))(u||O)}})(),O.\u0275dir=t.Sc5({type:O,selectors:[["tui-input"]],features:[t.M5G([(0,$.iu)(O)]),t.eg9]}),O})(),w=(()=>{class O{}return O.\u0275fac=function(l){return new(l||O)},O.\u0275mod=t.a4G({type:O}),O.\u0275inj=t.s3X({imports:[[A.MD,c.L,_.KA,g.GE]]}),O})()},796:(Y,v,o)=>{o.d(v,{YL:()=>$,g3:()=>P}),o(4736);var C=o(5193),c=o(5944),r=(o(3012),o(2700),o(528)),_=(o(4704),o(4496)),d=o(6504);const $=(0,C.Sk)({limitWidth:"fixed",align:"right"}),P={provide:c.Y9,deps:[[new _.T7N,new _.Yiy,d.Y6]],useFactory:r.Z}}}]);