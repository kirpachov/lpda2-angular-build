"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[2772],{5948:(R,d,e)=>{e.r(d),e.d(d,{ListPreferencesComponent:()=>O});var t=e(4496),T=e(6772);let P=(()=>{class c extends T.A{constructor(){super("/admin/preferences")}search(o={}){return this.http.get("/")}show(o){return this.http.get(`/${o}`)}value(o){return this.http.get(`/${o}/value`)}update(o,l){return this.http.patch(`/${o}`,{value:l})}static#t=this.\u0275fac=function(l){return new(l||c)};static#e=this.\u0275prov=t.wxM({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();var i=e(3480),_=e(8824),n=e(3616),p=e(4388),a=e(8256),C=e(8392),g=e(6800),v=e(6648),m=e(6052),f=e(6504),h=e(1292),s=e(7364),S=e(5193),r=e(7728);function u(c,y){1&c&&(t.SAx(0),t.aS0(1,11),t.k70())}function D(c,y){1&c&&(t.OEk(0),t.wVc(1,"language")),2&c&&t.cNF(t.kDX(1,1,y.$implicit))}let O=(()=>{class c{constructor(){this.service=(0,t.uUt)(P),this.destroy$=(0,t.uUt)(i.UF),this.notifications=(0,t.uUt)(p.E),this.inputSize="l",this.languagePipe=(0,t.uUt)(s.e),this.allLanguages=Object.keys(h.S),this.form=new f.WC({known_languages:new f.Ku([])}),this.saving=(0,t.OCB)(!1),this.searching=(0,t.OCB)(!1),this.loading=(0,t.S6b)(()=>this.saving()||this.searching())}ngOnInit(){this.reload()}save(o,l){this.saving.set(!0),Array.isArray(l)&&(l=l.join(",")),this.service.update(o,l).pipe((0,_.U)(()=>this.saving.set(!1)),(0,_.U)(()=>this.reload())).subscribe({error:E=>{this.notifications.error((0,a.mk)(E)||C.a)}})}applyPipeFunction(o){return o.transform}reload(){this.searching.set(!0),this.service.search().pipe((0,n.a)(this.destroy$),(0,_.U)(()=>this.searching.set(!1))).subscribe({next:o=>{this.updateFormByData(o.items)},error:o=>{this.notifications.error((0,a.mk)(o)||C.a)}})}updateFormByData(o){const l={};["known_languages"].forEach(E=>{const M=o.find(I=>I.key===E);M&&Array.isArray(M.value)?l[E]=M.value:M&&"string"==typeof M.value?l[E]=M.value.split(","):M?console.warn(`Preference ${E} not found or invalid`,M.value):console.warn(`Preference ${E} not found`)}),this.form.patchValue(l)}static#t=this.\u0275fac=function(l){return new(l||c)};static#e=this.\u0275cmp=t.In1({type:c,selectors:[["app-list-preferences"]],standalone:!0,features:[t.M5G([i.UF,s.e]),t.UHJ],decls:23,vars:6,consts:()=>{let o,l,E,M;return o="Personal Preferences",l="These settings will only be applied to your account.",E="Select many languages",M="No items",[["noItems",""],o,[1,"text-slate-400","mb-3"],l,[3,"formGroup"],[1,"mb-4"],[1,"text-lg","font-bold"],[1,"text-slate-400"],["knownLanguagesItemContent",""],[3,"formControlName","items","itemContent","stringifyFn","inputSize","submit"],E,M]},template:function(l,E){if(1&l&&(t.yuY(0,u,2,0,"ng-template",null,0,t.gJz),t.I0R(2,"h1"),t.aS0(3,1),t.C$Y(),t.I0R(4,"p",2),t.aS0(5,3),t.C$Y(),t.I0R(6,"form",4)(7,"div",5)(8,"p",6),t.OEk(9,"Lingua preferita"),t.C$Y(),t.I0R(10,"p",7),t.OEk(11,"Seleziona la lingua che preferisci utilizzare."),t.C$Y(),t.wR5(12,"app-admin-language-switcher"),t.C$Y(),t.I0R(13,"div",5)(14,"p",6),t.OEk(15,"Lingue conosciute"),t.C$Y(),t.I0R(16,"p",7),t.OEk(17,"Quali lingue conosci? Questa informazione ci serve per capire quali lingue mostrarti quando crei o modifichi elementi con nomi in diverse lingue."),t.C$Y(),t.yuY(18,D,2,3,"ng-template",null,8,t.gJz),t.I0R(20,"app-preferences-multiple-select",9),t.qCj("submit",function(I){return E.save("known_languages",I)}),t.SAx(21),t.aS0(22,10),t.k70(),t.C$Y()()()),2&l){const M=t.Gew(19);t.yG2(6),t.E7m("formGroup",E.form),t.yG2(14),t.E7m("formControlName","known_languages")("items",E.allLanguages)("itemContent",M)("stringifyFn",E.applyPipeFunction(E.languagePipe))("inputSize",E.inputSize)}},dependencies:[g.y,v.BZ,f.sl,f.sz,f.ue,f.u,f.uW,f.Wo,m.q8,s.e,S.ms,r.M],encapsulation:2,changeDetection:0})}return c})()},8392:(R,d,e)=>{e.d(d,{a:()=>t});const t="Something went wrong."},168:(R,d,e)=>{e.d(d,{C:()=>P,O:()=>T});var t=e(4496);let T=(()=>{class i{constructor(){this.focusable=!0}get tabIndex(){return this.focusable?0:-1}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275dir=t.Sc5({type:i,selectors:[["","tuiFocusable",""]],hostVars:1,hostBindings:function(n,p){2&n&&t.SoX("tabIndex",p.tabIndex)},inputs:{focusable:[t.Wk5.None,"tuiFocusable","focusable"]}}),i})(),P=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.a4G({type:i}),i.\u0275inj=t.s3X({}),i})()},4436:(R,d,e)=>{e.d(d,{a:()=>h,i:()=>f});var t=e(4496),T=e(3480),P=e(4680),i=e(5656),_=e(3972),n=e(5944),p=e(3616),a=e(3656),C=e(4108),g=e(1040),v=e(1368);function m(s,S){1&s&&t.wR5(0,"tui-svg",3),2&s&&t.E7m("src",S.polymorpheusOutlet)}let f=(()=>{class s extends i.cb{constructor(r,u,D,O){super(D),this.isMobile=O,this.mode=null,this.describeId="",u.pipe((0,p.a)(r)).subscribe(c=>{this.mode=c})}get computedAppearance(){return this.appearance||this.mode||""}stopOnMobile(r){var u;this.isMobile&&(r.preventDefault(),r.stopPropagation()),null===(u=this.driver$)||void 0===u||u.toggle()}}return s.\u0275fac=function(r){return new(r||s)(t.GI1(T.UF,2),t.GI1(n.Yx),t.GI1(i.Oi),t.GI1(P.Mv))},s.\u0275cmp=t.In1({type:s,selectors:[["tui-tooltip"]],viewQuery:function(r,u){if(1&r&&t.CC$(i.i6,5),2&r){let D;t.wto(D=t.Gqi())&&(u.driver$=D.first)}},hostVars:1,hostBindings:function(r,u){1&r&&t.qCj("mousedown",function(O){return u.stopOnMobile(O)}),2&r&&t.e48("data-appearance",u.computedAppearance)},inputs:{content:"content",direction:"direction",appearance:"appearance",showDelay:"showDelay",hideDelay:"hideDelay",describeId:"describeId",context:"context"},features:[t.M5G([T.UF,_.Ir]),t.eg9],decls:4,vars:11,consts:[["appearance","icon","automation-id","tui-tooltip__icon","tuiWrapper","",1,"t-tooltip-icon",3,"hover","tuiHint","tuiHintAppearance","tuiHintContext","tuiHintDescribe","tuiHintDirection","tuiHintHideDelay","tuiHintShowDelay"],["driver","tuiHintHover"],[3,"src",4,"polymorpheusOutlet"],[3,"src"]],template:function(r,u){if(1&r&&(t.I0R(0,"span",0,1),t.wVc(2,"async"),t.yuY(3,m,1,1,"tui-svg",2),t.C$Y()),2&r){const D=t.Gew(1);t.E7m("hover",t.kDX(2,9,D)||null)("tuiHint",u.content)("tuiHintAppearance",u.computedAppearance)("tuiHintContext",u.context)("tuiHintDescribe",u.describeId)("tuiHintDirection",u.direction)("tuiHintHideDelay",u.hideDelay)("tuiHintShowDelay",u.showDelay),t.yG2(3),t.E7m("polymorpheusOutlet",u.icon)}},dependencies:[a.Wu,C.S,i.lh,i.SL,i.i6,i.IT,i.KM,g.Af,v.a],styles:['[_nghost-%COMP%]{transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;display:inline-block;width:1.5rem;height:1.5rem;vertical-align:middle;font-size:0;line-height:0;pointer-events:auto;cursor:pointer;color:var(--tui-text-01)}[data-appearance=error][_nghost-%COMP%]{color:var(--tui-error-fill)}.t-tooltip-icon[_ngcontent-%COMP%]{display:inline-block;width:100%;height:100%;color:inherit}[tuiWrapper][data-appearance="textfield"][data-state="disabled"][_nghost-%COMP%]   .t-tooltip-icon[_ngcontent-%COMP%], [tuiWrapper][data-appearance="textfield"][data-state="disabled"]   [_nghost-%COMP%]   .t-tooltip-icon[_ngcontent-%COMP%]{opacity:1}'],changeDetection:0}),s})(),h=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=t.a4G({type:s}),s.\u0275inj=t.s3X({imports:[[v.MD,C.g,a.Yt,i.WY,g.Ux]]}),s})()},4736:(R,d,e)=>{e.d(d,{M:()=>i,O:()=>_});var t=e(4496),T=e(5944),P=e(4704);let i=(()=>{class n{constructor(a){this.months$=a}transform({month:a}){return this.months$.pipe((0,P.k)(C=>C[a]))}}return n.\u0275fac=function(a){return new(a||n)(t.GI1(T.GU,16))},n.\u0275pipe=t.UTH({name:"tuiMonth",type:n,pure:!0}),n})(),_=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.a4G({type:n}),n.\u0275inj=t.s3X({}),n})()},7020:(R,d,e)=>{e.d(d,{q:()=>p});var t=e(4496),T=e(1800),P=e(3480),i=e(5944),_=e(4336),n=e(3012);let p=(()=>{class a{constructor(g,v,m,f,h){this.host=g,this.control=v,this.el=m,this.idService=f,this.itemsHandlers=h,this.disabledItemHandler=null,this.datalist=null}get id(){return this.el.nativeElement.id||this.idService.generate()}}return a.\u0275fac=function(g){return new(g||a)(t.GI1(i.Mn),t.GI1(T._y),t.GI1(t.GMv),t.GI1(P.y2),t.GI1(n.qc))},a.\u0275dir=t.Sc5({type:a,viewQuery:function(g,v){if(1&g&&t.CC$(_.Ux,7,t.Yw2),2&g){let m;t.wto(m=t.Gqi())&&(v.datalist=m.first)}},hostVars:1,hostBindings:function(g,v){2&g&&t.SoX("id",v.id)},inputs:{disabledItemHandler:"disabledItemHandler"}}),a})()},9612:(R,d,e)=>{e.d(d,{W:()=>P});var t=e(4496);let P=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.a4G({type:i}),i.\u0275inj=t.s3X({}),i})()},796:(R,d,e)=>{e.d(d,{YL:()=>v,g3:()=>m}),e(4736);var T=e(5193),P=e(5944),n=(e(3012),e(2700),e(528)),a=(e(4704),e(4496)),C=e(6504);const v=(0,T.Sk)({limitWidth:"fixed",align:"right"}),m={provide:P.Y9,deps:[[new a.T7N,new a.Yiy,C.Y6]],useFactory:n.Z}}}]);