(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[2308],{35352:(V,f,i)=>{"use strict";i.r(f),i.d(f,{AdminReservationsHomeComponent:()=>An});var t=i(54496),u=i(91368),r=i(6504),C=i(53797),d=i(83480),c=i(35e3),m=i(58212),s=i(41512),g=i(45656),M=i(27692),A=i(1560),h=i(31236),G=i(5892),P=i(1128),v=i(53616),L=i(68824),D=i(38256),Y=i(28304),B=i(87556),F=i(10580),X=i(42516),E=i(86096),$=i(66052),S=i(21984),I=i(8048),k=i(37936),U=i(94336),Z=i(36732),p=i(1040);function y(e,_){1&e&&(t.SAx(0),t.aS0(1,10),t.k70())}function T(e,_){if(1&e&&(t.SAx(0),t.OEk(1),t.k70()),2&e){const n=_.polymorpheusOutlet;t.yG2(),t.oRS(" ",n," ")}}function N(e,_){if(1&e&&t.yuY(0,T,2,1,"ng-container",11),2&e){const n=t.GaO(2);t.E7m("polymorpheusOutlet",n.optionTemplate$())}}function O(e,_){1&e&&t.C_f(0)}const H=(e,_)=>({$implicit:e,injector:_});function j(e,_){if(1&e&&t.yuY(0,O,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("polymorpheusOutlet",o.optionTemplate$())("polymorpheusOutletContext",t.IBC(2,H,n,o.injector))}}function ut(e,_){1&e&&t.C_f(0)}const ot=e=>({data:e});function mt(e,_){if(1&e&&t.yuY(0,ut,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("polymorpheusOutlet",o.optionTemplate$())("polymorpheusOutletContext",t.S45(2,ot,n))}}function pt(e,_){if(1&e&&t.wR5(0,"div",13),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("innerText",o.stringify(n))}}function Et(e,_){if(1&e&&t.yuY(0,N,1,1)(1,j,1,5)(2,mt,1,4)(3,pt,1,1),2&e){const n=t.GaO();let o;t.C0Y(0,"text"===(o=n.optionTemplateType$())?0:"template"===o?1:"component"===o?2:3)}}function dt(e,_){if(1&e&&(t.SAx(0),t.OEk(1),t.k70()),2&e){const n=_.polymorpheusOutlet;t.yG2(),t.oRS(" ",n," ")}}function Tt(e,_){if(1&e&&t.yuY(0,dt,2,1,"ng-container",11),2&e){const n=t.GaO(2);t.E7m("polymorpheusOutlet",n.nativeOptionTemplate$())}}function Ct(e,_){1&e&&t.C_f(0)}function gt(e,_){if(1&e&&t.yuY(0,Ct,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("polymorpheusOutlet",o.nativeOptionTemplate$())("polymorpheusOutletContext",t.IBC(2,H,n,o.injector))}}function St(e,_){1&e&&t.C_f(0)}function Rt(e,_){if(1&e&&t.yuY(0,St,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("polymorpheusOutlet",o.nativeOptionTemplate$())("polymorpheusOutletContext",t.S45(2,ot,n))}}function ft(e,_){if(1&e&&t.wR5(0,"div",13),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("innerText",o.stringify(n))}}function Ot(e,_){if(1&e&&t.yuY(0,Tt,1,1)(1,gt,1,5)(2,Rt,1,4)(3,ft,1,1),2&e){const n=t.GaO();let o;t.C0Y(0,"text"===(o=n.nativeOptionTemplateType$())?0:"template"===o?1:"component"===o?2:3)}}function ht(e,_){if(1&e&&(t.SAx(0),t.OEk(1),t.k70()),2&e){const n=t.GaO(2);t.yG2(),t.oRS(" ",n.placeholder," ")}}function It(e,_){if(1&e&&(t.I0R(0,"span",null,14),t._Xx(2),t.C$Y(),t.yuY(3,ht,2,1,"ng-container",15)),2&e){const n=t.Gew(1);t.yG2(3),t.E7m("ngIf",!n.hasChildNodes())}}function Nt(e,_){1&e&&(t.SAx(0),t.aS0(1,19),t.k70())}function Mt(e,_){if(1&e&&(t.I0R(0,"span"),t.OEk(1),t.C$Y()),2&e){const n=t.GaO(2);t.yG2(),t.cNF(n.emptyContentString())}}function vt(e,_){1&e&&t.C_f(0)}function yt(e,_){if(1&e&&(t.SAx(0),t.yuY(1,vt,1,0,"ng-container",8),t.k70()),2&e){const n=t.GaO(4);t.yG2(),t.E7m("ngTemplateOutlet",n.emptyContentTemplate())}}function At(e,_){if(1&e&&(t.SAx(0),t.yuY(1,yt,2,1,"ng-container",20),t.k70()),2&e){t.GaO(2);const n=t.Gew(6),o=t.GaO();t.yG2(),t.E7m("ngIf",o.emptyContentTemplate())("ngIfElse",n)}}function $t(e,_){if(1&e&&(t.SAx(0),t.yuY(1,At,2,2,"ng-container",20),t.k70()),2&e){t.GaO();const n=t.Gew(4),o=t.GaO();t.yG2(),t.E7m("ngIf",o.emptyContent$())("ngIfElse",n)}}function Gt(e,_){if(1&e&&(t.I0R(0,"span",null,16),t._Xx(2,1),t.C$Y(),t.yuY(3,Nt,2,0,"ng-template",null,17,t.gJz)(5,Mt,2,1,"ng-template",null,18,t.gJz)(7,$t,2,2,"ng-container",15)),2&e){const n=t.Gew(1);t.yG2(7),t.E7m("ngIf",!n.hasChildNodes())}}function Pt(e,_){1&e&&t.wR5(0,"tui-loader")}function xt(e,_){1&e&&t.C_f(0)}function Lt(e,_){if(1&e&&t.yuY(0,xt,1,0,"ng-container",8),2&e){t.GaO(2);const n=t.Gew(9);t.E7m("ngTemplateOutlet",n)}}function Yt(e,_){1&e&&t.C_f(0)}function Dt(e,_){if(1&e&&(t.SAx(0),t.yuY(1,Yt,1,0,"ng-container",8),t.k70()),2&e){t.GaO(2);const n=t.Gew(11);t.yG2(),t.E7m("ngTemplateOutlet",n)}}function bt(e,_){if(1&e&&t.yuY(0,Lt,1,1,"ng-template",null,21,t.gJz)(2,Dt,2,1,"ng-container",20),2&e){const n=t.Gew(1),o=t.GaO();t.yG2(2),t.E7m("ngIf",o.loading())("ngIfElse",n)}}function Vt(e,_){1&e&&t.C_f(0)}function zt(e,_){1&e&&t.C_f(0)}function Ft(e,_){1&e&&t.C_f(0)}function kt(e,_){if(1&e&&(t.SAx(0),t.yuY(1,Ft,1,0,"ng-container",8),t.k70()),2&e){t.GaO(4);const n=t.Gew(11);t.yG2(),t.E7m("ngTemplateOutlet",n)}}function wt(e,_){1&e&&t.C_f(0)}function Ut(e,_){if(1&e){const n=t.KQA();t.I0R(0,"button",28)(1,"span",29),t.qCj("click",function(){t.usT(n);const a=t.GaO(4);return t.CGJ(a.loadMoreItems())}),t.yuY(2,wt,1,0,"ng-container",20),t.C$Y()()}if(2&e){const n=t.GaO(4),o=t.Gew(1);t.E7m("size",n.optionSize)("disabled",!0),t.yG2(2),t.E7m("ngIf",n.loadMore)("ngIfElse",o)}}function Ht(e,_){if(1&e&&(t.SAx(0),t.yuY(1,kt,2,1,"ng-container",15)(2,Ut,3,4,"button",27),t.k70()),2&e){const n=t.GaO(3);t.yG2(),t.E7m("ngIf",n.loading),t.yG2(),t.E7m("ngIf",!n.loading)}}const Xt=e=>({$implicit:e});function Bt(e,_){if(1&e){const n=t.KQA();t.SAx(0),t.I0R(1,"button",25),t.qCj("mouseenter",function(){const a=t.usT(n),l=a.index,R=a.last,b=t.GaO(2);return t.CGJ(b.optionMouseEnter(l,R))})("focus",function(){const a=t.usT(n),l=a.index,R=a.last,b=t.GaO(2);return t.CGJ(b.optionFocus(l,R))}),t.yuY(2,zt,1,0,"ng-container",26),t.C$Y(),t.yuY(3,Ht,3,2,"ng-container",15),t.k70()}if(2&e){const n=_.$implicit,o=_.last,a=t.GaO(2),l=t.Gew(5);t.yG2(),t.E7m("size",a.optionSize)("value",n)("disabled",a.disabledItemHandler(n)),t.yG2(),t.E7m("ngTemplateOutlet",l)("ngTemplateOutletContext",t.S45(6,Xt,n)),t.yG2(),t.E7m("ngIf",o&&a.thereAreMoreItems)}}function Kt(e,_){if(1&e){const n=t.KQA();t.I0R(0,"span",33),t.qCj("click",function(){t.usT(n);const a=t.GaO(3);return t.CGJ(a.createNew.emit())}),t.I0R(1,"mat-icon"),t.OEk(2,"add"),t.C$Y(),t.I0R(3,"span"),t.aS0(4,34),t.C$Y()()}}function Jt(e,_){if(1&e&&(t.I0R(0,"button",30)(1,"span",null,31),t._Xx(3,2),t.C$Y(),t.yuY(4,Kt,5,0,"span",32),t.C$Y()),2&e){const n=t.Gew(2),o=t.GaO(2);t.E7m("size",o.optionSize)("value",null)("disabled",!0),t.yG2(4),t.E7m("ngIf",!n.hasChildNodes())}}function Wt(e,_){if(1&e&&(t.I0R(0,"tui-data-list",22),t.yuY(1,Bt,4,8,"ng-container",23)(2,Jt,5,4,"button",24),t.C$Y()),2&e){const n=t.GaO(),o=t.Gew(13);t.E7m("emptyContent",o),t.yG2(),t.E7m("ngForOf",n.items()),t.yG2(),t.E7m("ngIf",n.showCreateNew)}}const jt=["*",[["","empty-content",""]],[["","create-new",""]]],Qt=["*","[empty-content]","[create-new]"];let it=(()=>{class e extends F.m{constructor(){super(),this.weekday=(0,t.uUt)(X.G),this.stringify=n=>`${n.name} (${n.starts_at} - ${n.ends_at}, ${this.weekday.transform(n.weekday)})`,this.service=(0,t.uUt)(B.K)}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-reservation-turn-select"]],inputs:{outputType:"outputType",multiple:"multiple",service:"service",stringify:"stringify",query:"query",autofocus:"autofocus",placeholder:"placeholder",optionTemplate:"optionTemplate",stringifyOption:"stringifyOption",inputSize:"inputSize",page:"page",per_page:"per_page",optionSize:"optionSize",disabledItemHandler:"disabledItemHandler",loadMoreOnLastItem:"loadMoreOnLastItem",emptyContent:"emptyContent",showCreateNew:"showCreateNew",nativeOptionTemplate:"nativeOptionTemplate",filters:"filters"},outputs:{httpError:"httpError",pageChange:"pageChange",queryChange:"queryChange",per_pageChange:"per_pageChange",createNew:"createNew"},standalone:!0,features:[t.M5G([{provide:r.Y6,useExisting:(0,t.wd)(()=>e),multi:!0},d.UF,X.G]),t.eg9,t.UHJ],ngContentSelectors:Qt,decls:17,vars:5,consts:()=>{let n,o,a;return n="Load more",o="We found nothing.",a="Create new",[["loadMoreDefault",""],["valueContent",""],["nativeOptionTemplate",""],["placeholderTemplate",""],["nativeEmptyContentTemplate",""],["loadingTemplate",""],["loadingOrEmptyContent",""],[3,"stringify","tuiTextfieldSize","formControl","valueContent","searchChange"],[4,"ngTemplateOutlet"],[3,"emptyContent",4,"tuiDataList"],n,[4,"polymorpheusOutlet"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"innerText"],["customContent",""],[4,"ngIf"],["customEmptyContent",""],["defaultEmptyContent",""],["emptyContentCustomString",""],o,[4,"ngIf","ngIfElse"],["empty",""],[3,"emptyContent"],[4,"ngFor","ngForOf"],["tuiOption","",3,"size","value","disabled",4,"ngIf"],["tuiOption","",3,"size","value","disabled","mouseenter","focus"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tuiOption","",3,"size","disabled",4,"ngIf"],["tuiOption","",3,"size","disabled"],["role","button",3,"click"],["tuiOption","",3,"size","value","disabled"],["createNewCustomTemplate",""],["role","button","class","d-flex align-items-center",3,"click",4,"ngIf"],["role","button",1,"d-flex","align-items-center",3,"click"],a]},template:function(o,a){if(1&o&&(t.kPM(jt),t.yuY(0,y,2,0,"ng-template",null,0,t.gJz)(2,Et,4,1,"ng-template",null,1,t.gJz)(4,Ot,4,1,"ng-template",null,2,t.gJz)(6,It,4,1,"ng-template",null,3,t.gJz)(8,Gt,8,1,"ng-template",null,4,t.gJz)(10,Pt,1,0,"ng-template",null,5,t.gJz)(12,bt,3,2,"ng-template",null,6,t.gJz),t.I0R(14,"tui-combo-box",7),t.qCj("searchChange",function(R){return a.onSearchChange(R)}),t.yuY(15,Vt,1,0,"ng-container",8)(16,Wt,3,3,"tui-data-list",9),t.C$Y()),2&o){const l=t.Gew(3),R=t.Gew(7);t.yG2(14),t.E7m("stringify",a.stringify)("tuiTextfieldSize",a.inputSize)("formControl",a.control)("valueContent",l),t.yG2(),t.E7m("ngTemplateOutlet",R)}},dependencies:[u.MD,u.ay,u.u_,u.XV,E.uk,E.i_,E.qI,I.aS,I.rD,k.KA,C.CQ,U.A$,U.yi,U.sP,U.Ux,$.q8,r.sl,r.ue,r.ug,Z.kR,S.CA,M.Sk,M.Cb,p.Ux,p.Af,A.oB,A.qL],changeDetection:0})}return e})();var Zt=i(83264),K=i(400),q=i(74e3),tt=i(66684),qt=i(54704),et=i(54e3);const te=["*"];let ee=(()=>{class e{constructor(){this.destroy$=(0,t.uUt)(d.UF),this.control=new r.Ku(null),this.inputSize="m",this.valueChanges$=this.control.valueChanges.pipe((0,v.a)(this.destroy$),(0,q.a)(),(0,tt.I)(()=>this.control.valid),(0,qt.k)(n=>n?n.toLocalNativeDate():null)),this.today=K.EK.currentLocal()}ngOnInit(){}registerOnChange(n){this.valueChanges$.subscribe(n)}registerOnTouched(n){this.valueChanges$.subscribe(n)}setDisabledState(n){n?this.control.disable():this.control.enable()}writeValue(n){this.control.patchValue(this.formatToTuiDay(n))}prevDay(){this.control.value instanceof K.EK?this.control.setValue(this.control.value.append({day:-1})):console.warn("control value invalid",this.control.value)}nextDay(){this.control.value instanceof K.EK?this.control.setValue(this.control.value.append({day:1})):console.warn("control value invalid",this.control.value)}formatToTuiDay(n){return null===n||n instanceof K.EK?n:n instanceof Date?K.EK.fromLocalNativeDate(n):"string"==typeof n?K.EK.fromLocalNativeDate(new Date(n)):(console.warn("Invalid value for reservation date select:",n),null)}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-reservation-date-select"]],inputs:{inputSize:"inputSize"},standalone:!0,features:[t.M5G([{provide:r.Y6,useExisting:(0,t.wd)(()=>e),multi:!0},d.UF]),t.UHJ],ngContentSelectors:te,decls:9,vars:4,consts:[[1,"flex","items-center"],["tuiIconButton","","type","button","size","m","appearance","icon",1,"!border","!border-solid","!rounded-full","!border-slate-400",3,"click"],[1,"mx-2","grow",3,"tuiAutoFocus","tuiTextfieldSize","min","formControl"]],template:function(o,a){1&o&&(t.kPM(),t.I0R(0,"div",0)(1,"button",1),t.qCj("click",function(){return a.prevDay()}),t.I0R(2,"mat-icon"),t.OEk(3,"arrow_back"),t.C$Y()(),t.I0R(4,"tui-input-date",2),t._Xx(5),t.C$Y(),t.I0R(6,"button",1),t.qCj("click",function(){return a.nextDay()}),t.I0R(7,"mat-icon"),t.OEk(8,"arrow_forward"),t.C$Y()()()),2&o&&(t.yG2(4),t.E7m("tuiAutoFocus",!0)("tuiTextfieldSize",a.inputSize)("min",a.today)("formControl",a.control))},dependencies:[m.CI,m.Kw,A.qL,et.iO,et.yc,et.Ml,c.m6,c.gJ,I.aS,I.rD,r.sl,r.ue,r.ug],styles:["[_nghost-%COMP%]{display:block;min-width:250px}"],changeDetection:0})}return e})();var ne=i(35136),oe=i(34680),at=i(69772),ie=i(4592);const _t=e=>({date:e});function ae(e,_){if(1&e&&t.wR5(0,"app-reservation-tables-summary",18),2&e){const n=t.GaO();let o;t.E7m("showLoader",!1)("filters",t.S45(2,_t,null!==(o=n.dateStr())&&void 0!==o?o:""))}}const _e=()=>[10,20,50,100],se=["*"];let re=(()=>{class e{constructor(){this.loading=!1,this.data=null,this.inputSize="m",this.filtersChanged=new t._w7,this.destroy$=(0,t.uUt)(d.UF),this.datePipe=(0,t.uUt)(u.y),this.query=new r.Ku(null),this.turn=new r.Ku(null),this.date=new r.Ku(new Date),this.status=new r.Ku("active"),this.dateStr=(0,t.OCB)(this.formatDate(this.date.value)),this.offset=0,this.per_page=10,this.lastFilters={}}ngOnInit(){this.date.valueChanges.pipe((0,v.a)(this.destroy$)).subscribe({next:n=>{this.turn.setValue(null),n?this.turn.disabled&&this.turn.enable():this.turn.disable(),this.dateStr.set(this.formatDate(n))},error:n=>console.error(n)}),[this.date,this.turn,this.status].map(n=>{n.valueChanges.pipe((0,v.a)(this.destroy$),(0,q.a)(),(0,tt.I)(()=>n.valid)).subscribe({next:()=>{this.offset=0,this.filtersMayHaveChanged()}})}),[this.query].map(n=>{n.valueChanges.pipe((0,v.a)(this.destroy$),(0,q.a)(),(0,oe.o)(500),(0,tt.I)(()=>n.valid)).subscribe({next:()=>{this.offset=0,this.filtersMayHaveChanged()}})})}ngAfterViewInit(){this.emitCurrentFilters()}submit(){this.emitCurrentFilters()}mergeFilters(n){}setFilters(n){}currentFilters(){const n={};if("string"==typeof this.query.value&&this.query.valid&&this.query.value.length>0&&(n.query=this.query.value),this.date.value instanceof Date&&this.date.valid){const o=this.datePipe.transform(this.date.value,"YYYY-MM-dd"),a=this.turn.value;this.turn.valid&&a instanceof ne.e&&a.starts_at&&a.ends_at?(n.datetime_from=`${o} ${(0,at.ye)(a.starts_at)}`,n.datetime_to=`${o} ${(0,at.ye)(a.ends_at)}`):o&&(n.date=o)}return"string"==typeof this.status.value&&this.status.valid&&(n.status=this.status.value),n}paginationChange(n){this.offset=n.page,this.per_page=n.size,this.filtersMayHaveChanged()}filtersMayHaveChanged(){const n=this.currentFilters(),o=JSON.stringify(n)!==JSON.stringify(this.lastFilters);return o&&(this.lastFilters=n,this.emitCurrentFilters()),o}formatDate(n){return n instanceof Date?this.datePipe.transform(n,"YYYY-MM-dd"):null}emitCurrentFilters(){this.filtersChanged.emit(this.currentFilters())}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-list-reservations-filters"]],inputs:{loading:"loading",data:"data",inputSize:"inputSize"},outputs:{filtersChanged:"filtersChanged"},standalone:!0,features:[t.M5G([d.UF]),t.UHJ],ngContentSelectors:se,decls:35,vars:16,consts:()=>{let n,o,a,l,R,b;return n="Filter bookings",o="Create reservation",a="State",l="Shift",R="Data",b="Export reservations",[[1,"flex","sm:flex-col"],[1,"flex","items-center","mb-2"],["type","button","tuiIconButton","","appearance","flat",1,"me-2",3,"showLoader","click"],[1,"!inline-block","min-w-[250px]","me-2",3,"tuiAutoFocus","formControl"],n,["tuiTextfield",""],["routerLink","new","tuiLink",""],[1,"flex","items-center"],o,[1,"flex","items-center","justify-between"],[3,"inputSize","formControl"],a,[1,"mx-2",2,"min-width","150px",3,"filters","inputSize","formControl"],l,R,[1,"my-2",3,"items","total","paginationChange"],["routerLink","export","tuiLink",""],b,[3,"showLoader","filters"]]},template:function(o,a){if(1&o&&(t.kPM(),t.I0R(0,"div",0)(1,"div",1)(2,"button",2),t.qCj("click",function(){return a.submit()}),t.I0R(3,"mat-icon"),t.OEk(4,"search"),t.C$Y()(),t.I0R(5,"tui-input",3),t.SAx(6),t.aS0(7,4),t.k70(),t.wR5(8,"input",5),t.C$Y(),t.I0R(9,"a",6)(10,"span",7)(11,"mat-icon"),t.OEk(12,"add"),t.C$Y(),t.SAx(13),t.aS0(14,8),t.k70(),t.C$Y()()(),t.I0R(15,"div",9)(16,"app-reservation-status-select",10),t.SAx(17),t.aS0(18,11),t.k70(),t.C$Y(),t.I0R(19,"app-reservation-turn-select",12),t.SAx(20),t.aS0(21,13),t.k70(),t.C$Y(),t.I0R(22,"app-reservation-date-select",10),t.SAx(23),t.aS0(24,14),t.k70(),t.C$Y()()(),t._Xx(25),t.I0R(26,"tui-table-pagination",15),t.qCj("paginationChange",function(R){return a.paginationChange(R)}),t.C$Y(),t.I0R(27,"div",1)(28,"a",16)(29,"span",7)(30,"mat-icon"),t.OEk(31,"download_file"),t.C$Y(),t.SAx(32),t.aS0(33,17),t.k70(),t.C$Y()()(),t.yuY(34,ae,1,4,"app-reservation-tables-summary",18)),2&o){let l;t.yG2(2),t.E7m("showLoader",a.loading),t.yG2(3),t.E7m("tuiAutoFocus",!0)("formControl",a.query),t.yG2(11),t.E7m("inputSize",a.inputSize)("formControl",a.status),t.yG2(3),t.E7m("filters",t.S45(13,_t,a.dateStr()))("inputSize",a.inputSize)("formControl",a.turn),t.yG2(3),t.E7m("inputSize",a.inputSize)("formControl",a.date),t.yG2(4),t.E7m("items",t.q4q(15,_e))("total",null!==(l=null==a.data||null==a.data.metadata?null:a.data.metadata.total_count)&&void 0!==l?l:0),t.yG2(8),t.C0Y(34,a.dateStr()?34:-1)}},dependencies:[m.CI,m.Kw,A.qL,C.CQ,C.Oo,C.cP,k.b,c.m6,c.gJ,s.w,s.C,h.ER,Zt.Y,it,ee,G.yy,G.Ws,r.sl,r.ue,r.ug,ie.u],encapsulation:2,changeDetection:0})}return e})();var le=i(21220),st=i(81800),ce=i(74680),ue=i(82064);const me=(e,_)=>({rotate180:e,"text-slate-200 hover:text-slate-400":_}),pe=["*"];let Ee=(()=>{class e extends st.GG{constructor(n,o,a){super(n,o),this.modeDirective=a,this.hint=ue.$localize`Clicca per ordinare gli elementi`,this.focused=!1,this.nativeFocusableElement=null}trigger(){if(this.item){if(!this.value||this.value?.field!==this.item)return void(this.value={field:this.item,asc:!0});if(this.isCurrent&&!this.isAsc)return void(this.value=null);this.value={field:this.item,asc:!this.value?.asc}}}get isAsc(){return this.value?.asc??!1}get isCurrent(){return this.value?.field===this.item}static#t=this.\u0275fac=function(o){return new(o||e)(t.GI1(r.eq,10),t.GI1(t.kD9),t.GI1(le.Y,8))};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-order-by"]],inputs:{item:"item",hint:"hint"},standalone:!0,features:[t.M5G([(0,ce.NK)(e),(0,st.q4)(e)]),t.eg9,t.UHJ],ngContentSelectors:pe,decls:6,vars:5,consts:[["role","button",1,"inline-block",3,"click"],[1,"flex","items-center",3,"tuiHint"],["tuiIconButton","","type","button","role","button","size","s","appearance","custom"],[1,"animation-speed-2",3,"ngClass"]],template:function(o,a){1&o&&(t.kPM(),t.I0R(0,"div",0),t.qCj("click",function(){return a.trigger()}),t.I0R(1,"div",1),t._Xx(2),t.I0R(3,"button",2)(4,"mat-icon",3),t.OEk(5,"expand_more "),t.C$Y()()()()),2&o&&(t.yG2(),t.E7m("tuiHint",a.hint),t.yG2(3),t.E7m("ngClass",t.IBC(2,me,a.isCurrent&&!a.isAsc,!a.isCurrent)))},dependencies:[A.qL,u.QF,m.CI,m.Kw,g.WY,g.lh,g.SL,g.i6,g.IT],encapsulation:2,changeDetection:0})}return e})();var rt=i(10466),de=i(30220);let Te=(()=>{class e{constructor(){this.human={email_open:de.$localize`Email aperta`}}transform(n){return null==n?null:this.human[n]??null}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275pipe=t.UTH({name:"humanizeEventType",type:e,pure:!0,standalone:!0})}return e})();var J=i(7376);function Ce(e,_){1&e&&(t.SAx(0),t.aS0(1,3),t.k70())}const ge=(e,_)=>({"text-blue-500":e,"text-slate-500":_}),Se=e=>({rotate180:e});function Re(e,_){if(1&e&&(t.I0R(0,"tui-hosted-dropdown",1,4)(2,"button",5)(3,"span",6)(4,"span",7),t.OEk(5),t.C$Y(),t.I0R(6,"mat-icon",8),t.OEk(7,"mail"),t.C$Y(),t.I0R(8,"mat-icon",9),t.OEk(9,"expand_more"),t.C$Y()()()()),2&e){const n=t.Gew(1),o=t.GaO(),a=t.Gew(4);t.E7m("content",a),t.yG2(5),t.cNF(o.emails().length),t.yG2(),t.E7m("ngClass",t.IBC(4,ge,o.emailOpenAtLeastOnce(),!o.emailOpenAtLeastOnce())),t.yG2(2),t.E7m("ngClass",t.S45(7,Se,n.open))}}const nt=(e,_)=>_.id;function fe(e,_){if(1&e&&(t.I0R(0,"span",19),t.OEk(1),t.wVc(2,"json"),t.C$Y()),2&e){const n=t.GaO().$implicit;t.yG2(),t.cNF(t.kDX(2,1,n.event_data))}}function Oe(e,_){if(1&e&&(t.I0R(0,"li")(1,"span",6)(2,"span",7),t.OEk(3),t.wVc(4,"humanizeEventType"),t.C$Y(),t.I0R(5,"span",7),t.OEk(6),t.wVc(7,"date"),t.C$Y(),t.yuY(8,fe,3,3,"span",18),t.C$Y()()),2&e){const n=_.$implicit,o=t.GaO().$implicit;t.yG2(3),t.cNF(t.kDX(4,3,o.event_type)),t.yG2(3),t.cNF(t.g7$(7,5,n.event_time,"EEEE d MMMM y, H:m")),t.yG2(2),t.C0Y(8,n.event_data?8:-1)}}function he(e,_){1&e&&t.c53(0,Oe,9,8,"li",null,nt),2&e&&t.oho(_.$implicit.events)}function Ie(e,_){if(1&e&&(t.I0R(0,"div",14)(1,"div",15)(2,"span",16),t.OEk(3),t.C$Y(),t.I0R(4,"b",7),t.aS0(5,17),t.C$Y(),t.I0R(6,"span"),t.OEk(7),t.wVc(8,"date"),t.C$Y()()(),t.I0R(9,"ul"),t.c53(10,he,2,0,null,null,nt),t.C$Y()),2&e){const n=_.$implicit;t.yG2(3),t.oRS("#",n.id,""),t.yG2(4),t.cNF(t.g7$(8,2,n.created_at,"EEEE d MMMM y, H:m")),t.yG2(3),t.oho(n.image_pixels)}}function Ne(e,_){1&e&&(t.SAx(0),t.aS0(1,20),t.k70())}function Me(e,_){1&e&&(t.SAx(0),t.aS0(1,21),t.k70())}function ve(e,_){if(1&e){const n=t.KQA();t.I0R(0,"div",11),t.c53(1,Ie,12,5,null,null,nt),t.I0R(3,"button",12),t.qCj("click",function(){t.usT(n);const a=t.GaO(2);return t.CGJ(a.resendEmail())}),t.I0R(4,"span",6)(5,"span",13),t.yuY(6,Ne,2,0,"ng-container")(7,Me,2,0),t.C$Y(),t.I0R(8,"mat-icon"),t.OEk(9,"send"),t.C$Y()()()()}if(2&e){const n=t.GaO(2);t.yG2(),t.oho(n.emails()),t.yG2(2),t.E7m("showLoader",n.loading())("appearance","outline")("disabled",!(n.reservation.email&&n.reservation.email.length>0)),t.yG2(3),t.C0Y(6,n.emails().length>0?6:7)}}function ye(e,_){if(1&e&&t.yuY(0,ve,10,4,"div",10),2&e){const n=t.GaO();t.C0Y(0,n.reservation?0:-1)}}let Ae=(()=>{class e{constructor(){this.service=(0,t.uUt)(Y.S),this.notifications=(0,t.uUt)(P.E),this.destroy$=(0,t.uUt)(d.UF),this.emails=(0,t.OCB)([]),this.loading=(0,t.OCB)(!1),this.emailOpenAtLeastOnce=(0,t.S6b)(()=>{const n=this.emails();let o=!1;return n.forEach(a=>{a.image_pixels?.forEach(l=>{"email_open"===l.event_type&&l.events&&l.events.length>0&&(o=!0)})}),o})}resendEmail(){const n=this.reservation?.id;n&&(this.loading.set(!0),this.service.deliverConfirmationEmail(n).pipe((0,v.a)(this.destroy$),(0,L.U)(()=>this.loading.set(!1))).subscribe({next:o=>{this.notifications.fireSnackBar(J.$localize`Email inviata`),this.setEmailsByReservation(o)},error:o=>{this.notifications.error((0,D.mk)(o)??J.$localize`Qualcosa è andato storto. Riprova più tardi.`)}}))}ngOnChanges(n){n.reservation&&this.setEmailsByReservation(n.reservation.currentValue)}setEmailsByReservation(n){this.emails.set(n?.delivered_emails??[])}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-reservation-events"]],inputs:{reservation:"reservation"},standalone:!0,features:[t.SYr,t.UHJ],decls:5,vars:1,consts:()=>{let n,o,a,l;return n=J.$localize`Invia conferma prenotazione`,o=J.$localize`Email inviata`,a=J.$localize`Rimanda email di conferma`,l=J.$localize`Invia email di conferma`,[["resendHint",""],[3,"content"],["allEvents",""],n,["dropdown",""],["tuiButton","","appearance","custom","size","s","type","button"],[1,"flex","items-center"],[1,"me-1"],[1,"text-slate-500",3,"ngClass"],[1,"text-slate-500","animation-speed-2",3,"ngClass"],["class","p-3"],[1,"p-3"],["type","button","tuiButton","","size","s",3,"showLoader","appearance","disabled","click"],[1,"me-2"],[1,"flex","flex-col"],[1,"flex"],[1,"text-slate-400","me-1"],o,["class","text-slate-400"],[1,"text-slate-400"],a,l]},template:function(o,a){1&o&&t.yuY(0,Ce,2,0,"ng-template",null,0,t.gJz)(2,Re,10,9,"tui-hosted-dropdown",1)(3,ye,1,1,"ng-template",null,2,t.gJz),2&o&&(t.yG2(2),t.C0Y(2,a.reservation?2:-1))},dependencies:[m.CI,m.Kw,A.qL,g.WY,rt.GE,rt.Qw,u.y,u.ED,Te,u.QF],encapsulation:2})}return e})();const $e=["phoneTo",""];function Ge(e,_){1&e&&(t.I0R(0,"mat-icon",3),t.OEk(1,"chat"),t.C$Y())}function Pe(e,_){1&e&&(t.I0R(0,"mat-icon",3),t.OEk(1,"call"),t.C$Y())}const xe=["*"];let Le=(()=>{class e{constructor(){this.whatsapp=!1}ngOnChanges(){this.href=this.whatsapp?`https://wa.me/${this.phoneTo}`:`tel:${this.phoneTo}`}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["","phoneTo",""]],inputs:{phoneTo:"phoneTo",whatsapp:"whatsapp"},standalone:!0,features:[t.SYr,t.UHJ],attrs:$e,ngContentSelectors:xe,decls:5,vars:2,consts:[["target","_blank","tuiLink","",3,"href"],[1,"flex","items-center"],["class","ms-1"],[1,"ms-1"]],template:function(o,a){1&o&&(t.kPM(),t.I0R(0,"a",0)(1,"span",1),t._Xx(2),t.yuY(3,Ge,2,0,"mat-icon",2)(4,Pe,2,0),t.C$Y()()),2&o&&(t._6D("href",a.href,t.K6U),t.yG2(3),t.C0Y(3,a.whatsapp?3:4))},dependencies:[s.w,s.C,A.qL],changeDetection:0})}return e})();const Ye=["mailTo",""],De=["*"];let be=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["","mailTo",""]],inputs:{mailTo:"mailTo"},standalone:!0,features:[t.UHJ],attrs:Ye,ngContentSelectors:De,decls:3,vars:1,consts:[["target","_blank","tuiLink","",3,"href"],[1,"flex","items-center"]],template:function(o,a){1&o&&(t.kPM(),t.I0R(0,"a",0)(1,"span",1),t._Xx(2),t.C$Y()()),2&o&&t.CI5("href","mailto:",a.mailTo,"",t.K6U)},dependencies:[s.w,s.C],changeDetection:0})}return e})();function Ve(e,_){if(1&e&&(t.I0R(0,"p"),t.OEk(1),t.SAx(2),t.aS0(3,2),t.k70(),t.C$Y(),t.I0R(4,"p"),t.OEk(5),t.SAx(6),t.aS0(7,3),t.k70(),t.C$Y()),2&e){const n=t.GaO();let o,a;t.yG2(),t.oRS(" ",null!==(o=n.adults)&&void 0!==o?o:0," "),t.yG2(4),t.oRS(" ",null!==(a=n.children)&&void 0!==a?a:0," ")}}function ze(e,_){if(1&e&&(t.I0R(0,"span"),t.OEk(1),t.C$Y(),t.I0R(2,"mat-icon"),t.OEk(3,"person2"),t.C$Y()),2&e){const n=t.GaO();t.yG2(),t.cNF(n.adults)}}function Fe(e,_){if(1&e&&(t.I0R(0,"span"),t.OEk(1),t.C$Y(),t.I0R(2,"mat-icon"),t.OEk(3,"child_care"),t.C$Y()),2&e){const n=t.GaO();t.yG2(),t.cNF(n.children)}}function ke(e,_){1&e&&t.OEk(0," ??? ")}let we=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-reservation-people"]],inputs:{adults:"adults",children:"children"},standalone:!0,features:[t.UHJ],decls:6,vars:4,consts:()=>{let n,o;return n="Adults",o="Children",[["hint",""],[1,"flex","items-center",3,"tuiHint"],n,o]},template:function(o,a){if(1&o&&(t.yuY(0,Ve,8,2,"ng-template",null,0,t.gJz),t.I0R(2,"div",1),t.yuY(3,ze,4,1)(4,Fe,4,1)(5,ke,1,0),t.C$Y()),2&o){const l=t.Gew(1);t.yG2(2),t.E7m("tuiHint",l),t.yG2(),t.C0Y(3,a.adults&&a.adults>0?3:-1),t.yG2(),t.C0Y(4,a.children&&a.children>0?4:-1),t.yG2(),t.C0Y(5,a.adults&&a.adults>0||a.children&&a.children>0?-1:5)}},dependencies:[A.qL,g.WY,g.lh,g.SL,g.i6,g.IT],encapsulation:2})}return e})();var Ue=i(14476),He=i(58640),Xe=i(98016),Be=i(13040);function Ke(e,_){if(1&e&&(t.I0R(0,"p"),t.OEk(1,"Link per completare il pagamento:"),t.C$Y(),t.I0R(2,"div",3)(3,"a",4),t.OEk(4),t.C$Y(),t.wR5(5,"app-copy-content",5),t.C$Y()),2&e){const n=t.GaO(2);let o,a,l;t.yG2(3),t._6D("href",null==(o=n.payment())?null:o.hpp_url,t.K6U),t.yG2(),t.cNF(null==(a=n.payment())?null:a.hpp_url),t.yG2(),t.E7m("content",null==(l=n.payment())?null:l.hpp_url)}}function Je(e,_){1&e&&(t.I0R(0,"span",6),t.aS0(1,7),t.C$Y())}function We(e,_){1&e&&(t.I0R(0,"span",6),t.aS0(1,8),t.C$Y())}const je=e=>({"text-danger border-danger":e});function Qe(e,_){if(1&e){const n=t.KQA();t.yuY(0,Ke,6,3,"ng-template",null,0,t.gJz),t.I0R(2,"div",1),t.qCj("click",function(){t.usT(n);const a=t.Gew(1),l=t.GaO();return t.CGJ(l.showDialog(a))}),t.yuY(3,Je,2,0,"span",2)(4,We,2,0),t.C$Y()}if(2&e){const n=t.GaO();t.yG2(2),t.E7m("ngClass",t.S45(2,je,!n.paid())),t.yG2(),t.C0Y(3,n.paid()?3:4)}}let Ze=(()=>{class e{constructor(){this.dialogs=(0,t.uUt)(Xe._k),this.reservation=(0,t.OCB)(null),this.payment=(0,t.OCB)(null),this.paid=(0,t.S6b)(()=>"paid"===this.payment()?.status),this.loading=(0,t.OCB)(!1)}set reservationValue(n){this.reservation.set(n),this.payment.set(n?.payment||null)}showDialog(n){this.dialogs.open(n).subscribe()}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-admin-reservation-payment"]],inputs:{reservationValue:[t.Wk5.None,"reservation","reservationValue"]},standalone:!0,features:[t.UHJ],decls:1,vars:1,consts:()=>{let n,o;return n="Paid",o="Unpaid",[["modalTemplate",""],[1,"border","flex","items-center","px-3","py-2","justify-center","rounded-lg","border-slate-400",3,"ngClass","click"],["class","text-center text-nowrap"],[1,"flex","items-center","justify-center"],["tuiLink","",1,"me-2",3,"href"],[3,"content"],[1,"text-center","text-nowrap"],n,o]},template:function(o,a){1&o&&t.yuY(0,Qe,5,4),2&o&&t.C0Y(0,a.payment()?0:-1)},dependencies:[m.CI,u.QF,Be.M,s.w,s.C],changeDetection:0})}return e})();var x=i(93520);function qe(e,_){1&e&&(t.SAx(0),t.aS0(1,12),t.k70())}function tn(e,_){1&e&&(t.SAx(0),t.aS0(1,13),t.k70())}function en(e,_){1&e&&(t.SAx(0),t.aS0(1,14),t.k70())}function nn(e,_){1&e&&(t.SAx(0),t.aS0(1,15),t.k70())}function on(e,_){1&e&&(t.SAx(0),t.aS0(1,16),t.k70())}function an(e,_){1&e&&(t.SAx(0),t.aS0(1,17),t.k70())}function _n(e,_){1&e&&(t.SAx(0),t.aS0(1,18),t.k70())}function sn(e,_){1&e&&(t.SAx(0),t.aS0(1,19),t.k70())}function rn(e,_){if(1&e&&(t.I0R(0,"app-no-items",20)(1,"h4"),t.aS0(2,21),t.C$Y(),t.I0R(3,"span"),t.aS0(4,22),t.C$Y()()),2&e){const n=t.GaO();t.E7m("showLoader",n.loading())}}const ln=(e,_)=>_.id;function cn(e,_){1&e&&t.C_f(0)}function un(e,_){1&e&&t.C_f(0)}function mn(e,_){1&e&&t.C_f(0)}function pn(e,_){1&e&&t.C_f(0)}function En(e,_){1&e&&t.C_f(0)}function dn(e,_){1&e&&t.C_f(0)}function Tn(e,_){1&e&&t.C_f(0)}function Cn(e,_){1&e&&t.C_f(0)}function gn(e,_){if(1&e&&(t.OEk(0),t.wVc(1,"date")),2&e){const n=t.GaO().$implicit;t.oRS(" ",t.g7$(1,1,n.datetime,"full")," ")}}function Sn(e,_){1&e&&t.C_f(0)}function Rn(e,_){1&e&&t.C_f(0)}function fn(e,_){1&e&&t.C_f(0)}function On(e,_){1&e&&t.C_f(0)}function hn(e,_){1&e&&t.C_f(0)}function In(e,_){1&e&&t.C_f(0)}function Nn(e,_){if(1&e&&(t.I0R(0,"p",32),t.OEk(1),t.C$Y()),2&e){const n=t.GaO().$implicit;t.E7m("phoneTo",n.phone)("whatsapp",!0),t.yG2(),t.cNF(n.phone)}}function Mn(e,_){if(1&e&&(t.I0R(0,"p",33),t.OEk(1),t.C$Y()),2&e){const n=t.GaO().$implicit;t.E7m("mailTo",n.email),t.yG2(),t.cNF(n.email)}}function vn(e,_){if(1&e){const n=t.KQA();t.I0R(0,"tr")(1,"td")(2,"span",27),t.yuY(3,Cn,1,0,"ng-container",26),t.C$Y(),t.yuY(4,gn,2,4,"ng-template",null,28,t.gJz),t.I0R(6,"span",29),t.OEk(7),t.wVc(8,"date"),t.C$Y()(),t.I0R(9,"td")(10,"span",27),t.yuY(11,Sn,1,0,"ng-container",26),t.C$Y(),t.I0R(12,"span"),t.OEk(13),t.C$Y()(),t.I0R(14,"td")(15,"span",27),t.yuY(16,Rn,1,0,"ng-container",26),t.C$Y(),t.wR5(17,"app-reservation-people",30),t.C$Y(),t.I0R(18,"td")(19,"span",27),t.yuY(20,fn,1,0,"ng-container",26),t.C$Y(),t.I0R(21,"span"),t.OEk(22),t.C$Y()(),t.I0R(23,"td")(24,"span",27),t.yuY(25,On,1,0,"ng-container",26),t.C$Y(),t.I0R(26,"span"),t.OEk(27),t.C$Y()(),t.I0R(28,"td")(29,"span",27),t.yuY(30,hn,1,0,"ng-container",26),t.C$Y(),t.I0R(31,"span"),t.OEk(32),t.C$Y(),t.wR5(33,"app-admin-reservation-payment",31),t.C$Y(),t.I0R(34,"td")(35,"span",27),t.yuY(36,In,1,0,"ng-container",26),t.C$Y(),t.yuY(37,Nn,2,3,"p",32)(38,Mn,2,2,"p",33),t.C$Y(),t.I0R(39,"td")(40,"div",34),t.wR5(41,"app-reservation-events",35),t.I0R(42,"a",36)(43,"mat-icon"),t.OEk(44,"edit"),t.C$Y()(),t.I0R(45,"button",37),t.qCj("click",function(){const l=t.usT(n).$implicit,R=t.GaO(2);return t.CGJ(R.delete(l.id))}),t.I0R(46,"mat-icon"),t.OEk(47,"delete"),t.C$Y()()()()()}if(2&e){const n=_.$implicit,o=t.Gew(5);t.GaO(2);const a=t.Gew(4),l=t.Gew(6),R=t.Gew(10),b=t.Gew(12),z=t.Gew(14),W=t.Gew(16),Q=t.Gew(18);t.yG2(3),t.E7m("ngTemplateOutlet",a),t.yG2(3),t.E7m("tuiHint",o),t.yG2(),t.oRS(" ",t.g7$(8,20,n.datetime,"HH:mm")," "),t.yG2(4),t.E7m("ngTemplateOutlet",l),t.yG2(2),t.cNF(n.fullname),t.yG2(3),t.E7m("ngTemplateOutlet",R),t.yG2(),t.E7m("adults",n.adults)("children",n.children),t.yG2(3),t.E7m("ngTemplateOutlet",b),t.yG2(2),t.cNF(n.status),t.yG2(3),t.E7m("ngTemplateOutlet",z),t.yG2(2),t.cNF(n.table),t.yG2(3),t.E7m("ngTemplateOutlet",W),t.yG2(2),t.cNF(n.notes),t.yG2(),t.E7m("reservation",n),t.yG2(3),t.E7m("ngTemplateOutlet",Q),t.yG2(),t.C0Y(37,n.phone&&n.phone.length>0?37:-1),t.yG2(),t.C0Y(38,n.email&&n.email.length>0?38:-1),t.yG2(3),t.E7m("reservation",n),t.yG2(),t._6D("routerLink",n.id)}}function yn(e,_){if(1&e&&(t.I0R(0,"table",23)(1,"thead")(2,"tr")(3,"th",24)(4,"app-order-by",25),t.yuY(5,cn,1,0,"ng-container",26),t.C$Y()(),t.I0R(6,"th",24)(7,"app-order-by",25),t.yuY(8,un,1,0,"ng-container",26),t.C$Y()(),t.I0R(9,"th",24)(10,"app-order-by",25),t.yuY(11,mn,1,0,"ng-container",26),t.C$Y()(),t.I0R(12,"th",24)(13,"app-order-by",25),t.yuY(14,pn,1,0,"ng-container",26),t.C$Y()(),t.I0R(15,"th",24)(16,"app-order-by",25),t.yuY(17,En,1,0,"ng-container",26),t.C$Y()(),t.I0R(18,"th",24)(19,"app-order-by",25),t.yuY(20,dn,1,0,"ng-container",26),t.C$Y()(),t.I0R(21,"th",24),t.yuY(22,Tn,1,0,"ng-container",26),t.C$Y(),t.wR5(23,"th"),t.C$Y()(),t.I0R(24,"tbody"),t.c53(25,vn,48,23,"tr",null,ln),t.C$Y()()),2&e){const n=t.GaO(),o=t.Gew(4),a=t.Gew(6),l=t.Gew(10),R=t.Gew(12),b=t.Gew(14),z=t.Gew(16),W=t.Gew(18);t.yG2(4),t.E7m("item","datetime")("formControl",n.order),t.yG2(),t.E7m("ngTemplateOutlet",o),t.yG2(2),t.E7m("item","fullname")("formControl",n.order),t.yG2(),t.E7m("ngTemplateOutlet",a),t.yG2(2),t.E7m("item","people")("formControl",n.order),t.yG2(),t.E7m("ngTemplateOutlet",l),t.yG2(2),t.E7m("item","status")("formControl",n.order),t.yG2(),t.E7m("ngTemplateOutlet",R),t.yG2(2),t.E7m("item","table")("formControl",n.order),t.yG2(),t.E7m("ngTemplateOutlet",b),t.yG2(2),t.E7m("item","notes")("formControl",n.order),t.yG2(),t.E7m("ngTemplateOutlet",z),t.yG2(2),t.E7m("ngTemplateOutlet",W),t.yG2(3),t.oho(n.items())}}let An=(()=>{class e{constructor(){this.loading=(0,t.OCB)(!1),this.data=(0,t.OCB)(null),this.items=(0,t.S6b)(()=>this.data()?.items||[]),this.service=(0,t.uUt)(Y.S),this.notifications=(0,t.uUt)(P.E),this.date=(0,t.uUt)(u.y),this.destroy$=(0,t.uUt)(d.UF),this._=(0,t.uUt)(Ue.OY).setTitle(x.$localize`Prenotazioni | La Porta D'Acqua`),this.inputSize="m",this.defaultOrder={field:"datetime",asc:!0},this.filters={},this.order=new r.Ku(null)}ngOnInit(){this.order.valueChanges.subscribe({next:n=>{this.search()}})}delete(n){n&&this.notifications.confirm(x.$localize`Sei sicuro di voler cancellare questa prenotazione?`).subscribe({next:o=>{o&&this.confirmedDelete(n)}})}filtersChanged(n){this.filters=n,this.search(n)}confirmedDelete(n){this.loading.set(!0),this.service.destroy(n).pipe((0,v.a)(this.destroy$),(0,L.U)(()=>{this.loading.set(!1),this.search()})).subscribe({error:o=>{this.notifications.error((0,D.mk)(o)||x.$localize`Qualcosa è andato storto nella cancellazione.`)}})}search(n=this.filters){n||={},n={...n};const o=this.order.value;this.order.valid&&o&&(n.order_by_field=o.field,n.order_by_direction=o.asc?"ASC":"DESC"),this.loading.set(!0),this.service.search(n).pipe((0,v.a)(this.destroy$),(0,L.U)(()=>this.loading.set(!1))).subscribe({next:a=>{this.data.set(a)},error:a=>{this.notifications.error((0,D.mk)(a)||x.$localize`Qualcosa è andato storto nella ricerca.`),console.error(a)}})}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-admin-reservations-home"]],viewQuery:function(o,a){if(1&o&&t.CC$(it,7),2&o){let l;t.wto(l=t.Gqi())&&(a.turnSelect=l.first)}},standalone:!0,features:[t.M5G([d.UF]),t.UHJ],decls:24,vars:4,consts:()=>{let n,o,a,l,R,b,z,W,Q,lt,ct;return n=x.$localize`Prenotazioni`,o=x.$localize`Orario`,a=x.$localize`Nome`,l=x.$localize`Email`,R=x.$localize`N°`,b=x.$localize`Stato`,z=x.$localize`Tavolo`,W=x.$localize`Note`,Q=x.$localize`Contatti`,lt=x.$localize`Nessuna prenotazione`,ct=x.$localize`Prova a modificare i filtri di ricerca`,[n,["datetimeCol",""],["nameCol",""],["emailCol",""],["peopleCol",""],["statusCol",""],["tableCol",""],["detailsCol",""],["contactsCol",""],["noItems",""],[3,"loading","data","filtersChanged"],["class","responsive-table collapse-md",4,"ngIf","ngIfElse"],o,a,l,R,b,z,W,Q,[3,"showLoader"],lt,ct,[1,"responsive-table","collapse-md"],[1,"text-start"],[3,"item","formControl"],[4,"ngTemplateOutlet"],[1,"collapse-header"],["detailDatetime",""],[3,"tuiHint"],[3,"adults","children"],[3,"reservation"],[3,"phoneTo","whatsapp"],[3,"mailTo"],[1,"flex","items-baseline"],[1,"my-auto",3,"reservation"],["size","m","tuiIconButton","","appearance","flat",1,"me-1",3,"routerLink"],["size","m","type","button","tuiIconButton","","appearance","secondary-destructive",3,"click"]]},template:function(o,a){if(1&o&&(t.I0R(0,"h1"),t.SAx(1),t.aS0(2,0),t.k70(),t.C$Y(),t.yuY(3,qe,2,0,"ng-template",null,1,t.gJz)(5,tn,2,0,"ng-template",null,2,t.gJz)(7,en,2,0,"ng-template",null,3,t.gJz)(9,nn,2,0,"ng-template",null,4,t.gJz)(11,on,2,0,"ng-template",null,5,t.gJz)(13,an,2,0,"ng-template",null,6,t.gJz)(15,_n,2,0,"ng-template",null,7,t.gJz)(17,sn,2,0,"ng-template",null,8,t.gJz)(19,rn,5,1,"ng-template",null,9,t.gJz),t.I0R(21,"app-list-reservations-filters",10),t.qCj("filtersChanged",function(R){return a.filtersChanged(R)}),t.yuY(22,yn,27,19,"table",11),t.C$Y(),t.wR5(23,"router-outlet")),2&o){const l=t.Gew(20);t.yG2(21),t.E7m("loading",a.loading())("data",a.data()),t.yG2(),t.E7m("ngIf",a.loading()||a.items().length>0)("ngIfElse",l)}},dependencies:[u.MD,u.u_,u.XV,u.y,r.sl,r.ue,r.ug,C.CQ,c.m6,m.CI,m.Kw,A.qL,h.ER,s.w,h.cP,G.yy,g.WY,g.lh,g.SL,g.i6,g.IT,re,Ee,Ae,Le,be,we,He.O,M.Sk,Ze],encapsulation:2,changeDetection:0})}return e})()},4592:(V,f,i)=>{"use strict";i.d(f,{u:()=>X});var t=i(54496),u=i(83480),r=i(28304),C=i(53616),d=i(68824),c=i(27692),m=i(45656);let s=(()=>{class E{transform(S){return null==S||"object"!=typeof S||Array.isArray(S)?[]:Object.keys(S).map(I=>[I,S[I]])}static#t=this.\u0275fac=function(I){return new(I||E)};static#e=this.\u0275pipe=t.UTH({name:"objectToArray",type:E,pure:!0,standalone:!0})}return E})();function g(E,$){if(1&E&&t.wR5(0,"tui-loader",0),2&E){const S=t.GaO();t.E7m("showLoader",S.showLoader)("size","s")}}const M=(E,$)=>$.turn.id;function A(E,$){1&E&&t._Xx(0)}const h=(E,$)=>$[0];function G(E,$){1&E&&t.OEk(0,"Quante persone ci sono al tavolo in questione")}function P(E,$){if(1&E&&(t.I0R(0,"th",4),t.OEk(1),t.I0R(2,"span"),t.aS0(3,11),t.C$Y()()),2&E){const S=$.$implicit;t.yG2(),t.oRS(" ",S[0]," ")}}function v(E,$){1&E&&t.OEk(0,"Quanti tavoli con lo stesso numero di persone")}function L(E,$){if(1&E&&(t.I0R(0,"td",8)(1,"span"),t.OEk(2),t.C$Y()()),2&E){const S=$.$implicit;t.yG2(2),t.cNF(S[1])}}function D(E,$){if(1&E&&(t.I0R(0,"p",1)(1,"b"),t.OEk(2),t.C$Y()(),t.I0R(3,"table",2)(4,"thead")(5,"tr",3)(6,"th",4),t.yuY(7,G,1,0,"ng-template",null,5,t.gJz),t.I0R(9,"span",6),t.aS0(10,7),t.C$Y()(),t.c53(11,P,4,1,"th",12,h),t.wVc(13,"objectToArray"),t.C$Y()(),t.I0R(14,"tbody")(15,"tr",3)(16,"td",8),t.yuY(17,v,1,0,"ng-template",null,9,t.gJz),t.I0R(19,"span",6),t.aS0(20,10),t.C$Y()(),t.c53(21,L,3,1,"td",13,h),t.wVc(23,"objectToArray"),t.C$Y()()()),2&E){const S=$.$implicit,I=t.Gew(8),k=t.Gew(18);t.yG2(2),t.cNF(S.turn.name),t.yG2(7),t.E7m("tuiHint",I),t.yG2(2),t.oho(t.kDX(13,3,S.summary)),t.yG2(8),t.E7m("tuiHint",k),t.yG2(2),t.oho(t.kDX(23,5,S.summary))}}const Y=()=>[];function B(E,$){if(1&E&&(t.yuY(0,A,1,0),t.c53(1,D,24,7,null,null,M)),2&E){const S=t.GaO();t.C0Y(0,(S.data()||t.q4q(1,Y)).length>0?0:-1),t.yG2(),t.oho(S.data())}}const F=["*"];let X=(()=>{class E{constructor(){this.destroy$=(0,t.uUt)(u.UF),this.service=(0,t.uUt)(r.S),this.data=(0,t.OCB)(null),this.loading=(0,t.OCB)(!1),this.showLoader=!0,this.filters=null}ngOnChanges(){this.query()}query(){this.loading.set(!0),this.service.tablesSummary(this.filters??{}).pipe((0,C.a)(this.destroy$),(0,d.U)(()=>this.loading.set(!1))).subscribe({next:S=>{this.data.set(S)}})}static#t=this.\u0275fac=function(I){return new(I||E)};static#e=this.\u0275cmp=t.In1({type:E,selectors:[["app-reservation-tables-summary"]],inputs:{showLoader:"showLoader",filters:"filters"},standalone:!0,features:[t.M5G([u.UF]),t.SYr,t.UHJ],ngContentSelectors:F,decls:2,vars:1,consts:()=>{let S,I,k;return S="Type:",I="Quantity:",k="people",[[3,"showLoader","size"],[1,"font-xl"],[1,"tui-table"],[1,"tui-table__tr","tui-table__tr_border_none"],[1,"tui-table__th"],["headerExplain",""],[3,"tuiHint"],S,[1,"tui-table__td"],["valueExplain",""],I,k,["class","tui-table__th"],["class","tui-table__td"]]},template:function(I,k){1&I&&(t.kPM(),t.yuY(0,g,1,2,"tui-loader",0)(1,B,3,2)),2&I&&t.C0Y(0,k.loading()?0:1)},dependencies:[c.Sk,c.Cb,s,m.WY,m.lh,m.SL,m.i6,m.IT],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid var(--tui-base-04)}table[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:.9rem}table[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]   .tui-table__td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]   .tui-table__th[_ngcontent-%COMP%]{padding:.5rem;height:inherit}"],changeDetection:0})}return E})()},48128:(V,f,i)=>{"use strict";function t(u){if(!u)return null;const r=u.match(/filename="(.+)"/);return r?r[1]:null}i.d(f,{k:()=>t})},69772:(V,f,i)=>{"use strict";i.d(f,{CU:()=>u,ye:()=>r});const t=(new Date).getTimezoneOffset()/60;function u(C,d=t){return"string"==typeof C&&C.length>0&&C.match(/\d{1,2}:\d{1,2}/)?`${Number(C.split(":")[0])-d}:${C.split(":")[1]}`:(console.error("Invalid string provided to strTimeTimezone",{string:C}),"")}function r(C,d=t){return u(C,-1*d)}},71960:(V,f,i)=>{"use strict";i.d(f,{u:()=>C});var t=i(58400),u=i(35136);class r extends t.w{constructor(c){super(c),this.date=c.date?new Date(c.date):void 0,this.reservation_turn_id=c.reservation_turn_id,this.group_id=c.group_id,this.reservation_turn=c.reservation_turn?new u.e(c.reservation_turn):void 0}}class C extends t.w{constructor(c){super(c),this.turns=[],this.dates=[],this.title=c.title,this.status=c.status,this.preorder_type=c.preorder_type,this.payment_value=c.payment_value,this.message=c.message,this.turns=(c.turns||[]).map(m=>new u.e(m)),this.dates=(c.dates||[]).map(m=>new r(m))}}},35136:(V,f,i)=>{"use strict";i.d(f,{e:()=>C});var t=i(58400),u=i(69772),r=i(71960);class C extends t.w{constructor(c){super(c),this.name=c.name,this.weekday=c.weekday,this.step=c.step,this.valid_times=c.valid_times,this.starts_at=c.starts_at?(0,u.CU)(c.starts_at):void 0,this.ends_at=c.ends_at?(0,u.CU)(c.ends_at):void 0,this.preorder_reservation_group=c.preorder_reservation_group?new r.u(c.preorder_reservation_group):void 0}}},85180:(V,f,i)=>{"use strict";i.d(f,{C:()=>c});var t=i(58400);class u extends t.w{constructor(s){super(s),this.image_pixel_id=s.image_pixel_id,this.event_data=s.event_data,this.event_time=s.event_time?new Date(s.event_time):void 0}}class r extends t.w{constructor(s){super(s),this.image_id=s.image_id,this.delivered_email_id=s.delivered_email_id,this.record_type=s.record_type,this.record_id=s.record_id,this.event_type=s.event_type,this.secret=s.secret,this.events=s.events?s.events.map(g=>new u(g)):[]}}class C extends t.w{constructor(s){super(s),this.record_id=s.record_id,this.record_type=s.record_type,this.text=s.text,this.html=s.html,this.subject=s.subject,this.headers=s.headers,this.raw=s.raw,this.image_pixels=s.image_pixels?s.image_pixels.map(g=>new r(g)):[]}}class d extends t.w{constructor(s){super(s),this.hpp_url=s.hpp_url,this.value=s.value,this.status=s.status,this.reservation_id=s.reservation_id,this.preorder_type=s.preorder_type,this.other=s.other}}class c extends t.w{constructor(s){super(s),this.fullname=s.fullname,this.datetime=s.datetime?new Date(s.datetime):void 0,this.status=s.status,this.secret=s.secret,this.adults=s.adults,this.children=s.children,this.table=s.table,this.notes=s.notes,this.email=s.email,this.phone=s.phone,this.payment=s.payment?new d(s.payment):void 0,this.delivered_emails=s.delivered_emails?s.delivered_emails.map(g=>new C(g)):[]}}},42516:(V,f,i)=>{"use strict";i.d(f,{G:()=>C});var t=i(30220),r=i(54496);let C=(()=>{class d{constructor(){this.weekdays=[t.$localize`Domenica`,t.$localize`Lunedì`,t.$localize`Martedì`,t.$localize`Mercoledì`,t.$localize`Giovedì`,t.$localize`Venerdì`,t.$localize`Sabato`]}transform(m){return"number"!=typeof m&&"string"==typeof m&&(m=parseInt(m)),"number"==typeof m&&m>=0&&m<=6?this.weekdays[m]:null}static#t=this.\u0275fac=function(s){return new(s||d)};static#e=this.\u0275pipe=r.UTH({name:"weekday",type:d,pure:!0,standalone:!0})}return d})()},87556:(V,f,i)=>{"use strict";i.d(f,{K:()=>C});var t=i(36012),u=i(35136),r=i(54496);let C=(()=>{class d extends t.s{constructor(){super(u.e,"admin/reservation_turns")}static#t=this.\u0275fac=function(s){return new(s||d)};static#e=this.\u0275prov=r.wxM({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},28304:(V,f,i)=>{"use strict";i.d(f,{S:()=>g});var t=i(36012),u=i(85180),r=i(54704),C=i(53252),d=i(39144),c=i(97048),m=i(48128),s=i(54496);let g=(()=>{class M extends t.s{constructor(){super(u.C,"admin/reservations")}tablesSummary(h={}){return this.get("tables_summary",{params:h})}deliverConfirmationEmail(h){return this.post(`${h}/deliver_confirmation_email`,{}).pipe((0,r.k)(G=>this.mapItem(G)))}export(h){return new C._(G=>{this.get("export",{responseType:"blob",observe:"response",params:h}).pipe((0,d.a)(P=>(console.error("ReservationsService.export() error:",P),G.error(P),new C._))).subscribe(P=>{if(P instanceof c.WA&&P.body){const v=(0,m.k)(P.headers?.get("Content-Disposition"))??"Prenotazioni.xlsx",L=P.headers?.get("Content-Type")??"application/octet-stream",D=window.URL.createObjectURL(new Blob([P.body],{type:L})),Y=document.createElement("a");Y.href=D,Y.download=v,Y.click(),G.complete()}})})}static#t=this.\u0275fac=function(G){return new(G||M)};static#e=this.\u0275prov=s.wxM({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},5892:(V,f,i)=>{"use strict";i.d(f,{Ws:()=>U,yy:()=>Z});var t=i(54496),u=i(82528),r=i(73568);(0,u.W0)((0,r.u)("showHideText"));const d=(0,u.W0)((0,r.u)("paginationTexts"));var c=i(10466),m=i(41512),s=i(94336),g=i(93656),M=i(58212),A=i(85944),h=i(91368),G=i(1040);function P(p,y){if(1&p&&(t.SAx(0),t.OEk(1),t.I0R(2,"strong",6),t.OEk(3),t.C$Y(),t.k70()),2&p){const T=t.GaO().ngIf,N=t.GaO();t.yG2(),t.oRS(" ",T.pages," "),t.yG2(2),t.cNF(N.pages)}}function v(p,y){if(1&p&&(t.SAx(0),t.OEk(1),t.k70()),2&p){const T=y.polymorpheusOutlet;t.yG2(),t.oRS(" ",T," ")}}function L(p,y){if(1&p&&t.wR5(0,"tui-svg",13),2&p){const T=t.GaO(4);t.E7m("src",T.commonIcons.check)}}function D(p,y){1&p&&t.wR5(0,"span",14)}const Y=(p,y)=>({$implicit:p,total:y});function B(p,y){if(1&p){const T=t.KQA();t.SAx(0),t.I0R(1,"button",9),t.qCj("click",function(){const H=t.usT(T).$implicit,j=t.GaO(3);return t.CGJ(j.onItem(H))}),t.yuY(2,v,2,1,"ng-container",10)(3,L,1,1,"tui-svg",11)(4,D,1,0,"ng-template",null,12,t.gJz),t.C$Y(),t.k70()}if(2&p){const T=y.$implicit,N=t.Gew(5),O=t.GaO(3);t.yG2(2),t.E7m("polymorpheusOutlet",O.options.sizeOptionContent)("polymorpheusOutletContext",t.IBC(4,Y,T,O.total)),t.yG2(),t.E7m("ngIf",T===O.size)("ngIfElse",N)}}function F(p,y){if(1&p&&(t.I0R(0,"tui-data-list",7),t.yuY(1,B,6,7,"ng-container",8),t.C$Y()),2&p){const T=t.GaO(2);t.yG2(),t.E7m("ngForOf",T.items)}}function X(p,y){if(1&p){const T=t.KQA();t.SAx(0),t.I0R(1,"button",15),t.qCj("click",function(){t.usT(T);const O=t.GaO(2);return t.CGJ(O.back())}),t.C$Y(),t.I0R(2,"button",16),t.qCj("click",function(){t.usT(T);const O=t.GaO(2);return t.CGJ(O.forth())}),t.C$Y(),t.k70()}if(2&p){const T=y.ngIf,N=t.GaO(2);t.yG2(),t.E7m("disabled",N.leftDisabled)("icon",N.icons.decrement)("title",T[0]),t.yG2(),t.E7m("disabled",N.rightDisabled)("icon",N.icons.increment)("title",T[1])}}function E(p,y){if(1&p){const T=t.KQA();t.SAx(0),t.I0R(1,"span",1),t.yuY(2,P,4,2,"ng-container",0),t.C$Y(),t.I0R(3,"span",2),t.OEk(4),t.I0R(5,"tui-hosted-dropdown",3),t.iHE("openChange",function(O){t.usT(T);const H=t.GaO();return t.kNx(H.open,O)||(H.open=O),t.CGJ(O)}),t.I0R(6,"button",4)(7,"strong"),t.OEk(8),t.C$Y()(),t.yuY(9,F,2,1,"ng-template",null,5,t.gJz),t.C$Y(),t.OEk(11),t.I0R(12,"strong",6),t.OEk(13),t.C$Y()(),t.yuY(14,X,3,6,"ng-container",0),t.wVc(15,"async"),t.k70()}if(2&p){const T=y.ngIf,N=t.Gew(10),O=t.GaO();t.yG2(2),t.E7m("ngIf",O.options.showPages),t.yG2(2),t.oRS(" ",T.linesPerPage," "),t.yG2(),t.E7m("content",N),t.OKB("open",O.open),t.yG2(3),t.CAO("",O.start+1,"\u2013",O.end,""),t.yG2(3),t.oRS(" ",T.of," "),t.yG2(2),t.cNF(O.total),t.yG2(),t.E7m("ngIf",t.kDX(15,9,O.spinTexts$))}}const I=(0,u.AL)({sizeOptionContent:function $({$implicit:p}){return`${p}`},showPages:!0,items:[10,20,50,100],size:10});let U=(()=>{class p{constructor(T,N,O,H,j){this.icons=T,this.spinTexts$=N,this.texts$=O,this.options=H,this.commonIcons=j,this.items=this.options.items,this.total=0,this.page=0,this.size=this.options.size,this.pageChange=new t._w7,this.sizeChange=new t._w7,this.paginationChange=new t._w7,this.open=!1}get pages(){return Math.ceil(this.total/this.size)}get start(){return this.page*this.size}get end(){return Math.min(this.start+this.size,this.total)}get leftDisabled(){return!this.start}get rightDisabled(){return this.end===this.total}get pagination(){return{page:this.page,size:this.size}}onItem(T){const{start:N}=this;this.size=T,this.sizeChange.emit(T),this.open=!1,this.page=Math.floor(N/this.size),this.pageChange.emit(this.page),this.paginationChange.emit(this.pagination)}back(){this.page--,this.pageChange.emit(this.page),this.paginationChange.emit(this.pagination)}forth(){this.page++,this.pageChange.emit(this.page),this.paginationChange.emit(this.pagination)}}return p.\u0275fac=function(T){return new(T||p)(t.GI1(A.KY),t.GI1(A.s1),t.GI1(d),t.GI1(I),t.GI1(A.QJ))},p.\u0275cmp=t.In1({type:p,selectors:[["tui-table-pagination"]],inputs:{items:"items",total:"total",page:"page",size:"size"},outputs:{pageChange:"pageChange",sizeChange:"sizeChange",paginationChange:"paginationChange"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"t-pages"],["automation-id","tui-table-pagination__lines-per-page-wrapper"],[3,"content","open","openChange"],["tuiLink","","type","button"],["content",""],[1,"t-strong"],["size","s"],[4,"ngFor","ngForOf"],["tuiOption","",1,"t-item",3,"click"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],["class","t-checkmark",3,"src",4,"ngIf","ngIfElse"],["fakeIcon",""],[1,"t-checkmark",3,"src"],[1,"t-checkmark"],["appearance","icon","size","xs","tuiIconButton","","type","button",1,"t-back",3,"disabled","icon","title","click"],["appearance","icon","size","xs","tuiIconButton","","type","button",3,"disabled","icon","title","click"]],template:function(T,N){1&T&&(t.yuY(0,E,16,11,"ng-container",0),t.wVc(1,"async")),2&T&&t.E7m("ngIf",t.kDX(1,1,N.texts$))},dependencies:[c.Qw,m.C,s.yi,s.sP,g.Wu,M.Kw,h.u_,h.ay,G.Af,h.a],styles:["[_nghost-%COMP%]{display:flex;font:var(--tui-font-text-s);align-items:center;color:var(--tui-text-03)}.t-strong[_ngcontent-%COMP%]{color:var(--tui-text-01)}.t-pages[_ngcontent-%COMP%]{margin-right:auto}.t-item[_ngcontent-%COMP%]{min-width:5.5rem;box-sizing:border-box}.t-checkmark[_ngcontent-%COMP%]{min-width:1.5rem;border-left:5px solid transparent}.t-back[_ngcontent-%COMP%]{margin:0 .25rem 0 1.5rem}"],changeDetection:0}),p})(),Z=(()=>{class p{}return p.\u0275fac=function(T){return new(T||p)},p.\u0275mod=t.a4G({type:p}),p.\u0275inj=t.s3X({imports:[[h.MD,M.CI,m.w,c.GE,s.A$,g.Yt,G.Ux]]}),p})()},51200:(V,f,i)=>{"use strict";i.d(f,{A:()=>c,m:()=>m});var t=i(54496),u=i(50900),r=i(83480),C=i(70800),d=i(53616);let c=(()=>{class s{constructor(M,A,h){this.el=M,this.zone=A,this.destroy$=h,this.eventName=""}ngOnInit(){(0,C.w)(this.el.nativeElement,this.eventName,{passive:!1}).pipe((0,u.Uv)(this.zone),(0,u.uy)(),(0,d.a)(this.destroy$)).subscribe()}}return s.\u0275fac=function(M){return new(M||s)(t.GI1(t.GMv),t.GI1(t.WW2),t.GI1(r.UF,2))},s.\u0275dir=t.Sc5({type:s,selectors:[["","tuiPreventDefault",""]],inputs:{eventName:[t.Wk5.None,"tuiPreventDefault","eventName"]},features:[t.M5G([r.UF])]}),s})(),m=(()=>{class s{}return s.\u0275fac=function(M){return new(M||s)},s.\u0275mod=t.a4G({type:s}),s.\u0275inj=t.s3X({}),s})()},50812:(V,f,i)=>{"use strict";i.d(f,{m2:()=>h,mU:()=>s,qS:()=>C,w3:()=>G}),i(64392);var u=i(82528);i(93840);const C={DMY:"dd/mm/yyyy",MDY:"mm/dd/yyyy",YMD:"yyyy/mm/dd"},s=/\([#]+\)|[#\- ]/g,h=(v,L,D,Y)=>{if(!L?.isSingleDay||!D)return v;const B=(0,u.Kw)(Object.entries(D).map(([X,E])=>[X,-E])),F=L.from.append(Y?B:D).append({day:Y?1:-1});return Y?F.dayBefore(v)?v:F:v&&F.dayAfter(v)?v:F},G={HH:23,MM:59,SS:59,MS:999}},93520:()=>{},82064:()=>{},7376:()=>{},30220:()=>{}}]);