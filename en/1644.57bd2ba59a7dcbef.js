"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[1644],{5948:(y,h,e)=>{e.r(h),e.d(h,{ListPreferencesComponent:()=>d});var t=e(4496),C=e(6772);let P=(()=>{class i extends C.A{constructor(){super("/admin/preferences")}search(a={}){return this.http.get("/")}show(a){return this.http.get(`/${a}`)}value(a){return this.http.get(`/${a}/value`)}update(a,_){return this.http.patch(`/${a}`,{value:_})}static#t=this.\u0275fac=function(_){return new(_||i)};static#e=this.\u0275prov=t.wxM({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var n=e(3480),u=e(8824),l=e(3616),S=e(1128),m=e(8256),T=e(8392),p=e(6800),f=e(6648),D=e(6052),E=e(6504),I=e(1292),c=e(7364),O=e(5193),s=e(7728),r=e(4476);function o(i,L){1&i&&(t.SAx(0),t.aS0(1,11),t.k70())}function M(i,L){1&i&&(t.OEk(0),t.wVc(1,"language")),2&i&&t.cNF(t.kDX(1,1,L.$implicit))}let d=(()=>{class i{constructor(){this.service=(0,t.uUt)(P),this.destroy$=(0,t.uUt)(n.UF),this.notifications=(0,t.uUt)(S.E),this._=(0,t.uUt)(r.OY).setTitle("Preferences | La Porta D'Acqua"),this.inputSize="l",this.languagePipe=(0,t.uUt)(c.e),this.allLanguages=Object.keys(I.S),this.form=new E.WC({known_languages:new E.Ku([])}),this.saving=(0,t.OCB)(!1),this.searching=(0,t.OCB)(!1),this.loading=(0,t.S6b)(()=>this.saving()||this.searching())}ngOnInit(){this.reload()}save(a,_){this.saving.set(!0),Array.isArray(_)&&(_=_.join(",")),this.service.update(a,_).pipe((0,u.U)(()=>this.saving.set(!1)),(0,u.U)(()=>this.reload())).subscribe({error:g=>{this.notifications.error((0,m.mk)(g)||T.a)}})}applyPipeFunction(a){return a.transform}reload(){this.searching.set(!0),this.service.search().pipe((0,l.a)(this.destroy$),(0,u.U)(()=>this.searching.set(!1))).subscribe({next:a=>{this.updateFormByData(a.items)},error:a=>{this.notifications.error((0,m.mk)(a)||T.a)}})}updateFormByData(a){const _={};["known_languages"].forEach(g=>{const v=a.find(R=>R.key===g);v&&Array.isArray(v.value)?_[g]=v.value:v&&"string"==typeof v.value?_[g]=v.value.split(","):v?console.warn(`Preference ${g} not found or invalid`,v.value):console.warn(`Preference ${g} not found`)}),this.form.patchValue(_)}static#t=this.\u0275fac=function(_){return new(_||i)};static#e=this.\u0275cmp=t.In1({type:i,selectors:[["app-list-preferences"]],standalone:!0,features:[t.M5G([n.UF,c.e]),t.UHJ],decls:23,vars:6,consts:()=>{let a,_,g,v;return a="Personal preferences",_="These settings will only be applied to your account.",g="Select many languages.",v="No element",[["noItems",""],a,[1,"text-slate-400","mb-3"],_,[3,"formGroup"],[1,"mb-4"],[1,"text-lg","font-bold"],[1,"text-slate-400"],["knownLanguagesItemContent",""],[3,"formControlName","items","itemContent","stringifyFn","inputSize","submit"],g,v]},template:function(_,g){if(1&_&&(t.yuY(0,o,2,0,"ng-template",null,0,t.gJz),t.I0R(2,"h1"),t.aS0(3,1),t.C$Y(),t.I0R(4,"p",2),t.aS0(5,3),t.C$Y(),t.I0R(6,"form",4)(7,"div",5)(8,"p",6),t.OEk(9,"Lingua preferita"),t.C$Y(),t.I0R(10,"p",7),t.OEk(11,"Seleziona la lingua che preferisci utilizzare."),t.C$Y(),t.wR5(12,"app-admin-language-switcher"),t.C$Y(),t.I0R(13,"div",5)(14,"p",6),t.OEk(15,"Lingue conosciute"),t.C$Y(),t.I0R(16,"p",7),t.OEk(17,"Quali lingue conosci? Questa informazione ci serve per capire quali lingue mostrarti quando crei o modifichi elementi con nomi in diverse lingue."),t.C$Y(),t.yuY(18,M,2,3,"ng-template",null,8,t.gJz),t.I0R(20,"app-preferences-multiple-select",9),t.qCj("submit",function(R){return g.save("known_languages",R)}),t.SAx(21),t.aS0(22,10),t.k70(),t.C$Y()()()),2&_){const v=t.Gew(19);t.yG2(6),t.E7m("formGroup",g.form),t.yG2(14),t.E7m("formControlName","known_languages")("items",g.allLanguages)("itemContent",v)("stringifyFn",g.applyPipeFunction(g.languagePipe))("inputSize",g.inputSize)}},dependencies:[p.y,f.BZ,E.sl,E.sz,E.ue,E.u,E.uW,E.Wo,D.q8,c.e,O.ms,s.M],encapsulation:2,changeDetection:0})}return i})()},8392:(y,h,e)=>{e.d(h,{a:()=>t});const t="Something went wrong."},168:(y,h,e)=>{e.d(h,{C:()=>P,O:()=>C});var t=e(4496);let C=(()=>{class n{constructor(){this.focusable=!0}get tabIndex(){return this.focusable?0:-1}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275dir=t.Sc5({type:n,selectors:[["","tuiFocusable",""]],hostVars:1,hostBindings:function(l,S){2&l&&t.SoX("tabIndex",S.tabIndex)},inputs:{focusable:[t.Wk5.None,"tuiFocusable","focusable"]}}),n})(),P=(()=>{class n{}return n.\u0275fac=function(l){return new(l||n)},n.\u0275mod=t.a4G({type:n}),n.\u0275inj=t.s3X({}),n})()},1512:(y,h,e)=>{e.d(h,{C:()=>s,w:()=>r});var t=e(4496),C=e(900),P=e(4392),n=e(4164),u=e(3480),l=e(4680),S=e(3972),m=e(5944),T=e(3412),p=e(4704),f=e(3656),D=e(1368);const E=["tuiLink",""];function I(o,M){if(1&o&&t.wR5(0,"tui-svg",3),2&o){const d=t.GaO();t.E7m("src",d.icon||"")}}function c(o,M){if(1&o&&t.wR5(0,"tui-svg",4),2&o){const d=t.GaO();t.E7m("src",d.icon||"")}}const O=["*"];let s=(()=>{class o{constructor(d,i,L){this.el=d,this.mode$=i,this.pseudo=!1,this.icon="",this.iconAlign="right",this.iconRotated=!1,this.mode=null,this.focusVisible=!1,this.focusedChange=(0,T.U)((0,C.Ax)(this.el.nativeElement,"focusin").pipe((0,p.k)(P.Ml)),(0,C.Ax)(this.el.nativeElement,"focusout").pipe((0,p.k)(P.so))),L.subscribe(a=>{this.focusVisible=a})}get nativeFocusableElement(){return this.el.nativeElement}get focused(){return(0,n.ER)(this.nativeFocusableElement)}get hasIcon(){return!!this.icon}get iconAlignLeft(){return this.hasIcon&&"left"===this.iconAlign}get iconAlignRight(){return this.hasIcon&&"right"===this.iconAlign}}return o.\u0275fac=function(d){return new(d||o)(t.GI1(t.GMv),t.GI1(m.Yx),t.GI1(u.MF))},o.\u0275cmp=t.In1({type:o,selectors:[["a","tuiLink",""],["button","tuiLink",""]],hostVars:7,hostBindings:function(d,i){1&d&&t.qCj("$.data-mode.attr",function(){return i.mode$}),2&d&&(t.e48("data-host-mode",i.mode),t.eAK("_pseudo",i.pseudo)("_icon-rotated",i.iconRotated)("_focus-visible",i.focusVisible))},inputs:{pseudo:"pseudo",icon:"icon",iconAlign:"iconAlign",iconRotated:"iconRotated",mode:"mode"},exportAs:["tuiLink"],features:[t.M5G([(0,l.NK)(o),u.MF,u.UF,S.Ir])],attrs:E,ngContentSelectors:O,decls:4,vars:2,consts:[["class","t-icon t-icon_left",3,"src",4,"ngIf"],[1,"t-content"],["class","t-icon t-icon_right",3,"src",4,"ngIf"],[1,"t-icon","t-icon_left",3,"src"],[1,"t-icon","t-icon_right",3,"src"]],template:function(d,i){1&d&&(t.kPM(),t.yuY(0,I,1,1,"tui-svg",0),t.I0R(1,"span",1),t._Xx(2),t.C$Y(),t.yuY(3,c,1,1,"tui-svg",2)),2&d&&(t.E7m("ngIf",i.iconAlignLeft),t.yG2(3),t.E7m("ngIf",i.iconAlignRight))},dependencies:[f.Wu,D.u_],styles:["[_nghost-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;color:var(--tui-link);text-align:left;text-transform:inherit;font-weight:inherit;cursor:pointer;outline:none}[_nghost-%COMP%]:hover{color:var(--tui-link-hover)}[_nghost-%COMP%]:disabled{opacity:var(--tui-disabled-opacity);cursor:default}[data-mode=onLight][_nghost-%COMP%]{color:var(--tui-text-02)}[data-mode=onLight][_nghost-%COMP%]:hover, [data-mode=onLight]._active[_nghost-%COMP%]{color:var(--tui-text-01)}[data-mode=onLight]._pseudo[_nghost-%COMP%]{color:var(--tui-text-01)}[data-mode=onLight]._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{-webkit-text-decoration-color:rgba(0,0,0,.48);text-decoration-color:#0000007a}[data-mode=onLight]._pseudo[_nghost-%COMP%]:hover, [data-mode=onLight]._pseudo._active[_nghost-%COMP%]{color:var(--tui-text-03)}[data-mode=onLight][data-host-mode=negative][_nghost-%COMP%]{color:var(--tui-negative-night)}[data-mode=onLight][data-host-mode=negative][_nghost-%COMP%]:hover, [data-mode=onLight][data-host-mode=negative][_nghost-%COMP%]:active, [data-mode=onLight][data-host-mode=negative]._active[_nghost-%COMP%]{color:var(--tui-negative-night-hover)}[data-mode=onDark][_nghost-%COMP%]{color:var(--tui-text-03-night)}[data-mode=onDark][_nghost-%COMP%]:hover, [data-mode=onDark][_nghost-%COMP%]:active, [data-mode=onDark]._active[_nghost-%COMP%]{color:var(--tui-text-01-night)}[data-mode=onDark]._pseudo[_nghost-%COMP%]{color:var(--tui-text-01-night)}[data-mode=onDark]._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{-webkit-text-decoration-color:rgba(255,255,255,.48);text-decoration-color:#ffffff7a}[data-mode=onDark]._pseudo[_nghost-%COMP%]:hover, [data-mode=onDark]._pseudo[_nghost-%COMP%]:active, [data-mode=onDark]._pseudo._active[_nghost-%COMP%]{color:var(--tui-text-03-night)}[data-mode=onDark][data-host-mode=positive][_nghost-%COMP%]{color:var(--tui-positive-night)}[data-mode=onDark][data-host-mode=positive][_nghost-%COMP%]:hover, [data-mode=onDark][data-host-mode=positive][_nghost-%COMP%]:active, [data-mode=onDark][data-host-mode=positive]._active[_nghost-%COMP%]{color:var(--tui-positive-night-hover)}[data-host-mode=negative][_nghost-%COMP%]{color:var(--tui-negative)}[data-host-mode=negative][_nghost-%COMP%]:hover{color:var(--tui-negative-hover)}[data-host-mode=negative]._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{-webkit-text-decoration-color:rgba(222,76,30,.48);text-decoration-color:#de4c1e7a}[data-host-mode=positive][_nghost-%COMP%]{color:var(--tui-positive)}[data-host-mode=positive][_nghost-%COMP%]:hover{color:var(--tui-positive-hover)}[data-host-mode=positive]._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{-webkit-text-decoration-color:rgba(58,169,129,.48);text-decoration-color:#3aa9817a}._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-selection)}[data-mode=onLight]._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-clear);color:var(--tui-text-01)}[data-mode=onDark]._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-clear-inverse);color:var(--tui-text-01-night)}[data-host-mode=positive]._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-success-bg)}[data-host-mode=negative]._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-error-bg)}._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding-bottom:.15em;-webkit-text-decoration:underline dashed rgba(51,111,238,.48);text-decoration:underline dashed rgba(51,111,238,.48);text-underline-offset:.2em;text-decoration-thickness:.7px}.t-icon[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;width:var(--tui-link-icon-size, 1.5rem);height:var(--tui-link-icon-size, 1.5rem);margin-top:-.125rem}.t-icon_left[_ngcontent-%COMP%]{margin-right:.25rem}.t-icon_right[_ngcontent-%COMP%]{margin-left:.25rem}._icon-rotated[_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}"],changeDetection:0}),o})(),r=(()=>{class o{}return o.\u0275fac=function(d){return new(d||o)},o.\u0275mod=t.a4G({type:o}),o.\u0275inj=t.s3X({imports:[[D.MD,f.Yt]]}),o})()},4436:(y,h,e)=>{e.d(h,{a:()=>I,i:()=>E});var t=e(4496),C=e(3480),P=e(4680),n=e(5656),u=e(3972),l=e(5944),S=e(3616),m=e(3656),T=e(4108),p=e(1040),f=e(1368);function D(c,O){1&c&&t.wR5(0,"tui-svg",3),2&c&&t.E7m("src",O.polymorpheusOutlet)}let E=(()=>{class c extends n.cb{constructor(s,r,o,M){super(o),this.isMobile=M,this.mode=null,this.describeId="",r.pipe((0,S.a)(s)).subscribe(d=>{this.mode=d})}get computedAppearance(){return this.appearance||this.mode||""}stopOnMobile(s){var r;this.isMobile&&(s.preventDefault(),s.stopPropagation()),null===(r=this.driver$)||void 0===r||r.toggle()}}return c.\u0275fac=function(s){return new(s||c)(t.GI1(C.UF,2),t.GI1(l.Yx),t.GI1(n.Oi),t.GI1(P.Mv))},c.\u0275cmp=t.In1({type:c,selectors:[["tui-tooltip"]],viewQuery:function(s,r){if(1&s&&t.CC$(n.i6,5),2&s){let o;t.wto(o=t.Gqi())&&(r.driver$=o.first)}},hostVars:1,hostBindings:function(s,r){1&s&&t.qCj("mousedown",function(M){return r.stopOnMobile(M)}),2&s&&t.e48("data-appearance",r.computedAppearance)},inputs:{content:"content",direction:"direction",appearance:"appearance",showDelay:"showDelay",hideDelay:"hideDelay",describeId:"describeId",context:"context"},features:[t.M5G([C.UF,u.Ir]),t.eg9],decls:4,vars:11,consts:[["appearance","icon","automation-id","tui-tooltip__icon","tuiWrapper","",1,"t-tooltip-icon",3,"hover","tuiHint","tuiHintAppearance","tuiHintContext","tuiHintDescribe","tuiHintDirection","tuiHintHideDelay","tuiHintShowDelay"],["driver","tuiHintHover"],[3,"src",4,"polymorpheusOutlet"],[3,"src"]],template:function(s,r){if(1&s&&(t.I0R(0,"span",0,1),t.wVc(2,"async"),t.yuY(3,D,1,1,"tui-svg",2),t.C$Y()),2&s){const o=t.Gew(1);t.E7m("hover",t.kDX(2,9,o)||null)("tuiHint",r.content)("tuiHintAppearance",r.computedAppearance)("tuiHintContext",r.context)("tuiHintDescribe",r.describeId)("tuiHintDirection",r.direction)("tuiHintHideDelay",r.hideDelay)("tuiHintShowDelay",r.showDelay),t.yG2(3),t.E7m("polymorpheusOutlet",r.icon)}},dependencies:[m.Wu,T.S,n.lh,n.SL,n.i6,n.IT,n.KM,p.Af,f.a],styles:['[_nghost-%COMP%]{transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;display:inline-block;width:1.5rem;height:1.5rem;vertical-align:middle;font-size:0;line-height:0;pointer-events:auto;cursor:pointer;color:var(--tui-text-01)}[data-appearance=error][_nghost-%COMP%]{color:var(--tui-error-fill)}.t-tooltip-icon[_ngcontent-%COMP%]{display:inline-block;width:100%;height:100%;color:inherit}[tuiWrapper][data-appearance="textfield"][data-state="disabled"][_nghost-%COMP%]   .t-tooltip-icon[_ngcontent-%COMP%], [tuiWrapper][data-appearance="textfield"][data-state="disabled"]   [_nghost-%COMP%]   .t-tooltip-icon[_ngcontent-%COMP%]{opacity:1}'],changeDetection:0}),c})(),I=(()=>{class c{}return c.\u0275fac=function(s){return new(s||c)},c.\u0275mod=t.a4G({type:c}),c.\u0275inj=t.s3X({imports:[[f.MD,T.g,m.Yt,n.WY,p.Ux]]}),c})()},7020:(y,h,e)=>{e.d(h,{q:()=>S});var t=e(4496),C=e(1800),P=e(3480),n=e(5944),u=e(4336),l=e(3012);let S=(()=>{class m{constructor(p,f,D,E,I){this.host=p,this.control=f,this.el=D,this.idService=E,this.itemsHandlers=I,this.disabledItemHandler=null,this.datalist=null}get id(){return this.el.nativeElement.id||this.idService.generate()}}return m.\u0275fac=function(p){return new(p||m)(t.GI1(n.Mn),t.GI1(C._y),t.GI1(t.GMv),t.GI1(P.y2),t.GI1(l.qc))},m.\u0275dir=t.Sc5({type:m,viewQuery:function(p,f){if(1&p&&t.CC$(u.Ux,7,t.Yw2),2&p){let D;t.wto(D=t.Gqi())&&(f.datalist=D.first)}},hostVars:1,hostBindings:function(p,f){2&p&&t.SoX("id",f.id)},inputs:{disabledItemHandler:"disabledItemHandler"}}),m})()},9612:(y,h,e)=>{e.d(h,{W:()=>P});var t=e(4496);let P=(()=>{class n{}return n.\u0275fac=function(l){return new(l||n)},n.\u0275mod=t.a4G({type:n}),n.\u0275inj=t.s3X({}),n})()}}]);