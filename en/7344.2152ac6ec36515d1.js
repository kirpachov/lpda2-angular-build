"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[7344],{7344:(_t,D,s)=>{s.r(D),s.d(D,{AdminReservationsHomeComponent:()=>Tn});var t=s(4496),C=s(1368),c=s(6504),G=s(3797),f=s(3480),v=s(5e3),d=s(8212),R=s(1512),g=s(5656),S=s(1560),M=s(2992),y=s(5892),V=s(4388),O=s(3616),z=s(8824),k=s(8256),F=s(8304),B=s(6012),w=s(5136);let K=(()=>{class e extends B.s{constructor(){super(w.e,"admin/reservation_turns")}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275prov=t.wxM({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Q=s(580),b=s(6096),j=s(6052),H=s(9604),N=s(8048),W=s(7936),h=s(4336),X=s(7692),l=s(6732),E=s(1040);function r(e,a){1&e&&(t.SAx(0),t.aS0(1,10),t.k70())}function p(e,a){if(1&e&&(t.SAx(0),t.OEk(1),t.k70()),2&e){const n=a.polymorpheusOutlet;t.yG2(),t.oRS(" ",n," ")}}function m(e,a){if(1&e&&t.yuY(0,p,2,1,"ng-container",11),2&e){const n=t.GaO(2);t.E7m("polymorpheusOutlet",n.optionTemplate$())}}function A(e,a){1&e&&t.C_f(0)}const $=(e,a)=>({$implicit:e,injector:a});function lt(e,a){if(1&e&&t.yuY(0,A,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("polymorpheusOutlet",o.optionTemplate$())("polymorpheusOutletContext",t.IBC(2,$,n,o.injector))}}function rt(e,a){1&e&&t.C_f(0)}const et=e=>({data:e});function ct(e,a){if(1&e&&t.yuY(0,rt,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("polymorpheusOutlet",o.optionTemplate$())("polymorpheusOutletContext",t.S45(2,et,n))}}function ut(e,a){if(1&e&&t.wR5(0,"div",13),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("innerText",o.stringify(n))}}function mt(e,a){if(1&e&&t.yuY(0,m,1,1)(1,lt,1,5)(2,ct,1,4)(3,ut,1,1),2&e){const n=t.GaO();let o;t.C0Y(0,"text"===(o=n.optionTemplateType$())?0:"template"===o?1:"component"===o?2:3)}}function pt(e,a){if(1&e&&(t.SAx(0),t.OEk(1),t.k70()),2&e){const n=a.polymorpheusOutlet;t.yG2(),t.oRS(" ",n," ")}}function Et(e,a){if(1&e&&t.yuY(0,pt,2,1,"ng-container",11),2&e){const n=t.GaO(2);t.E7m("polymorpheusOutlet",n.nativeOptionTemplate$())}}function gt(e,a){1&e&&t.C_f(0)}function Ct(e,a){if(1&e&&t.yuY(0,gt,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("polymorpheusOutlet",o.nativeOptionTemplate$())("polymorpheusOutletContext",t.IBC(2,$,n,o.injector))}}function Tt(e,a){1&e&&t.C_f(0)}function dt(e,a){if(1&e&&t.yuY(0,Tt,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("polymorpheusOutlet",o.nativeOptionTemplate$())("polymorpheusOutletContext",t.S45(2,et,n))}}function ft(e,a){if(1&e&&t.wR5(0,"div",13),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("innerText",o.stringify(n))}}function St(e,a){if(1&e&&t.yuY(0,Et,1,1)(1,Ct,1,5)(2,dt,1,4)(3,ft,1,1),2&e){const n=t.GaO();let o;t.C0Y(0,"text"===(o=n.nativeOptionTemplateType$())?0:"template"===o?1:"component"===o?2:3)}}function Rt(e,a){if(1&e&&(t.SAx(0),t.OEk(1),t.k70()),2&e){const n=t.GaO(2);t.yG2(),t.oRS(" ",n.placeholder," ")}}function Ot(e,a){if(1&e&&(t.I0R(0,"span",null,14),t._Xx(2),t.C$Y(),t.yuY(3,Rt,2,1,"ng-container",15)),2&e){const n=t.Gew(1);t.yG2(3),t.E7m("ngIf",!n.hasChildNodes())}}function ht(e,a){1&e&&(t.SAx(0),t.aS0(1,19),t.k70())}function It(e,a){if(1&e&&(t.I0R(0,"span"),t.OEk(1),t.C$Y()),2&e){const n=t.GaO(2);t.yG2(),t.cNF(n.emptyContentString())}}function Nt(e,a){1&e&&t.C_f(0)}function vt(e,a){if(1&e&&(t.SAx(0),t.yuY(1,Nt,1,0,"ng-container",8),t.k70()),2&e){const n=t.GaO(4);t.yG2(),t.E7m("ngTemplateOutlet",n.emptyContentTemplate())}}function yt(e,a){if(1&e&&(t.SAx(0),t.yuY(1,vt,2,1,"ng-container",20),t.k70()),2&e){t.GaO(2);const n=t.Gew(6),o=t.GaO();t.yG2(),t.E7m("ngIf",o.emptyContentTemplate())("ngIfElse",n)}}function At(e,a){if(1&e&&(t.SAx(0),t.yuY(1,yt,2,2,"ng-container",20),t.k70()),2&e){t.GaO();const n=t.Gew(4),o=t.GaO();t.yG2(),t.E7m("ngIf",o.emptyContent$())("ngIfElse",n)}}function Mt(e,a){if(1&e&&(t.I0R(0,"span",null,16),t._Xx(2,1),t.C$Y(),t.yuY(3,ht,2,0,"ng-template",null,17,t.gJz)(5,It,2,1,"ng-template",null,18,t.gJz)(7,At,2,2,"ng-container",15)),2&e){const n=t.Gew(1);t.yG2(7),t.E7m("ngIf",!n.hasChildNodes())}}function Gt(e,a){1&e&&t.wR5(0,"tui-loader")}function $t(e,a){1&e&&t.C_f(0)}function xt(e,a){if(1&e&&t.yuY(0,$t,1,0,"ng-container",8),2&e){t.GaO(2);const n=t.Gew(9);t.E7m("ngTemplateOutlet",n)}}function Pt(e,a){1&e&&t.C_f(0)}function Yt(e,a){if(1&e&&(t.SAx(0),t.yuY(1,Pt,1,0,"ng-container",8),t.k70()),2&e){t.GaO(2);const n=t.Gew(11);t.yG2(),t.E7m("ngTemplateOutlet",n)}}function Lt(e,a){if(1&e&&t.yuY(0,xt,1,1,"ng-template",null,21,t.gJz)(2,Yt,2,1,"ng-container",20),2&e){const n=t.Gew(1),o=t.GaO();t.yG2(2),t.E7m("ngIf",o.loading())("ngIfElse",n)}}function Vt(e,a){1&e&&t.C_f(0)}function zt(e,a){1&e&&t.C_f(0)}function kt(e,a){1&e&&t.C_f(0)}function bt(e,a){if(1&e&&(t.SAx(0),t.yuY(1,kt,1,0,"ng-container",8),t.k70()),2&e){t.GaO(4);const n=t.Gew(11);t.yG2(),t.E7m("ngTemplateOutlet",n)}}function Dt(e,a){1&e&&t.C_f(0)}function Ft(e,a){if(1&e){const n=t.KQA();t.I0R(0,"button",28)(1,"span",29),t.qCj("click",function(){t.usT(n);const i=t.GaO(4);return t.CGJ(i.loadMoreItems())}),t.yuY(2,Dt,1,0,"ng-container",20),t.C$Y()()}if(2&e){const n=t.GaO(4),o=t.Gew(1);t.E7m("size",n.optionSize)("disabled",!0),t.yG2(2),t.E7m("ngIf",n.loadMore)("ngIfElse",o)}}function wt(e,a){if(1&e&&(t.SAx(0),t.yuY(1,bt,2,1,"ng-container",15)(2,Ft,3,4,"button",27),t.k70()),2&e){const n=t.GaO(3);t.yG2(),t.E7m("ngIf",n.loading),t.yG2(),t.E7m("ngIf",!n.loading)}}const Ht=e=>({$implicit:e});function Xt(e,a){if(1&e){const n=t.KQA();t.SAx(0),t.I0R(1,"button",25),t.qCj("mouseenter",function(){const i=t.usT(n),_=i.index,u=i.last,T=t.GaO(2);return t.CGJ(T.optionMouseEnter(_,u))})("focus",function(){const i=t.usT(n),_=i.index,u=i.last,T=t.GaO(2);return t.CGJ(T.optionFocus(_,u))}),t.yuY(2,zt,1,0,"ng-container",26),t.C$Y(),t.yuY(3,wt,3,2,"ng-container",15),t.k70()}if(2&e){const n=a.$implicit,o=a.last,i=t.GaO(2),_=t.Gew(5);t.yG2(),t.E7m("size",i.optionSize)("value",n)("disabled",i.disabledItemHandler(n)),t.yG2(),t.E7m("ngTemplateOutlet",_)("ngTemplateOutletContext",t.S45(6,Ht,n)),t.yG2(),t.E7m("ngIf",o&&i.thereAreMoreItems)}}function Ut(e,a){if(1&e){const n=t.KQA();t.I0R(0,"span",33),t.qCj("click",function(){t.usT(n);const i=t.GaO(3);return t.CGJ(i.createNew.emit())}),t.I0R(1,"mat-icon"),t.OEk(2,"add"),t.C$Y(),t.I0R(3,"span"),t.aS0(4,34),t.C$Y()()}}function Jt(e,a){if(1&e&&(t.I0R(0,"button",30)(1,"span",null,31),t._Xx(3,2),t.C$Y(),t.yuY(4,Ut,5,0,"span",32),t.C$Y()),2&e){const n=t.Gew(2),o=t.GaO(2);t.E7m("size",o.optionSize)("value",null)("disabled",!0),t.yG2(4),t.E7m("ngIf",!n.hasChildNodes())}}function Bt(e,a){if(1&e&&(t.I0R(0,"tui-data-list",22),t.yuY(1,Xt,4,8,"ng-container",23)(2,Jt,5,4,"button",24),t.C$Y()),2&e){const n=t.GaO(),o=t.Gew(13);t.E7m("emptyContent",o),t.yG2(),t.E7m("ngForOf",n.items()),t.yG2(),t.E7m("ngIf",n.showCreateNew)}}const Kt=["*",[["","empty-content",""]],[["","create-new",""]]],Qt=["*","[empty-content]","[create-new]"];let nt=(()=>{class e extends Q.m{constructor(){super(),this.stringify=n=>`${n.name} (${n.starts_at} - ${n.ends_at})`??0,this.service=(0,t.uUt)(K)}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-reservation-turn-select"]],inputs:{outputType:"outputType",multiple:"multiple",service:"service",stringify:"stringify",query:"query",autofocus:"autofocus",placeholder:"placeholder",optionTemplate:"optionTemplate",stringifyOption:"stringifyOption",inputSize:"inputSize",page:"page",per_page:"per_page",optionSize:"optionSize",disabledItemHandler:"disabledItemHandler",loadMoreOnLastItem:"loadMoreOnLastItem",emptyContent:"emptyContent",showCreateNew:"showCreateNew",nativeOptionTemplate:"nativeOptionTemplate",filters:"filters"},outputs:{httpError:"httpError",pageChange:"pageChange",queryChange:"queryChange",per_pageChange:"per_pageChange",createNew:"createNew"},standalone:!0,features:[t.M5G([{provide:c.Y6,useExisting:(0,t.wd)(()=>e),multi:!0},f.UF]),t.eg9,t.UHJ],ngContentSelectors:Qt,decls:17,vars:5,consts:()=>{let n,o,i;return n="Load more",o="We found nothing.",i="Create new",[["loadMoreDefault",""],["valueContent",""],["nativeOptionTemplate",""],["placeholderTemplate",""],["nativeEmptyContentTemplate",""],["loadingTemplate",""],["loadingOrEmptyContent",""],[3,"stringify","tuiTextfieldSize","formControl","valueContent","searchChange"],[4,"ngTemplateOutlet"],[3,"emptyContent",4,"tuiDataList"],n,[4,"polymorpheusOutlet"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"innerText"],["customContent",""],[4,"ngIf"],["customEmptyContent",""],["defaultEmptyContent",""],["emptyContentCustomString",""],o,[4,"ngIf","ngIfElse"],["empty",""],[3,"emptyContent"],[4,"ngFor","ngForOf"],["tuiOption","",3,"size","value","disabled",4,"ngIf"],["tuiOption","",3,"size","value","disabled","mouseenter","focus"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tuiOption","",3,"size","disabled",4,"ngIf"],["tuiOption","",3,"size","disabled"],["role","button",3,"click"],["tuiOption","",3,"size","value","disabled"],["createNewCustomTemplate",""],["role","button","class","d-flex align-items-center",3,"click",4,"ngIf"],["role","button",1,"d-flex","align-items-center",3,"click"],i]},template:function(o,i){if(1&o&&(t.kPM(Kt),t.yuY(0,r,2,0,"ng-template",null,0,t.gJz)(2,mt,4,1,"ng-template",null,1,t.gJz)(4,St,4,1,"ng-template",null,2,t.gJz)(6,Ot,4,1,"ng-template",null,3,t.gJz)(8,Mt,8,1,"ng-template",null,4,t.gJz)(10,Gt,1,0,"ng-template",null,5,t.gJz)(12,Lt,3,2,"ng-template",null,6,t.gJz),t.I0R(14,"tui-combo-box",7),t.qCj("searchChange",function(u){return i.onSearchChange(u)}),t.yuY(15,Vt,1,0,"ng-container",8)(16,Bt,3,3,"tui-data-list",9),t.C$Y()),2&o){const _=t.Gew(3),u=t.Gew(7);t.yG2(14),t.E7m("stringify",i.stringify)("tuiTextfieldSize",i.inputSize)("formControl",i.control)("valueContent",_),t.yG2(),t.E7m("ngTemplateOutlet",u)}},dependencies:[C.MD,C.ay,C.u_,C.XV,b.uk,b.i_,b.qI,N.aS,N.rD,W.KA,G.CQ,h.A$,h.yi,h.sP,h.Ux,j.q8,c.sl,c.ue,c.ug,l.kR,H.CA,X.Sk,X.Cb,E.Ux,E.Af,S.oB,S.qL],changeDetection:0})}return e})();const jt=["active","arrived","deleted","noshow","cancelled"];var U=s(4e3),J=s(6684),Z=s(5188);function Wt(e,a){if(1&e&&(t.SAx(0),t.I0R(1,"button",3),t.OEk(2),t.C$Y(),t.k70()),2&e){const n=a.$implicit;t.yG2(),t.E7m("value",n),t.yG2(),t.cNF(n)}}function Zt(e,a){if(1&e&&(t.I0R(0,"tui-data-list"),t.yuY(1,Wt,3,2,"ng-container",2),t.C$Y()),2&e){const n=t.GaO();t.yG2(),t.E7m("ngForOf",n.statuses)}}const qt=["*"];let te=(()=>{class e{constructor(){this.destroy$=(0,t.uUt)(f.UF),this.control=new c.Ku(null),this.statuses=[...jt],this.inputSize="m",this.valueChanges$=this.control.valueChanges.pipe((0,O.a)(this.destroy$),(0,U.a)(),(0,J.I)(()=>this.control.valid))}ngOnInit(){}registerOnChange(n){this.valueChanges$.subscribe(n)}registerOnTouched(n){this.valueChanges$.subscribe(n)}setDisabledState(n){n?this.control.disable():this.control.enable()}writeValue(n){if(null==n||"string"==typeof n)return this.control.setValue(n);console.warn("Invalid value for reservation status select:",n)}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-reservation-status-select"]],inputs:{inputSize:"inputSize"},standalone:!0,features:[t.M5G([{provide:c.Y6,useExisting:(0,t.wd)(()=>e),multi:!0},f.UF]),t.UHJ],ngContentSelectors:qt,decls:3,vars:2,consts:[[3,"tuiTextfieldSize","formControl"],[4,"tuiDataList"],[4,"ngFor","ngForOf"],["tuiOption","",3,"value"]],template:function(o,i){1&o&&(t.kPM(),t.I0R(0,"tui-select",0),t._Xx(1),t.yuY(2,Zt,2,1,"tui-data-list",1),t.C$Y()),2&o&&t.E7m("tuiTextfieldSize",i.inputSize)("formControl",i.control)},dependencies:[c.sl,c.ue,c.ug,Z.my,Z.cP,Z.uO,h.A$,h.yi,h.sP,h.Ux,C.ay,N.aS,N.rD],styles:["[_nghost-%COMP%]{display:block;min-width:150px}"],changeDetection:0})}return e})();var x=s(400),ee=s(4704),q=s(6380);const ne=["*"];let oe=(()=>{class e{constructor(){this.destroy$=(0,t.uUt)(f.UF),this.control=new c.Ku(null),this.inputSize="m",this.valueChanges$=this.control.valueChanges.pipe((0,O.a)(this.destroy$),(0,U.a)(),(0,J.I)(()=>this.control.valid),(0,ee.k)(n=>n?n.toLocalNativeDate():null)),this.today=x.EK.currentLocal()}ngOnInit(){}registerOnChange(n){this.valueChanges$.subscribe(n)}registerOnTouched(n){this.valueChanges$.subscribe(n)}setDisabledState(n){n?this.control.disable():this.control.enable()}writeValue(n){this.control.patchValue(this.formatToTuiDay(n))}prevDay(){this.control.value instanceof x.EK?this.control.setValue(this.control.value.append({day:-1})):console.warn("control value invalid",this.control.value)}nextDay(){this.control.value instanceof x.EK?this.control.setValue(this.control.value.append({day:1})):console.warn("control value invalid",this.control.value)}formatToTuiDay(n){return null===n||n instanceof x.EK?n:n instanceof Date?x.EK.fromLocalNativeDate(n):"string"==typeof n?x.EK.fromLocalNativeDate(new Date(n)):(console.warn("Invalid value for reservation date select:",n),null)}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-reservation-date-select"]],inputs:{inputSize:"inputSize"},standalone:!0,features:[t.M5G([{provide:c.Y6,useExisting:(0,t.wd)(()=>e),multi:!0},f.UF]),t.UHJ],ngContentSelectors:ne,decls:9,vars:4,consts:[[1,"flex","items-center"],["tuiIconButton","","type","button","size","m","appearance","icon",1,"!border","!border-solid","!rounded-full","!border-slate-400",3,"click"],[1,"mx-2","grow",3,"tuiAutoFocus","tuiTextfieldSize","min","formControl"]],template:function(o,i){1&o&&(t.kPM(),t.I0R(0,"div",0)(1,"button",1),t.qCj("click",function(){return i.prevDay()}),t.I0R(2,"mat-icon"),t.OEk(3,"arrow_back"),t.C$Y()(),t.I0R(4,"tui-input-date",2),t._Xx(5),t.C$Y(),t.I0R(6,"button",1),t.qCj("click",function(){return i.nextDay()}),t.I0R(7,"mat-icon"),t.OEk(8,"arrow_forward"),t.C$Y()()()),2&o&&(t.yG2(4),t.E7m("tuiAutoFocus",!0)("tuiTextfieldSize",i.inputSize)("min",i.today)("formControl",i.control))},dependencies:[d.CI,d.Kw,S.qL,q.iO,q.yc,q.Ml,v.m6,v.gJ,N.aS,N.rD,c.sl,c.ue,c.ug],styles:["[_nghost-%COMP%]{display:block;min-width:250px}"],changeDetection:0})}return e})();var ie=s(2300),ot=s(9772),ae=s(4592);const it=e=>({date:e});function se(e,a){if(1&e&&t.wR5(0,"app-reservation-tables-summary",16),2&e){const n=t.GaO();let o;t.E7m("showLoader",!1)("filters",t.S45(2,it,null!==(o=n.dateStr())&&void 0!==o?o:""))}}const _e=()=>[10,20,50,100],le=["*"];let re=(()=>{class e{constructor(){this.loading=!1,this.data=null,this.inputSize="m",this.filtersChanged=new t._w7,this.destroy$=(0,t.uUt)(f.UF),this.datePipe=(0,t.uUt)(C.y),this.query=new c.Ku(null),this.turn=new c.Ku(null),this.date=new c.Ku(new Date),this.status=new c.Ku("active"),this.dateStr=(0,t.OCB)(this.formatDate(this.date.value)),this.offset=0,this.per_page=10,this.lastFilters={}}ngOnInit(){this.date.valueChanges.pipe((0,O.a)(this.destroy$)).subscribe({next:n=>{this.turn.setValue(null),n?this.turn.disabled&&this.turn.enable():this.turn.disable(),this.dateStr.set(this.formatDate(n))},error:n=>console.error(n)}),[this.date,this.turn,this.status].map(n=>{n.valueChanges.pipe((0,O.a)(this.destroy$),(0,U.a)(),(0,J.I)(()=>n.valid)).subscribe({next:()=>{this.offset=0,this.filtersMayHaveChanged()}})}),[this.query].map(n=>{n.valueChanges.pipe((0,O.a)(this.destroy$),(0,U.a)(),(0,ie.o)(500),(0,J.I)(()=>n.valid)).subscribe({next:()=>{this.offset=0,this.filtersMayHaveChanged()}})})}ngAfterViewInit(){this.emitCurrentFilters()}submit(){this.emitCurrentFilters()}mergeFilters(n){}setFilters(n){}currentFilters(){const n={};if("string"==typeof this.query.value&&this.query.valid&&this.query.value.length>0&&(n.query=this.query.value),this.date.value instanceof Date&&this.date.valid){const o=this.datePipe.transform(this.date.value,"YYYY-MM-dd"),i=this.turn.value;this.turn.valid&&i instanceof w.e&&i.starts_at&&i.ends_at?(n.datetime_from=`${o} ${(0,ot.ye)(i.starts_at)}`,n.datetime_to=`${o} ${(0,ot.ye)(i.ends_at)}`):o&&(n.date=o)}return"string"==typeof this.status.value&&this.status.valid&&(n.status=this.status.value),n}paginationChange(n){this.offset=n.page,this.per_page=n.size,this.filtersMayHaveChanged()}filtersMayHaveChanged(){const n=this.currentFilters(),o=JSON.stringify(n)!==JSON.stringify(this.lastFilters);return o&&(this.lastFilters=n,this.emitCurrentFilters()),o}formatDate(n){return n instanceof Date?this.datePipe.transform(n,"YYYY-MM-dd"):null}emitCurrentFilters(){this.filtersChanged.emit(this.currentFilters())}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-list-reservations-filters"]],inputs:{loading:"loading",data:"data",inputSize:"inputSize"},outputs:{filtersChanged:"filtersChanged"},standalone:!0,features:[t.M5G([f.UF]),t.UHJ],ngContentSelectors:le,decls:28,vars:16,consts:()=>{let n,o,i,_,u;return n="Filter bookings",o="Create reservation",i="State",_="Shift",u="Data",[[1,"flex","sm:flex-col"],[1,"flex","items-center","mb-2"],["type","button","tuiIconButton","","appearance","flat",1,"me-2",3,"showLoader","click"],[1,"!inline-block","min-w-[250px]","me-2",3,"tuiAutoFocus","formControl"],n,["tuiTextfield",""],["routerLink","new","tuiLink",""],[1,"flex","items-center"],o,[1,"flex","items-center","justify-between"],[3,"inputSize","formControl"],i,[1,"mx-2",2,"min-width","150px",3,"filters","inputSize","formControl"],_,u,[1,"my-2",3,"items","total","paginationChange"],[3,"showLoader","filters"]]},template:function(o,i){if(1&o&&(t.kPM(),t.I0R(0,"div",0)(1,"div",1)(2,"button",2),t.qCj("click",function(){return i.submit()}),t.I0R(3,"mat-icon"),t.OEk(4,"search"),t.C$Y()(),t.I0R(5,"tui-input",3),t.SAx(6),t.aS0(7,4),t.k70(),t.wR5(8,"input",5),t.C$Y(),t.I0R(9,"a",6)(10,"span",7)(11,"mat-icon"),t.OEk(12,"add"),t.C$Y(),t.SAx(13),t.aS0(14,8),t.k70(),t.C$Y()()(),t.I0R(15,"div",9)(16,"app-reservation-status-select",10),t.SAx(17),t.aS0(18,11),t.k70(),t.C$Y(),t.I0R(19,"app-reservation-turn-select",12),t.SAx(20),t.aS0(21,13),t.k70(),t.C$Y(),t.I0R(22,"app-reservation-date-select",10),t.SAx(23),t.aS0(24,14),t.k70(),t.C$Y()()(),t._Xx(25),t.I0R(26,"tui-table-pagination",15),t.qCj("paginationChange",function(u){return i.paginationChange(u)}),t.C$Y(),t.yuY(27,se,1,4,"app-reservation-tables-summary",16)),2&o){let _;t.yG2(2),t.E7m("showLoader",i.loading),t.yG2(3),t.E7m("tuiAutoFocus",!0)("formControl",i.query),t.yG2(11),t.E7m("inputSize",i.inputSize)("formControl",i.status),t.yG2(3),t.E7m("filters",t.S45(13,it,i.dateStr()))("inputSize",i.inputSize)("formControl",i.turn),t.yG2(3),t.E7m("inputSize",i.inputSize)("formControl",i.date),t.yG2(4),t.E7m("items",t.q4q(15,_e))("total",null!==(_=null==i.data||null==i.data.metadata?null:i.data.metadata.total_count)&&void 0!==_?_:0),t.yG2(),t.C0Y(27,i.dateStr()?27:-1)}},dependencies:[d.CI,d.Kw,S.qL,G.CQ,G.Oo,G.cP,W.b,v.m6,v.gJ,R.w,R.C,M.ER,te,nt,oe,y.yy,y.Ws,c.sl,c.ue,c.ug,ae.u],encapsulation:2,changeDetection:0})}return e})();var ce=s(1220),at=s(1800),ue=s(4680);const me=(e,a)=>({rotate180:e,"text-slate-200 hover:text-slate-400":a}),pe=["*"];let Ee=(()=>{class e extends at.GG{constructor(n,o,i){super(n,o),this.modeDirective=i,this.hint="Click to order the items.",this.focused=!1,this.nativeFocusableElement=null}trigger(){if(this.item){if(!this.value||this.value?.field!==this.item)return void(this.value={field:this.item,asc:!0});if(this.isCurrent&&!this.isAsc)return void(this.value=null);this.value={field:this.item,asc:!this.value?.asc}}}get isAsc(){return this.value?.asc??!1}get isCurrent(){return this.value?.field===this.item}static#t=this.\u0275fac=function(o){return new(o||e)(t.GI1(c.eq,10),t.GI1(t.kD9),t.GI1(ce.Y,8))};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-order-by"]],inputs:{item:"item",hint:"hint"},standalone:!0,features:[t.M5G([(0,ue.NK)(e),(0,at.q4)(e)]),t.eg9,t.UHJ],ngContentSelectors:pe,decls:6,vars:5,consts:[["role","button",1,"inline-block",3,"click"],[1,"flex","items-center",3,"tuiHint"],["tuiIconButton","","type","button","role","button","size","s","appearance","custom"],[1,"animation-speed-2",3,"ngClass"]],template:function(o,i){1&o&&(t.kPM(),t.I0R(0,"div",0),t.qCj("click",function(){return i.trigger()}),t.I0R(1,"div",1),t._Xx(2),t.I0R(3,"button",2)(4,"mat-icon",3),t.OEk(5,"expand_more "),t.C$Y()()()()),2&o&&(t.yG2(),t.E7m("tuiHint",i.hint),t.yG2(3),t.E7m("ngClass",t.IBC(2,me,i.isCurrent&&!i.isAsc,!i.isCurrent)))},dependencies:[S.qL,C.QF,d.CI,d.Kw,g.WY,g.lh,g.SL,g.i6,g.IT],encapsulation:2,changeDetection:0})}return e})();var st=s(466);let ge=(()=>{class e{constructor(){this.human={email_open:"Open email"}}transform(n){return null==n?null:this.human[n]??null}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275pipe=t.UTH({name:"humanizeEventType",type:e,pure:!0,standalone:!0})}return e})();function Ce(e,a){1&e&&(t.SAx(0),t.aS0(1,3),t.k70())}const Te=(e,a)=>({"text-blue-500":e,"text-slate-500":a}),de=e=>({rotate180:e});function fe(e,a){if(1&e&&(t.I0R(0,"tui-hosted-dropdown",1,4)(2,"button",5)(3,"span",6)(4,"span",7),t.OEk(5),t.C$Y(),t.I0R(6,"mat-icon",8),t.OEk(7,"mail"),t.C$Y(),t.I0R(8,"mat-icon",9),t.OEk(9,"expand_more"),t.C$Y()()()()),2&e){const n=t.Gew(1),o=t.GaO(),i=t.Gew(4);t.E7m("content",i),t.yG2(5),t.cNF(o.emails().length),t.yG2(),t.E7m("ngClass",t.IBC(4,Te,o.emailOpenAtLeastOnce(),!o.emailOpenAtLeastOnce())),t.yG2(2),t.E7m("ngClass",t.S45(7,de,n.open))}}const tt=(e,a)=>a.id;function Se(e,a){if(1&e&&(t.I0R(0,"span",19),t.OEk(1),t.wVc(2,"json"),t.C$Y()),2&e){const n=t.GaO().$implicit;t.yG2(),t.cNF(t.kDX(2,1,n.event_data))}}function Re(e,a){if(1&e&&(t.I0R(0,"li")(1,"span",6)(2,"span",7),t.OEk(3),t.wVc(4,"humanizeEventType"),t.C$Y(),t.I0R(5,"span",7),t.OEk(6),t.wVc(7,"date"),t.C$Y(),t.yuY(8,Se,3,3,"span",18),t.C$Y()()),2&e){const n=a.$implicit,o=t.GaO().$implicit;t.yG2(3),t.cNF(t.kDX(4,3,o.event_type)),t.yG2(3),t.cNF(t.g7$(7,5,n.event_time,"EEEE d MMMM y, H:m")),t.yG2(2),t.C0Y(8,n.event_data?8:-1)}}function Oe(e,a){1&e&&t.c53(0,Re,9,8,"li",null,tt),2&e&&t.oho(a.$implicit.events)}function he(e,a){if(1&e&&(t.I0R(0,"div",14)(1,"div",15)(2,"span",16),t.OEk(3),t.C$Y(),t.I0R(4,"b",7),t.aS0(5,17),t.C$Y(),t.I0R(6,"span"),t.OEk(7),t.wVc(8,"date"),t.C$Y()()(),t.I0R(9,"ul"),t.c53(10,Oe,2,0,null,null,tt),t.C$Y()),2&e){const n=a.$implicit;t.yG2(3),t.oRS("#",n.id,""),t.yG2(4),t.cNF(t.g7$(8,2,n.created_at,"EEEE d MMMM y, H:m")),t.yG2(3),t.oho(n.image_pixels)}}function Ie(e,a){1&e&&(t.SAx(0),t.aS0(1,20),t.k70())}function Ne(e,a){1&e&&(t.SAx(0),t.aS0(1,21),t.k70())}function ve(e,a){if(1&e){const n=t.KQA();t.I0R(0,"div",11),t.c53(1,he,12,5,null,null,tt),t.I0R(3,"button",12),t.qCj("click",function(){t.usT(n);const i=t.GaO(2);return t.CGJ(i.resendEmail())}),t.I0R(4,"span",6)(5,"span",13),t.yuY(6,Ie,2,0,"ng-container")(7,Ne,2,0),t.C$Y(),t.I0R(8,"mat-icon"),t.OEk(9,"send"),t.C$Y()()()()}if(2&e){const n=t.GaO(2);t.yG2(),t.oho(n.emails()),t.yG2(2),t.E7m("showLoader",n.loading())("appearance","outline")("disabled",!(n.reservation.email&&n.reservation.email.length>0)),t.yG2(3),t.C0Y(6,n.emails().length>0?6:7)}}function ye(e,a){if(1&e&&t.yuY(0,ve,10,4,"div",10),2&e){const n=t.GaO();t.C0Y(0,n.reservation?0:-1)}}let Ae=(()=>{class e{constructor(){this.service=(0,t.uUt)(F.S),this.notifications=(0,t.uUt)(V.E),this.destroy$=(0,t.uUt)(f.UF),this.emails=(0,t.OCB)([]),this.loading=(0,t.OCB)(!1),this.emailOpenAtLeastOnce=(0,t.S6b)(()=>{const n=this.emails();let o=!1;return n.forEach(i=>{i.image_pixels?.forEach(_=>{"email_open"===_.event_type&&_.events&&_.events.length>0&&(o=!0)})}),o})}resendEmail(){const n=this.reservation?.id;n&&(this.loading.set(!0),this.service.deliverConfirmationEmail(n).pipe((0,O.a)(this.destroy$),(0,z.U)(()=>this.loading.set(!1))).subscribe({next:o=>{this.notifications.fireSnackBar("Email sent"),this.setEmailsByReservation(o)},error:o=>{this.notifications.error((0,k.mk)(o)??"Something went wrong. Please try again later.")}}))}ngOnChanges(n){n.reservation&&this.setEmailsByReservation(n.reservation.currentValue)}setEmailsByReservation(n){this.emails.set(n?.delivered_emails??[])}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-reservation-events"]],inputs:{reservation:"reservation"},standalone:!0,features:[t.SYr,t.UHJ],decls:5,vars:1,consts:()=>{let n,o,i,_;return n="Send booking confirmation.",o="Email sent",i="Resend confirmation email.",_="Send confirmation email.",[["resendHint",""],[3,"content"],["allEvents",""],n,["dropdown",""],["tuiButton","","appearance","custom","size","s","type","button"],[1,"flex","items-center"],[1,"me-1"],[1,"text-slate-500",3,"ngClass"],[1,"text-slate-500","animation-speed-2",3,"ngClass"],["class","p-3"],[1,"p-3"],["type","button","tuiButton","","size","s",3,"showLoader","appearance","disabled","click"],[1,"me-2"],[1,"flex","flex-col"],[1,"flex"],[1,"text-slate-400","me-1"],o,["class","text-slate-400"],[1,"text-slate-400"],i,_]},template:function(o,i){1&o&&t.yuY(0,Ce,2,0,"ng-template",null,0,t.gJz)(2,fe,10,9,"tui-hosted-dropdown",1)(3,ye,1,1,"ng-template",null,2,t.gJz),2&o&&(t.yG2(2),t.C0Y(2,i.reservation?2:-1))},dependencies:[d.CI,d.Kw,S.qL,g.WY,st.GE,st.Qw,C.y,C.ED,ge,C.QF],encapsulation:2})}return e})();const Me=["phoneTo",""];function Ge(e,a){1&e&&(t.I0R(0,"mat-icon",3),t.OEk(1,"chat"),t.C$Y())}function $e(e,a){1&e&&(t.I0R(0,"mat-icon",3),t.OEk(1,"call"),t.C$Y())}const xe=["*"];let Pe=(()=>{class e{constructor(){this.whatsapp=!1}ngOnChanges(){this.href=this.whatsapp?`https://wa.me/${this.phoneTo}`:`tel:${this.phoneTo}`}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["","phoneTo",""]],inputs:{phoneTo:"phoneTo",whatsapp:"whatsapp"},standalone:!0,features:[t.SYr,t.UHJ],attrs:Me,ngContentSelectors:xe,decls:5,vars:2,consts:[["target","_blank","tuiLink","",3,"href"],[1,"flex","items-center"],["class","ms-1"],[1,"ms-1"]],template:function(o,i){1&o&&(t.kPM(),t.I0R(0,"a",0)(1,"span",1),t._Xx(2),t.yuY(3,Ge,2,0,"mat-icon",2)(4,$e,2,0),t.C$Y()()),2&o&&(t._6D("href",i.href,t.K6U),t.yG2(3),t.C0Y(3,i.whatsapp?3:4))},dependencies:[R.w,R.C,S.qL],changeDetection:0})}return e})();const Ye=["mailTo",""],Le=["*"];let Ve=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["","mailTo",""]],inputs:{mailTo:"mailTo"},standalone:!0,features:[t.UHJ],attrs:Ye,ngContentSelectors:Le,decls:3,vars:1,consts:[["target","_blank","tuiLink","",3,"href"],[1,"flex","items-center"]],template:function(o,i){1&o&&(t.kPM(),t.I0R(0,"a",0)(1,"span",1),t._Xx(2),t.C$Y()()),2&o&&t.CI5("href","mailto:",i.mailTo,"",t.K6U)},dependencies:[R.w,R.C],changeDetection:0})}return e})();function ze(e,a){if(1&e&&(t.I0R(0,"p"),t.OEk(1),t.SAx(2),t.aS0(3,2),t.k70(),t.C$Y(),t.I0R(4,"p"),t.OEk(5),t.SAx(6),t.aS0(7,3),t.k70(),t.C$Y()),2&e){const n=t.GaO();let o,i;t.yG2(),t.oRS(" ",null!==(o=n.adults)&&void 0!==o?o:0," "),t.yG2(4),t.oRS(" ",null!==(i=n.children)&&void 0!==i?i:0," ")}}function ke(e,a){if(1&e&&(t.I0R(0,"span"),t.OEk(1),t.C$Y(),t.I0R(2,"mat-icon"),t.OEk(3,"person2"),t.C$Y()),2&e){const n=t.GaO();t.yG2(),t.cNF(n.adults)}}function be(e,a){if(1&e&&(t.I0R(0,"span"),t.OEk(1),t.C$Y(),t.I0R(2,"mat-icon"),t.OEk(3,"child_care"),t.C$Y()),2&e){const n=t.GaO();t.yG2(),t.cNF(n.children)}}function De(e,a){1&e&&t.OEk(0," ??? ")}let Fe=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-reservation-people"]],inputs:{adults:"adults",children:"children"},standalone:!0,features:[t.UHJ],decls:6,vars:4,consts:()=>{let n,o;return n="Adults",o="Children",[["hint",""],[1,"flex","items-center",3,"tuiHint"],n,o]},template:function(o,i){if(1&o&&(t.yuY(0,ze,8,2,"ng-template",null,0,t.gJz),t.I0R(2,"div",1),t.yuY(3,ke,4,1)(4,be,4,1)(5,De,1,0),t.C$Y()),2&o){const _=t.Gew(1);t.yG2(2),t.E7m("tuiHint",_),t.yG2(),t.C0Y(3,i.adults&&i.adults>0?3:-1),t.yG2(),t.C0Y(4,i.children&&i.children>0?4:-1),t.yG2(),t.C0Y(5,i.adults&&i.adults>0||i.children&&i.children>0?-1:5)}},dependencies:[S.qL,g.WY,g.lh,g.SL,g.i6,g.IT],encapsulation:2})}return e})();var we=s(4476);const He=(e,a)=>a.id;function Xe(e,a){1&e&&(t.SAx(0),t.aS0(1,14),t.k70())}function Ue(e,a){1&e&&(t.SAx(0),t.aS0(1,15),t.k70())}function Je(e,a){1&e&&(t.SAx(0),t.aS0(1,16),t.k70())}function Be(e,a){1&e&&(t.SAx(0),t.aS0(1,17),t.k70())}function Ke(e,a){1&e&&(t.SAx(0),t.aS0(1,18),t.k70())}function Qe(e,a){1&e&&(t.SAx(0),t.aS0(1,19),t.k70())}function je(e,a){1&e&&(t.SAx(0),t.aS0(1,20),t.k70())}function We(e,a){1&e&&(t.SAx(0),t.aS0(1,21),t.k70())}function Ze(e,a){1&e&&t.C_f(0)}function qe(e,a){1&e&&t.C_f(0)}function tn(e,a){1&e&&t.C_f(0)}function en(e,a){1&e&&t.C_f(0)}function nn(e,a){1&e&&t.C_f(0)}function on(e,a){1&e&&t.C_f(0)}function an(e,a){1&e&&t.C_f(0)}function sn(e,a){1&e&&t.C_f(0)}function _n(e,a){if(1&e&&(t.OEk(0),t.wVc(1,"date")),2&e){const n=t.GaO().$implicit;t.oRS(" ",t.g7$(1,1,n.datetime,"full")," ")}}function ln(e,a){1&e&&t.C_f(0)}function rn(e,a){1&e&&t.C_f(0)}function cn(e,a){1&e&&t.C_f(0)}function un(e,a){1&e&&t.C_f(0)}function mn(e,a){1&e&&t.C_f(0)}function pn(e,a){1&e&&t.C_f(0)}function En(e,a){if(1&e&&(t.I0R(0,"p",26),t.OEk(1),t.C$Y()),2&e){const n=t.GaO().$implicit;t.E7m("phoneTo",n.phone)("whatsapp",!0),t.yG2(),t.cNF(n.phone)}}function gn(e,a){if(1&e&&(t.I0R(0,"p",27),t.OEk(1),t.C$Y()),2&e){const n=t.GaO().$implicit;t.E7m("mailTo",n.email),t.yG2(),t.cNF(n.email)}}function Cn(e,a){if(1&e){const n=t.KQA();t.I0R(0,"tr")(1,"td")(2,"span",22),t.yuY(3,sn,1,0,"ng-container",13),t.C$Y(),t.yuY(4,_n,2,4,"ng-template",null,23,t.gJz),t.I0R(6,"span",24),t.OEk(7),t.wVc(8,"date"),t.C$Y()(),t.I0R(9,"td")(10,"span",22),t.yuY(11,ln,1,0,"ng-container",13),t.C$Y(),t.I0R(12,"span"),t.OEk(13),t.C$Y()(),t.I0R(14,"td")(15,"span",22),t.yuY(16,rn,1,0,"ng-container",13),t.C$Y(),t.wR5(17,"app-reservation-people",25),t.C$Y(),t.I0R(18,"td")(19,"span",22),t.yuY(20,cn,1,0,"ng-container",13),t.C$Y(),t.I0R(21,"span"),t.OEk(22),t.C$Y()(),t.I0R(23,"td")(24,"span",22),t.yuY(25,un,1,0,"ng-container",13),t.C$Y(),t.I0R(26,"span"),t.OEk(27),t.C$Y()(),t.I0R(28,"td")(29,"span",22),t.yuY(30,mn,1,0,"ng-container",13),t.C$Y(),t.I0R(31,"span"),t.OEk(32),t.C$Y()(),t.I0R(33,"td")(34,"span",22),t.yuY(35,pn,1,0,"ng-container",13),t.C$Y(),t.yuY(36,En,2,3,"p",26)(37,gn,2,2,"p",27),t.C$Y(),t.I0R(38,"td")(39,"div",28),t.wR5(40,"app-reservation-events",29),t.I0R(41,"a",30)(42,"mat-icon"),t.OEk(43,"edit"),t.C$Y()(),t.I0R(44,"button",31),t.qCj("click",function(){const _=t.usT(n).$implicit,u=t.GaO();return t.CGJ(u.delete(_.id))}),t.I0R(45,"mat-icon"),t.OEk(46,"delete"),t.C$Y()()()()()}if(2&e){const n=a.$implicit,o=t.Gew(5);t.GaO();const i=t.Gew(4),_=t.Gew(6),u=t.Gew(10),T=t.Gew(12),P=t.Gew(14),Y=t.Gew(16),L=t.Gew(18);t.yG2(3),t.E7m("ngTemplateOutlet",i),t.yG2(3),t.E7m("tuiHint",o),t.yG2(),t.oRS(" ",t.g7$(8,19,n.datetime,"HH:mm")," "),t.yG2(4),t.E7m("ngTemplateOutlet",_),t.yG2(2),t.cNF(n.fullname),t.yG2(3),t.E7m("ngTemplateOutlet",u),t.yG2(),t.E7m("adults",n.adults)("children",n.children),t.yG2(3),t.E7m("ngTemplateOutlet",T),t.yG2(2),t.cNF(n.status),t.yG2(3),t.E7m("ngTemplateOutlet",P),t.yG2(2),t.cNF(n.table),t.yG2(3),t.E7m("ngTemplateOutlet",Y),t.yG2(2),t.cNF(n.notes),t.yG2(3),t.E7m("ngTemplateOutlet",L),t.yG2(),t.C0Y(36,n.phone&&n.phone.length>0?36:-1),t.yG2(),t.C0Y(37,n.email&&n.email.length>0?37:-1),t.yG2(3),t.E7m("reservation",n),t.yG2(),t._6D("routerLink",n.id)}}let Tn=(()=>{class e{constructor(){this.loading=(0,t.OCB)(!1),this.data=(0,t.OCB)(null),this.items=(0,t.S6b)(()=>this.data()?.items||[]),this.service=(0,t.uUt)(F.S),this.notifications=(0,t.uUt)(V.E),this.date=(0,t.uUt)(C.y),this.destroy$=(0,t.uUt)(f.UF),this._=(0,t.uUt)(we.OY).setTitle("Bookings | La porta d'acqua"),this.inputSize="m",this.defaultOrder={field:"datetime",asc:!0},this.filters={},this.order=new c.Ku(null)}ngOnInit(){this.order.valueChanges.subscribe({next:n=>{this.search()}})}delete(n){n&&this.notifications.confirm("Are you sure you want to cancel this reservation?").subscribe({next:o=>{o&&this.confirmedDelete(n)}})}filtersChanged(n){this.filters=n,this.search(n)}confirmedDelete(n){this.loading.set(!0),this.service.destroy(n).pipe((0,O.a)(this.destroy$),(0,z.U)(()=>{this.loading.set(!1),this.search()})).subscribe({error:o=>{this.notifications.error((0,k.mk)(o)||"Something went wrong with the cancellation.")}})}search(n=this.filters){n||={},n={...n};const o=this.order.value;this.order.valid&&o&&(n.order_by_field=o.field,n.order_by_direction=o.asc?"ASC":"DESC"),this.loading.set(!0),this.service.search(n).pipe((0,O.a)(this.destroy$),(0,z.U)(()=>this.loading.set(!1))).subscribe({next:i=>{this.data.set(i)},error:i=>{this.notifications.error((0,k.mk)(i)||"Something went wrong in the research."),console.error(i)}})}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-admin-reservations-home"]],viewQuery:function(o,i){if(1&o&&t.CC$(nt,7),2&o){let _;t.wto(_=t.Gqi())&&(i.turnSelect=_.first)}},standalone:!0,features:[t.M5G([f.UF]),t.UHJ],decls:48,vars:20,consts:()=>{let n,o,i,_,u,T,P,Y,L;return n="Reservations",o="Schedule",i="Name",_="Email",u="No.",T="State",P="Table",Y="Note",L="Contacts",[n,["datetimeCol",""],["nameCol",""],["emailCol",""],["peopleCol",""],["statusCol",""],["tableCol",""],["notesCol",""],["contactsCol",""],[3,"data","filtersChanged"],[1,"responsive-table","collapse-md"],[1,"text-start"],[3,"item","formControl"],[4,"ngTemplateOutlet"],o,i,_,u,T,P,Y,L,[1,"collapse-header"],["detailDatetime",""],[3,"tuiHint"],[3,"adults","children"],[3,"phoneTo","whatsapp"],[3,"mailTo"],[1,"flex","items-baseline"],[1,"my-auto",3,"reservation"],["size","m","tuiIconButton","","appearance","flat",1,"me-1",3,"routerLink"],["size","m","type","button","tuiIconButton","","appearance","secondary-destructive",3,"click"]]},template:function(o,i){if(1&o&&(t.I0R(0,"h1"),t.SAx(1),t.aS0(2,0),t.k70(),t.C$Y(),t.yuY(3,Xe,2,0,"ng-template",null,1,t.gJz)(5,Ue,2,0,"ng-template",null,2,t.gJz)(7,Je,2,0,"ng-template",null,3,t.gJz)(9,Be,2,0,"ng-template",null,4,t.gJz)(11,Ke,2,0,"ng-template",null,5,t.gJz)(13,Qe,2,0,"ng-template",null,6,t.gJz)(15,je,2,0,"ng-template",null,7,t.gJz)(17,We,2,0,"ng-template",null,8,t.gJz),t.I0R(19,"app-list-reservations-filters",9),t.qCj("filtersChanged",function(u){return i.filtersChanged(u)}),t.I0R(20,"table",10)(21,"thead")(22,"tr")(23,"th",11)(24,"app-order-by",12),t.yuY(25,Ze,1,0,"ng-container",13),t.C$Y()(),t.I0R(26,"th",11)(27,"app-order-by",12),t.yuY(28,qe,1,0,"ng-container",13),t.C$Y()(),t.I0R(29,"th",11)(30,"app-order-by",12),t.yuY(31,tn,1,0,"ng-container",13),t.C$Y()(),t.I0R(32,"th",11)(33,"app-order-by",12),t.yuY(34,en,1,0,"ng-container",13),t.C$Y()(),t.I0R(35,"th",11)(36,"app-order-by",12),t.yuY(37,nn,1,0,"ng-container",13),t.C$Y()(),t.I0R(38,"th",11)(39,"app-order-by",12),t.yuY(40,on,1,0,"ng-container",13),t.C$Y()(),t.I0R(41,"th",11),t.yuY(42,an,1,0,"ng-container",13),t.C$Y(),t.wR5(43,"th"),t.C$Y()(),t.I0R(44,"tbody"),t.c53(45,Cn,47,22,"tr",null,He),t.C$Y()()(),t.wR5(47,"router-outlet")),2&o){const _=t.Gew(4),u=t.Gew(6),T=t.Gew(10),P=t.Gew(12),Y=t.Gew(14),L=t.Gew(16),I=t.Gew(18);t.yG2(19),t.E7m("data",i.data()),t.yG2(5),t.E7m("item","datetime")("formControl",i.order),t.yG2(),t.E7m("ngTemplateOutlet",_),t.yG2(2),t.E7m("item","fullname")("formControl",i.order),t.yG2(),t.E7m("ngTemplateOutlet",u),t.yG2(2),t.E7m("item","people")("formControl",i.order),t.yG2(),t.E7m("ngTemplateOutlet",T),t.yG2(2),t.E7m("item","status")("formControl",i.order),t.yG2(),t.E7m("ngTemplateOutlet",P),t.yG2(2),t.E7m("item","table")("formControl",i.order),t.yG2(),t.E7m("ngTemplateOutlet",Y),t.yG2(2),t.E7m("item","notes")("formControl",i.order),t.yG2(),t.E7m("ngTemplateOutlet",L),t.yG2(2),t.E7m("ngTemplateOutlet",I),t.yG2(3),t.oho(i.items())}},dependencies:[C.MD,C.XV,C.y,c.sl,c.ue,c.ug,G.CQ,v.m6,d.CI,d.Kw,S.qL,M.ER,R.w,M.cP,y.yy,g.WY,g.lh,g.SL,g.i6,g.IT,re,Ee,Ae,Pe,Ve,Fe],encapsulation:2,changeDetection:0})}return e})()},5892:(_t,D,s)=>{s.d(D,{Ws:()=>h,yy:()=>X});var t=s(4496),C=s(2528),c=s(3568);(0,C.W0)((0,c.u)("showHideText"));const f=(0,C.W0)((0,c.u)("paginationTexts"));var v=s(466),d=s(1512),R=s(4336),g=s(3656),S=s(8212),M=s(5944),y=s(1368),V=s(1040);function O(l,E){if(1&l&&(t.SAx(0),t.OEk(1),t.I0R(2,"strong",6),t.OEk(3),t.C$Y(),t.k70()),2&l){const r=t.GaO().ngIf,p=t.GaO();t.yG2(),t.oRS(" ",r.pages," "),t.yG2(2),t.cNF(p.pages)}}function z(l,E){if(1&l&&(t.SAx(0),t.OEk(1),t.k70()),2&l){const r=E.polymorpheusOutlet;t.yG2(),t.oRS(" ",r," ")}}function k(l,E){if(1&l&&t.wR5(0,"tui-svg",13),2&l){const r=t.GaO(4);t.E7m("src",r.commonIcons.check)}}function F(l,E){1&l&&t.wR5(0,"span",14)}const B=(l,E)=>({$implicit:l,total:E});function w(l,E){if(1&l){const r=t.KQA();t.SAx(0),t.I0R(1,"button",9),t.qCj("click",function(){const A=t.usT(r).$implicit,$=t.GaO(3);return t.CGJ($.onItem(A))}),t.yuY(2,z,2,1,"ng-container",10)(3,k,1,1,"tui-svg",11)(4,F,1,0,"ng-template",null,12,t.gJz),t.C$Y(),t.k70()}if(2&l){const r=E.$implicit,p=t.Gew(5),m=t.GaO(3);t.yG2(2),t.E7m("polymorpheusOutlet",m.options.sizeOptionContent)("polymorpheusOutletContext",t.IBC(4,B,r,m.total)),t.yG2(),t.E7m("ngIf",r===m.size)("ngIfElse",p)}}function K(l,E){if(1&l&&(t.I0R(0,"tui-data-list",7),t.yuY(1,w,6,7,"ng-container",8),t.C$Y()),2&l){const r=t.GaO(2);t.yG2(),t.E7m("ngForOf",r.items)}}function Q(l,E){if(1&l){const r=t.KQA();t.SAx(0),t.I0R(1,"button",15),t.qCj("click",function(){t.usT(r);const m=t.GaO(2);return t.CGJ(m.back())}),t.C$Y(),t.I0R(2,"button",16),t.qCj("click",function(){t.usT(r);const m=t.GaO(2);return t.CGJ(m.forth())}),t.C$Y(),t.k70()}if(2&l){const r=E.ngIf,p=t.GaO(2);t.yG2(),t.E7m("disabled",p.leftDisabled)("icon",p.icons.decrement)("title",r[0]),t.yG2(),t.E7m("disabled",p.rightDisabled)("icon",p.icons.increment)("title",r[1])}}function b(l,E){if(1&l){const r=t.KQA();t.SAx(0),t.I0R(1,"span",1),t.yuY(2,O,4,2,"ng-container",0),t.C$Y(),t.I0R(3,"span",2),t.OEk(4),t.I0R(5,"tui-hosted-dropdown",3),t.iHE("openChange",function(m){t.usT(r);const A=t.GaO();return t.kNx(A.open,m)||(A.open=m),t.CGJ(m)}),t.I0R(6,"button",4)(7,"strong"),t.OEk(8),t.C$Y()(),t.yuY(9,K,2,1,"ng-template",null,5,t.gJz),t.C$Y(),t.OEk(11),t.I0R(12,"strong",6),t.OEk(13),t.C$Y()(),t.yuY(14,Q,3,6,"ng-container",0),t.wVc(15,"async"),t.k70()}if(2&l){const r=E.ngIf,p=t.Gew(10),m=t.GaO();t.yG2(2),t.E7m("ngIf",m.options.showPages),t.yG2(2),t.oRS(" ",r.linesPerPage," "),t.yG2(),t.E7m("content",p),t.OKB("open",m.open),t.yG2(3),t.CAO("",m.start+1,"\u2013",m.end,""),t.yG2(3),t.oRS(" ",r.of," "),t.yG2(2),t.cNF(m.total),t.yG2(),t.E7m("ngIf",t.kDX(15,9,m.spinTexts$))}}const N=(0,C.AL)({sizeOptionContent:function j({$implicit:l}){return`${l}`},showPages:!0,items:[10,20,50,100],size:10});let h=(()=>{class l{constructor(r,p,m,A,$){this.icons=r,this.spinTexts$=p,this.texts$=m,this.options=A,this.commonIcons=$,this.items=this.options.items,this.total=0,this.page=0,this.size=this.options.size,this.pageChange=new t._w7,this.sizeChange=new t._w7,this.paginationChange=new t._w7,this.open=!1}get pages(){return Math.ceil(this.total/this.size)}get start(){return this.page*this.size}get end(){return Math.min(this.start+this.size,this.total)}get leftDisabled(){return!this.start}get rightDisabled(){return this.end===this.total}get pagination(){return{page:this.page,size:this.size}}onItem(r){const{start:p}=this;this.size=r,this.sizeChange.emit(r),this.open=!1,this.page=Math.floor(p/this.size),this.pageChange.emit(this.page),this.paginationChange.emit(this.pagination)}back(){this.page--,this.pageChange.emit(this.page),this.paginationChange.emit(this.pagination)}forth(){this.page++,this.pageChange.emit(this.page),this.paginationChange.emit(this.pagination)}}return l.\u0275fac=function(r){return new(r||l)(t.GI1(M.KY),t.GI1(M.s1),t.GI1(f),t.GI1(N),t.GI1(M.QJ))},l.\u0275cmp=t.In1({type:l,selectors:[["tui-table-pagination"]],inputs:{items:"items",total:"total",page:"page",size:"size"},outputs:{pageChange:"pageChange",sizeChange:"sizeChange",paginationChange:"paginationChange"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"t-pages"],["automation-id","tui-table-pagination__lines-per-page-wrapper"],[3,"content","open","openChange"],["tuiLink","","type","button"],["content",""],[1,"t-strong"],["size","s"],[4,"ngFor","ngForOf"],["tuiOption","",1,"t-item",3,"click"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],["class","t-checkmark",3,"src",4,"ngIf","ngIfElse"],["fakeIcon",""],[1,"t-checkmark",3,"src"],[1,"t-checkmark"],["appearance","icon","size","xs","tuiIconButton","","type","button",1,"t-back",3,"disabled","icon","title","click"],["appearance","icon","size","xs","tuiIconButton","","type","button",3,"disabled","icon","title","click"]],template:function(r,p){1&r&&(t.yuY(0,b,16,11,"ng-container",0),t.wVc(1,"async")),2&r&&t.E7m("ngIf",t.kDX(1,1,p.texts$))},dependencies:[v.Qw,d.C,R.yi,R.sP,g.Wu,S.Kw,y.u_,y.ay,V.Af,y.a],styles:["[_nghost-%COMP%]{display:flex;font:var(--tui-font-text-s);align-items:center;color:var(--tui-text-03)}.t-strong[_ngcontent-%COMP%]{color:var(--tui-text-01)}.t-pages[_ngcontent-%COMP%]{margin-right:auto}.t-item[_ngcontent-%COMP%]{min-width:5.5rem;box-sizing:border-box}.t-checkmark[_ngcontent-%COMP%]{min-width:1.5rem;border-left:5px solid transparent}.t-back[_ngcontent-%COMP%]{margin:0 .25rem 0 1.5rem}"],changeDetection:0}),l})(),X=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=t.a4G({type:l}),l.\u0275inj=t.s3X({imports:[[y.MD,S.CI,d.w,v.GE,R.A$,g.Yt,V.Ux]]}),l})()}}]);