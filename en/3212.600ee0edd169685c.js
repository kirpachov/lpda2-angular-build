"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[3212],{3212:($,L,r)=>{r.d(L,{y:()=>ho});var e=r(4496),R=r(8212),C=r(1512),T=r(1128),f=r(3480),P=r(6616),u=r(4820),c=r(7296),d=r(3616),O=r(1680),h=r(1368),_=r(6504),A=r(400),S=r(3412),M=r(6684),E=r(8824),l=r(8976),m=r(7048),v=r(8256),y=r(8392),U=r(6772);let D=(()=>{class o extends U.A{constructor(){super("reservations"),this.version=2}getValidTimes(t){const n={};return t.date instanceof A.EK&&(n.date=`${t.date.year}-${(t.date.month+1)%13}-${t.date.day}`),"number"==typeof t.people&&t.people&&(n.people=t.people),this.get("valid_times",{params:n})}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275prov=e.wxM({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var G=r(9772),Y=r(8268),k=r(1560),ae=r(1676),N=r(8048),H=r(5188),se=r(6052),z=r(4336);function Ge(o,s){1&o&&(e.I0R(0,"mat-icon"),e.OEk(1,"person"),e.C$Y())}function Fe(o,s){1&o&&(e.I0R(0,"mat-icon"),e.OEk(1,"people"),e.C$Y())}function Be(o,s){1&o&&(e.I0R(0,"mat-icon"),e.OEk(1,"groups"),e.C$Y())}function ke(o,s){if(1&o&&e.yuY(0,Ge,2,0)(1,Fe,2,0)(2,Be,2,0),2&o){const t=e.GaO();let n;e.C0Y(0,1===(n=t.people.value)?0:2===n?1:2)}}function Ye(o,s){1&o&&(e.SAx(0),e.aS0(1,5),e.k70())}function ze(o,s){1&o&&(e.SAx(0),e.aS0(1,6),e.k70())}function Ke(o,s){if(1&o&&(e.OEk(0),e.yuY(1,Ye,2,0,"ng-container")(2,ze,2,0)),2&o){const t=s.$implicit;e.oRS(" ",t," "),e.yG2(),e.C0Y(1,t>1?1:2)}}function He(o,s){if(1&o&&e.wR5(0,"tui-data-list-wrapper",7),2&o){const t=e.GaO(),n=e.Gew(3);e.E7m("itemContent",n)("items",t.peopleArray())}}let We=(()=>{class o{constructor(){this.destroy$=(0,e.uUt)(f.UF),this.publicDataService=(0,e.uUt)(ae.s),this.people=new _.Ku(null),this.peopleArray=(0,e.OCB)(Array.from({length:10}).map((t,n)=>n+1))}ngOnInit(){this.loadPublicData()}writeValue(t){this.people.setValue(t)}registerOnChange(t){this.people.valueChanges.subscribe(n=>{t(n)})}registerOnTouched(t){this.people.valueChanges.subscribe(()=>{t()})}setDisabledState(t){t?this.people.disable():this.people.enable()}loadPublicData(){this.publicDataService.data$.pipe((0,d.a)(this.destroy$),(0,M.I)(t=>null!==t)).subscribe({next:t=>{this.updateMaxPeople(Number(t.settings.max_people_per_reservation??null))}})}updateMaxPeople(t){this.peopleArray.set(Array.from({length:t}).map((n,i)=>i+1))}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-people-input"]],standalone:!0,features:[e.M5G([f.UF,{provide:_.Y6,useExisting:o,multi:!0}]),e.UHJ],decls:7,vars:5,consts:()=>{let t,n;return t="people",n="person",[["peopleIcon",""],["peopleOptionTemplate",""],[1,"!rounded-tr-none","!rounded-br-none",3,"tuiTextfieldIconLeft","valueContent","formControl","tuiTextfieldLabelOutside"],["tuiMultiSelectGroup","",3,"itemContent","items",4,"tuiDataList"],["tuiSelect","",3,"items"],t,n,["tuiMultiSelectGroup","",3,"itemContent","items"]]},template:function(n,i){if(1&n&&(e.yuY(0,ke,3,1,"ng-template",null,0,e.gJz)(2,Ke,3,2,"ng-template",null,1,e.gJz),e.I0R(4,"tui-select",2),e.yuY(5,He,1,2,"tui-data-list-wrapper",3),e.wR5(6,"select",4),e.C$Y()),2&n){const a=e.Gew(1),p=e.Gew(3);e.yG2(4),e.E7m("tuiTextfieldIconLeft",a)("valueContent",p)("formControl",i.people)("tuiTextfieldLabelOutside",!0),e.yG2(2),e.E7m("items",i.peopleArray())}},dependencies:[k.oB,k.qL,H.my,H.cP,H.uO,H._m,N.aS,N.E9,N.Ep,_.sl,_.ue,_.ug,se.q8,se.OO,z.Ux],encapsulation:2,changeDetection:0})}return o})();var F=r(466),V=r(7936),le=r(1673),oe=r(7176),ue=r(6528),W=r(1040);const Xe=["dateDropdown"];function je(o,s){1&o&&(e.I0R(0,"mat-icon"),e.OEk(1,"calendar_today"),e.C$Y())}function Qe(o,s){if(1&o){const t=e.KQA();e.I0R(0,"tui-calendar",7),e.qCj("monthChange",function(i){e.usT(t);const a=e.GaO();return e.CGJ(a.onMonthChange(i))})("touchend",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.touched())})("dayClick",function(i){e.usT(t);const a=e.GaO();return e.CGJ(a.onDayClick(i))}),e.C$Y(),e.I0R(1,"tui-checkbox-block",8),e.SAx(2),e.aS0(3,9),e.k70(),e.C$Y()}if(2&o){const t=e.GaO();e.E7m("min",t.onlyValidDates.value?t.today():null)("max",t.onlyValidDates.value?t.maxDate():null)("disabledItemHandler",t.disabledDates)("value",t.control.value),e.yG2(),e.E7m("formControl",t.onlyValidDates)}}function Je(o,s){1&o&&e.C_f(0)}function Ze(o,s){if(1&o&&(e.I0R(0,"div",10),e.yuY(1,Je,1,0,"ng-container",11),e.C$Y()),2&o){const t=e.GaO();e.yG2(),e.E7m("polymorpheusOutlet",t.TUI_ARROW)}}let qe=(()=>{class o{constructor(){this.cd=(0,e.uUt)(e.kD9),this.destroy$=(0,e.uUt)(f.UF),this.notifications=(0,e.uUt)(T.E),this.publicDataService=(0,e.uUt)(ae.s),this.reservationsService=(0,e.uUt)(u.G),this.datePipe=(0,e.uUt)(h.y),this.maxDaysInAdvance=(0,e.OCB)(300),this.defaultDateValue=A.EK.currentLocal(),this.control=new _.Ku(this.defaultDateValue),this.defaultDateReadonly="Select a date.",this.loadingDates=(0,e.OCB)(!1),this.TUI_ARROW=oe.ie,this.maxDate=(0,e.OCB)(null),this.onlyValidDates=new _.Ku(!0),this.today=(0,e.OCB)(A.EK.currentLocal()),this.validDates=(0,e.OCB)([]),this.disabledDates=t=>!(!this.onlyValidDates.value||!t.dayBefore(this.today())&&!t.dayAfter(this.today().append({day:this.maxDaysInAdvance()}))&&(0===this.validDates().length||t.dayAfter(this.validDates()[this.validDates().length-1])||this.validDates().find(n=>n.daySame(t))))}ngOnInit(){this.loadPublicData(),this.formUpdated(),this.loadDates(),this.control.valueChanges.pipe((0,d.a)(this.destroy$),(0,M.I)(t=>null!==t)).subscribe(t=>{this.formUpdated()})}onDayClick(t){this.control.setValue(t),this.dropdown?.close()}touched(){}onMonthChange(t){this.loadDates(t)}writeValue(t){this.control.setValue(t)}registerOnChange(t){this.control.valueChanges.pipe((0,d.a)(this.destroy$)).subscribe(n=>{t(n)})}registerOnTouched(t){this.control.valueChanges.pipe((0,d.a)(this.destroy$)).subscribe(n=>{this.touched(),t(n)})}setDisabledState(t){t?this.control.disable():this.control.enable()}findValidDate(){this.onlyValidDates.setValue(!0),this.control.reset(this.defaultDateValue),this.dropdown&&(this.dropdown.open=!0)}loadDates(t=A.Ci.currentLocal()){const n=new A.EK(t.year,t.month,1),i=n.append({month:1}).append({day:-1});this.loadingDates.set(!0),this.reservationsService.getValidDates({from_date:this.datePipe.transform(n.toUtcNativeDate(),"yyyy-MM-dd")||"",to_date:this.datePipe.transform(i.toUtcNativeDate(),"yyyy-MM-dd")||""}).pipe((0,d.a)(this.destroy$),(0,E.U)(()=>this.loadingDates.set(!1))).subscribe({next:a=>{this.validDates.update(p=>{let I=[...p];return a.forEach(g=>{I.find(x=>x.daySame(g))||I.push(g)}),I})},error:a=>{console.error(a),this.notifications.error(a instanceof m.gj?(0,v.mk)(a):y.a)}})}loadPublicData(){this.publicDataService.data$.pipe((0,d.a)(this.destroy$),(0,M.I)(t=>null!==t)).subscribe({next:t=>{const n=t.settings.reservation_max_days_in_advance??null;this.maxDaysInAdvance.set(n?Number(n):this.maxDaysInAdvance()),this.updateMaxDate()}})}formUpdated(){this.cd.detectChanges()}updateMaxDate(){this.maxDate.set(this.today().append({day:this.maxDaysInAdvance()}))}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-date-input"]],viewQuery:function(n,i){if(1&n&&e.CC$(Xe,5),2&n){let a;e.wto(a=e.Gqi())&&(i.dropdown=a.first)}},standalone:!0,features:[e.M5G([f.UF,{provide:_.Y6,useExisting:o,multi:!0}]),e.UHJ],decls:11,vars:9,consts:()=>{let t;return t="Show only selectable dates.",[["calendarIcon",""],["calendarTemplate",""],[1,"w-full",3,"content"],["dateDropdown",""],["icon",""],[1,"w-full","!rounded-tl-none","!rounded-bl-none",3,"tuiTextfieldIconLeft","tuiTextfieldIcon","editable","tuiTextfieldLabelOutside","value"],["tuiTextfield","",1,"cursor-pointer"],[1,"m-auto",3,"min","max","disabledItemHandler","value","monthChange","touchend","dayClick"],["contentAlign","right","size","l",1,"m-1",3,"formControl"],t,["appearance","icon","tuiWrapper",""],[4,"polymorpheusOutlet"]]},template:function(n,i){if(1&n&&(e.yuY(0,je,2,0,"ng-template",null,0,e.gJz)(2,Qe,4,5,"ng-template",null,1,e.gJz),e.I0R(4,"tui-hosted-dropdown",2,3),e.yuY(6,Ze,2,1,"ng-template",null,4,e.gJz),e.I0R(8,"tui-primitive-textfield",5),e.wVc(9,"date"),e.wR5(10,"input",6),e.C$Y()()),2&n){const a=e.Gew(1),p=e.Gew(3),I=e.Gew(7);let g;e.yG2(4),e.E7m("content",p),e.yG2(4),e.E7m("tuiTextfieldIconLeft",a)("tuiTextfieldIcon",I)("editable",!1)("tuiTextfieldLabelOutside",!0)("value",null!==(g=e.g7$(9,6,null==i.control.value?null:i.control.value.toUtcNativeDate(),"d MMMM"))&&void 0!==g?g:i.defaultDateReadonly)}},dependencies:[k.oB,k.qL,_.sl,_.ue,_.ug,R.CI,F.GE,F.Qw,V.KA,V.y_,V.KQ,V.b,N.aS,N.E9,N.uU,N.Ep,le.y,le.I,ue.i,ue.I,W.Ux,W.Af,h.y],encapsulation:2,changeDetection:0})}return o})();function et(o,s){if(1&o){const t=e.KQA();e.I0R(0,"button",1),e.qCj("click",function(){const a=e.usT(t).$implicit,p=e.GaO();return e.CGJ(p.onTimeClick(a))}),e.I0R(1,"span",2),e.OEk(2),e.C$Y()()}if(2&o){const t=s.$implicit,n=e.GaO();e.E7m("ngClass",n.time.value&&n.time.value.hours==t.hours&&n.time.value.minutes==t.minutes?"btn-primary":"btn-primary-outline"),e.yG2(2),e.oRS(" ",t," ")}}let tt=(()=>{class o{constructor(){this.destroy$=(0,e.uUt)(f.UF),this.options=[],this.time=new _.Ku(null)}writeValue(t){this.time.setValue(t)}registerOnChange(t){this.time.valueChanges.pipe((0,d.a)(this.destroy$)).subscribe(n=>{t(n)})}registerOnTouched(t){this.time.valueChanges.pipe((0,d.a)(this.destroy$)).subscribe(n=>{t(n)})}setDisabledState(t){t?this.time.disable():this.time.enable()}onTimeClick(t){this.time.setValue(t)}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-time-input"]],inputs:{options:"options"},standalone:!0,features:[e.M5G([f.UF,{provide:_.Y6,useExisting:o,multi:!0}]),e.UHJ],decls:3,vars:0,consts:[[1,"grid","grid-cols-3","gap-x-2","gap-y-2"],["type","button","size","l","tuiButton","","appearance","custom",3,"ngClass","click"],[1,"text-xl"],["type","button","size","l","tuiButton","","appearance","custom",3,"ngClass"]],template:function(n,i){1&n&&(e.I0R(0,"div",0),e.c53(1,et,3,2,"button",3,e.oxv),e.C$Y()),2&n&&(e.yG2(),e.oho(i.options))},dependencies:[h.QF],encapsulation:2})}return o})();var ne=r(1236);function ot(o,s){1&o&&(e.wR5(0,"div",2),e.wVc(1,"linkify")),2&o&&e.E7m("innerHTML",e.kDX(1,1,s.$implicit),e.E3n)}function nt(o,s){if(1&o&&(e.I0R(0,"div",1),e.c53(1,ot,2,3,"div",3,e.oxv),e.C$Y()),2&o){const t=e.GaO();e.yG2(),e.oho(t.messages)}}let _e=(()=>{class o{constructor(){this.messages=[]}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-show-messages"]],inputs:{messages:"messages"},standalone:!0,features:[e.UHJ],decls:1,vars:1,consts:[["class","w-full my-5 border border-primary p-3 rounded-lg"],[1,"w-full","my-5","border","border-primary","p-3","rounded-lg"],[1,"w-full","text-pretty","my-3","text-xl",3,"innerHTML"],["class","w-full text-pretty my-3 text-xl",3,"innerHTML"]],template:function(n,i){1&n&&e.yuY(0,nt,3,0,"div",0),2&n&&e.C0Y(0,i.messages&&i.messages.length?0:-1)},dependencies:[Y.M],encapsulation:2,changeDetection:0})}return o})();const it=["warningsDiv"];function rt(o,s){1&o&&(e.wR5(0,"p",11),e.wVc(1,"linkify")),2&o&&e.E7m("innerHTML",e.kDX(1,1,s.$implicit),e.E3n)}function at(o,s){1&o&&(e.I0R(0,"p"),e.aS0(1,12),e.C$Y())}function st(o,s){if(1&o&&(e.I0R(0,"p"),e.SAx(1),e.aS0(2,13),e.k70(),e.OEk(3),e.wVc(4,"date"),e.C$Y()),2&o){e.GaO(3);const t=e.Gew(5);let n;e.yG2(3),e.oRS(" ",e.g7$(4,1,null==(n=t.maxDate())?null:n.toUtcNativeDate(),"fullDate")," ")}}function lt(o,s){if(1&o&&(e.I0R(0,"div",10),e.c53(1,rt,2,3,"p",11,e.oxv,!1,at,2,0,"p"),e.yuY(4,st,5,4,"p"),e.C$Y()),2&o){const t=e.GaO(2),n=e.Gew(5);e.yG2(),e.oho(t.holidayMessages()),e.yG2(3),e.C0Y(4,t.form.controls.date.value&&n.maxDate()&&t.form.controls.date.value.dayAfter(n.maxDate())?4:-1)}}function ut(o,s){if(1&o&&e.wR5(0,"app-show-messages",7),2&o){const t=e.GaO(2);e.E7m("messages",t.holidayMessages())}}function _t(o,s){if(1&o&&e.yuY(0,lt,5,2,"div",9)(1,ut,1,1),2&o){const t=e.GaO();e.C0Y(0,0==t.validTimes().length?0:1)}}function dt(o,s){if(1&o&&e.wR5(0,"app-show-messages",7),2&o){const t=e.GaO();e.E7m("messages",t.messages()[t.form.controls.time.value.toString()])}}function ct(o,s){if(1&o&&(e.SAx(0),e.aS0(1,15),e.k70(),e.OEk(2)),2&o){const t=e.GaO(2);e.yG2(2),e.oRS(" ",t.form.controls.time.value.toString("HH:MM")," ")}}function pt(o,s){1&o&&(e.SAx(0),e.aS0(1,16),e.k70())}function mt(o,s){if(1&o&&(e.I0R(0,"button",14),e.yuY(1,ct,3,1)(2,pt,2,0),e.C$Y()),2&o){const t=e.GaO();e.E7m("disabled",t.form.invalid)("showLoader",t.loadingTimes()||t.showLoader),e.yG2(),e.C0Y(1,t.form.controls.time.value?1:2)}}function Ct(o,s){if(1&o){const t=e.KQA();e.I0R(0,"button",17),e.qCj("click",function(){e.usT(t),e.GaO();const i=e.Gew(5);return e.CGJ(i.findValidDate())}),e.SAx(1),e.aS0(2,18),e.k70(),e.C$Y()}if(2&o){const t=e.GaO();e.E7m("showLoader",t.loadingTimes()||t.showLoader)}}let de=(()=>{class o{constructor(){this.route=(0,e.uUt)(ne.gV),this.destroy$=(0,e.uUt)(f.UF),this.reservationsv2=(0,e.uUt)(D),this.notifications=(0,e.uUt)(T.E),this.submitted=new e._w7,this.warningsToShow=(0,e.OCB)([]),this.defaultPeople=2,this.defaultDate=A.EK.currentLocal(),this.defaultTime=null,this.form=new _.WC({people:new _.Ku(this.defaultPeople,[_.AQ.required,_.AQ.min(1),_.AQ.max(20)]),date:new _.Ku(this.defaultDate,[_.AQ.required]),time:new _.Ku(this.defaultTime,[_.AQ.required])}),this.showLoader=!1,this.messages=(0,e.OCB)({}),this.loadingTimes=(0,e.OCB)(!1),this.holidayMessages=(0,e.OCB)([]),this.validTimes=(0,e.OCB)([])}ngOnInit(){(0,S.U)(this.form.controls.people.valueChanges.pipe((0,d.a)(this.destroy$),(0,M.I)(()=>this.form.controls.people.valid)),this.form.controls.date.valueChanges.pipe((0,d.a)(this.destroy$),(0,M.I)(()=>this.form.controls.date.valid))).subscribe(()=>{this.peopleOrDateChanged()}),this.loadValidTimes()}writeValue(t){if(null==t||null==t||"object"!=typeof t)return void this.form.reset();const i=this.form.value;this.form.patchValue({people:t.people??i.people??this.defaultPeople,date:t.date??i.date??this.defaultDate,time:t.time??i.time??this.defaultTime})}registerOnChange(t){this.form.valueChanges.pipe((0,d.a)(this.destroy$)).subscribe({next:n=>t(n)})}registerOnTouched(t){this.form.valueChanges.pipe((0,d.a)(this.destroy$)).subscribe({next:n=>t(n)})}setDisabledState(t){t?this.form.disable():this.form.enable()}onFormSubmit(){const t=this.formatOutput();t?this.submitted.emit(t):this.notifications.error("Check that the data is correct.")}onDayClick(t,n){this.form.controls.date.setValue(t),n.close()}touched(){}loadValidTimes(){const t=this.form.controls.date.value,n=this.form.controls.people.value;!t||!n||(this.loadingTimes.set(!0),this.reservationsv2.getValidTimes({date:t,people:n}).pipe((0,d.a)(this.destroy$),(0,E.U)(()=>this.loadingTimes.set(!1))).subscribe({next:i=>{const a=[];i.holidays.forEach(g=>{g.message&&"string"==typeof g.message&&g.message.length>0&&a.push(g.message)}),this.holidayMessages.set(a);const p=i.turns.map(g=>g.valid_times).filter(g=>Array.isArray(g)&&g.length>0).flat();this.validTimes.set(p.map(g=>A.uc.fromString((0,G.CU)(g))).sort((g,x)=>g.toAbsoluteMilliseconds()-x.toAbsoluteMilliseconds()));const I={};i.turns.forEach(g=>{g.valid_times?.forEach(x=>{(g.messages||[]).forEach(b=>{b&&"string"==typeof b.message&&b.message.length>0&&(I[(0,G.CU)(x)]||=[],I[(0,G.CU)(x)].push(b.message))})})}),this.messages.set(I)},error:i=>{this.notifications.error(i instanceof m.gj?(0,v.mk)(i):y.a)}}))}peopleOrDateChanged(){this.form.controls.time.setValue(null),this.validTimes.set([]),this.loadValidTimes()}formatOutput(){const t=this.form.controls.date.value,n=this.form.controls.time.value,i=this.form.controls.people.value;return t&&n&&i?{date:t,time:n,people:i}:null}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-public-reserve-preview"]],viewQuery:function(n,i){if(1&n&&e.CC$(it,5),2&n){let a;e.wto(a=e.Gqi())&&(i.warningsDiv=a.first)}},inputs:{showLoader:"showLoader"},outputs:{submitted:"submitted"},standalone:!0,features:[e.M5G([f.UF,{provide:_.Y6,useExisting:o,multi:!0}]),e.UHJ],decls:12,vars:9,consts:()=>{let t,n,i,a,p;return t="We are sorry, there are no available times for the selected date.",n="The last bookable day is",i="Book a table at",a="Book a table",p="Find a date.",[[1,"container","max-w-[600px]","mx-auto"],[1,"block","px-2",3,"formGroup","ngSubmit"],["tuiGroup","",1,"block","mb-2",3,"collapsed"],[3,"formControl"],["date",""],[1,"block","mb-2"],[3,"formControl","options"],[3,"messages"],["class","w-full","appearance","primary","size","l","tuiButton","","type","submit",3,"disabled","showLoader"],["class","text-center text-xl text-danger block mb-3"],[1,"text-center","text-xl","text-danger","block","mb-3"],[3,"innerHTML"],t,n,["appearance","primary","size","l","tuiButton","","type","submit",1,"w-full",3,"disabled","showLoader"],i,a,["appearance","outline","tuiButton","","type","button",1,"w-full",3,"showLoader","click"],p]},template:function(n,i){1&n&&(e.I0R(0,"div",0)(1,"form",1),e.qCj("ngSubmit",function(){return i.onFormSubmit()}),e.I0R(2,"div",2),e.wR5(3,"app-people-input",3)(4,"app-date-input",3,4),e.C$Y(),e.I0R(6,"div",5),e.wR5(7,"app-time-input",6),e.C$Y(),e.yuY(8,_t,2,1)(9,dt,1,1,"app-show-messages",7)(10,mt,3,3,"button",8)(11,Ct,3,1),e.C$Y()()),2&n&&(e.yG2(),e.E7m("formGroup",i.form),e.yG2(),e.E7m("collapsed",!1),e.yG2(),e.E7m("formControl",i.form.controls.people),e.yG2(),e.E7m("formControl",i.form.controls.date),e.yG2(3),e.E7m("formControl",i.form.controls.time)("options",i.validTimes()),e.yG2(),e.C0Y(8,!i.loadingTimes()&&i.form.controls.date.touched?8:-1),e.yG2(),e.C0Y(9,i.form.controls.time.value&&i.messages()?9:-1),e.yG2(),e.C0Y(10,i.loadingTimes()||i.validTimes().length>0?10:11))},dependencies:[_.sl,_.sz,_.ue,_.u,_.ug,_.uW,l.Gy,l.Ko,R.CI,R.Kw,Y.M,h.y,We,qe,tt,_e],encapsulation:2,changeDetection:0})}return o})();var X=r(964),ce=r(9212),ht=r(4704),gt=r(9144),ft=r(2700),Et=r(9052);function Tt(o,s){if(1&o&&(e.wR5(0,"p",14),e.wVc(1,"linkify")),2&o){const t=e.GaO().$implicit;e.E7m("innerHTML",e.kDX(1,1,null==t.table_type?null:t.table_type.description),e.E3n)}}function vt(o,s){if(1&o&&e.wR5(0,"app-show-image",16),2&o){const t=e.GaO().$implicit;e.E7m("image",t)}}function Ot(o,s){1&o&&e.yuY(0,vt,1,1,"app-show-image",15),2&o&&e.C0Y(0,s.$index<3?0:-1)}function Rt(o,s){1&o&&e.wR5(0,"app-show-image",17),2&o&&e.E7m("image",null)}const It=()=>[];function yt(o,s){if(1&o){const t=e.KQA();e.I0R(0,"div",4)(1,"p",5),e.OEk(2),e.C$Y(),e.I0R(3,"p",6)(4,"span",7),e.wR5(5,"img",8),e.OEk(6),e.wVc(7,"currency"),e.SAx(8),e.aS0(9,9),e.k70(),e.C$Y()(),e.yuY(10,Tt,2,3,"p",10),e.I0R(11,"div",11),e.c53(12,Ot,1,1,null,null,e.oxv,!1,Rt,1,1,"app-show-image",18),e.C$Y(),e.I0R(15,"button",12),e.qCj("click",function(){const a=e.usT(t).$implicit,p=e.GaO(2);return e.CGJ(p.updateTableType(a.table_type))}),e.SAx(16),e.aS0(17,13),e.k70(),e.C$Y()()}if(2&o){const t=s.$implicit;e.yG2(2),e.oRS(" ",null==t.table_type?null:t.table_type.name," "),e.yG2(3),e.E7m("src","assets/img/finance_chip.svg",e.K6U),e.yG2(),e.oRS(" ",e.kDX(7,5,t.price)," "),e.yG2(4),e.C0Y(10,null!=t.table_type&&t.table_type.description?10:-1),e.yG2(2),e.oho((null==t.table_type?null:t.table_type.images)||e.q4q(7,It))}}function Mt(o,s){if(1&o&&(e.I0R(0,"p",2),e.SAx(1),e.aS0(2,3),e.k70(),e.C$Y(),e.c53(3,yt,18,8,"div",19,e.oxv)),2&o){const t=e.GaO();e.yG2(3),e.oho(t.tableTypes())}}let Pt=(()=>{class o{constructor(){this.submitted=new e._w7,this.showLoader=!1,this.destroy$=(0,e.uUt)(f.UF),this.control=new _.Ku(null),this.tableTypes=(0,e.OCB)([]),this.message=(0,e.OCB)(null)}set group(t){this.tableTypes.set(t?.table_type_to_preorder_reservation_groups||[]),this.message.set(t?.message||null)}writeValue(t){this.control.setValue(t)}registerOnChange(t){this.control.valueChanges.pipe((0,d.a)(this.destroy$)).subscribe(n=>t(n))}registerOnTouched(t){this.control.valueChanges.pipe((0,d.a)(this.destroy$)).subscribe(n=>t(n))}setDisabledState(t){t?this.control.disable():this.control.enable()}updateTableType(t){this.control.setValue(t||null),this.submitted.emit(t)}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-public-reserve-ask-table-type"]],inputs:{showLoader:"showLoader",group:"group"},outputs:{submitted:"submitted"},standalone:!0,features:[e.M5G([f.UF,{provide:_.Y6,useExisting:(0,e.wd)(()=>o),multi:!0}]),e.UHJ],decls:4,vars:2,consts:()=>{let t,n,i,a;return t="Continue without selection",n="Select an option.",i="per person",a="Select",[["appearance","secondary","size","l","tuiButton","","type","button",1,"w-full",3,"showLoader","click"],t,[1,"block","mb-3","font-bold"],n,[1,"w-full","mb-3","border","border-primary","p-3","rounded-lg"],[1,"block","mb-3","font-bold","text-xl"],[1,"block","mb-2","uppercase"],[1,"flex","items-center","text-base"],[1,"me-1",3,"src"],i,["class","mb-4 text-slate-600 text-base",3,"innerHTML"],[1,"mb-3","flex","items-center","overflow-hidden"],["type","button","size","s","tuiButton","",3,"click"],a,[1,"mb-4","text-slate-600","text-base",3,"innerHTML"],["class","max-w-[150px] me-2",3,"image"],[1,"max-w-[150px]","me-2",3,"image"],[2,"max-width","150px",3,"image"],["style","max-width: 150px;",3,"image"],["class","w-full mb-3 border border-primary p-3 rounded-lg"]]},template:function(n,i){1&n&&(e.yuY(0,Mt,5,0),e.I0R(1,"button",0),e.qCj("click",function(){return i.updateTableType(null)}),e.SAx(2),e.aS0(3,1),e.k70(),e.C$Y()),2&n&&(e.C0Y(0,i.tableTypes()?0:-1),e.yG2(),e.E7m("showLoader",i.showLoader))},dependencies:[h.cf,Y.M,R.CI,R.Kw,Et.y],encapsulation:2,changeDetection:0})}return o})();var St=r(9852),pe=r(5e3),ie=r(3797),me=r(1316),j=r(3044),Ce=r(9104),he=r(2528),Nt=r(8987),Q=r(1800),ge=r(4392),fe=r(4680),Ee=r(9392),bt=r(6732),Te=r(5656),ve=r(4108),J=r(2500),Z=r(3840),At=r(3656),w=r(3724),K=r(4532),Oe=r(6572),Lt=r(4164),Re=r(5944),xt=r(9371),Ie=r(796),ye=r(5900),Me=r(5620);const Vt=["*",[["input"]]],$t=["*","input"],Se=(0,he.AL)({phoneMaskAfterCountryCode:"### ###-##-##",allowText:!1,countryCode:"+7"}),Ne=o=>o.replace(/\D/g,"").length;function wt(o,s){const t=(o+s).replace(/[^#\d]+/g,"").length,n=i=>i.replace("+7"===o?/^(\+?7?\s?8?)\s?/:new RegExp(`^(\\+?${o.replace("+","")}?)\\s?`),"");return({elementState:i,data:a})=>{const{value:p,selection:I}=i;return{elementState:{selection:I,value:Ne(p)>t?n(p):p},data:Ne(a)>=t?n(a):a}}}function q(o){return Number.isNaN(parseInt(o.replace(Z.mM,""),10))}let be=(()=>{class o extends Q._y{constructor(t,n,i,a,p){super(t,n),this.textfieldCleaner=i,this.options=a,this.textfieldSize=p,this.phoneMaskAfterCountryCode=this.options.phoneMaskAfterCountryCode,this.allowText=this.options.allowText,this.search="",this.searchChange=new e._w7,this.countryCode=this.options.countryCode,this.open=!1}set countryCodeSetter(t){const n=this.countryCode;this.countryCode=t,this.updateValueWithNewCountryCode(n,t)}get size(){return this.textfieldSize.size}get nativeFocusableElement(){return!this.textfield||this.computedDisabled?null:this.textfield.nativeFocusableElement}get focused(){return(0,Lt.ER)(this.nativeFocusableElement)||!!this.dropdown&&this.dropdown.focused}get nativeValue(){var t;return(null===(t=this.nativeFocusableElement)||void 0===t?void 0:t.value)||(0,K.qq)(this.value,this.maskOptions)}set nativeValue(t){this.nativeFocusableElement&&(this.nativeFocusableElement.value=t)}get inputMode(){return this.allowText?"text":"numeric"}get canOpen(){return this.interactive&&!!this.datalist}get canClean(){return this.nativeValue!==this.nonRemovablePrefix&&this.textfieldCleaner.cleaner}get maskOptions(){return this.calculateMask(this.countryCode,this.phoneMaskAfterCountryCode,this.nonRemovablePrefix,this.allowText)}onActiveZone(t){return this.updateFocused(t),!t||this.nativeValue||this.readOnly||this.allowText?this.nativeValue===this.nonRemovablePrefix||this.isTextValue?(this.updateSearch(""),void(this.nativeValue="")):void(!t&&!this.allowText&&this.nativeFocusableElement&&(this.nativeValue=this.nativeValue.replace(/\D$/,""))):(this.updateSearch(this.nonRemovablePrefix),void(this.nativeValue=this.nonRemovablePrefix))}onValueChange(t){const n=q(t)?t:t.replace(Z.mM,"").slice(0,this.maxPhoneLength);this.updateSearch(n),this.value=n===this.countryCode||q(n)?"":n,this.open=!0,!this.value&&!this.allowText&&(this.nativeValue=this.nonRemovablePrefix)}handleOption(t){this.focusInput(),this.value=t,this.nativeValue=(0,K.qq)(this.value,this.maskOptions),this.updateSearch(""),this.open=!1}setDisabledState(){super.setDisabledState(),this.open=!1}writeValue(t){super.writeValue(t),this.nativeValue=(0,K.qq)(t||"",this.maskOptions),this.updateSearch("")}getFallbackValue(){return""}get nonRemovablePrefix(){return`${this.countryCode} `}get maxPhoneLength(){return this.countryCode.length+this.phoneMaskAfterCountryCode.replace(/[^#]+/g,"").length}get isTextValue(){return!!this.search&&q(this.search)}calculateMask(t,n,i,a){const p=function Ut(o,s){return[...o.split("")," ",...s.replace(/[^#\- ()]+/g,"").split("").map(t=>"#"===t?/\d/:t)]}(t,n),I=[wt(t,n)];return a?{mask:({value:g})=>q(g)&&"+"!==g?K.Se.mask:p,preprocessors:I}:{mask:p,preprocessors:I,postprocessors:[(0,Oe.G)(i)],plugins:[(0,Oe.yu)((g,[x,b])=>[x===b?i.length:0,g.length])]}}focusInput(){this.nativeFocusableElement&&this.nativeFocusableElement.focus({preventScroll:!0})}updateSearch(t){this.search!==t&&(this.search=t,this.searchChange.emit(t))}updateValueWithNewCountryCode(t,n){this.isTextValue||(this.value=this.value.replace(t,n),this.nativeValue=(0,K.qq)(this.value,this.maskOptions))}}return o.\u0275fac=function(t){return new(t||o)(e.GI1(_.eq,10),e.GI1(e.kD9),e.GI1(N.CU),e.GI1(Se),e.GI1(N.$K))},o.\u0275cmp=e.In1({type:o,selectors:[["tui-input-phone"]],contentQueries:function(t,n,i){if(1&t&&e.szK(i,z.Ux,5,e.Yw2),2&t){let a;e.wto(a=e.Gqi())&&(n.datalist=a.first)}},viewQuery:function(t,n){if(1&t&&(e.CC$(F.Qw,5),e.CC$(V.y_,5)),2&t){let i;e.wto(i=e.Gqi())&&(n.dropdown=i.first),e.wto(i=e.Gqi())&&(n.textfield=i.first)}},hostVars:1,hostBindings:function(t,n){2&t&&e.e48("data-size",n.size)},inputs:{countryCodeSetter:[e.Wk5.None,"countryCode","countryCodeSetter"],phoneMaskAfterCountryCode:"phoneMaskAfterCountryCode",allowText:"allowText",search:"search"},outputs:{searchChange:"searchChange"},features:[e.M5G([(0,fe.NK)(o),(0,Q.q4)(o),(0,Re.UH)(o)],[Ie.YL]),e.eg9],ngContentSelectors:$t,decls:4,vars:13,consts:[[1,"t-hosted",3,"canOpen","content","open","openChange","tuiActiveZoneChange"],["tuiValueAccessor","",1,"t-textfield",3,"disabled","focusable","invalid","maskito","nativeId","pseudoFocus","pseudoHover","readOnly","tuiTextfieldCleaner","value","valueChange"]],template:function(t,n){1&t&&(e.kPM(Vt),e.I0R(0,"tui-hosted-dropdown",0),e.iHE("openChange",function(a){return e.kNx(n.open,a)||(n.open=a),a}),e.qCj("tuiActiveZoneChange",function(a){return n.onActiveZone(a)}),e.I0R(1,"tui-primitive-textfield",1),e.iHE("valueChange",function(a){return e.kNx(n.nativeValue,a)||(n.nativeValue=a),a}),e.qCj("valueChange",function(a){return n.onValueChange(a)}),e._Xx(2),e._Xx(3,1,["ngProjectAs","input",5,["input"]]),e.C$Y()()),2&t&&(e.E7m("canOpen",n.canOpen)("content",n.datalist||""),e.OKB("open",n.open),e.yG2(),e.E7m("disabled",n.computedDisabled)("focusable",n.focusable)("invalid",n.computedInvalid)("maskito",n.maskOptions)("nativeId",n.nativeId)("pseudoFocus",n.computedFocused)("pseudoHover",n.pseudoHover)("readOnly",n.readOnly)("tuiTextfieldCleaner",n.canClean),e.OKB("value",n.nativeValue))},dependencies:[F.Qw,V.y_,j.M,V.KQ,ye.a,Me.sD,N.es],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:left}._disabled[_nghost-%COMP%]{pointer-events:none}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}"],changeDetection:0}),(0,me.UN)([Ee.w7],o.prototype,"calculateMask",null),o})(),Dt=(()=>{class o extends xt.Cm{get value(){return this.host.nativeValue}onValueChange(t){this.host.onValueChange(t)}process(t){this.input=t}ngDoCheck(){this.input&&(this.input.type="tel",this.input.inputMode=this.host.inputMode)}}return o.\u0275fac=(()=>{let s;return function(n){return(s||(s=e.otF(o)))(n||o)}})(),o.\u0275dir=e.Sc5({type:o,selectors:[["tui-input-phone"]],features:[e.M5G([(0,Re.iu)(o)]),e.eg9]}),o})(),Gt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.a4G({type:o}),o.\u0275inj=e.s3X({imports:[[Me.S,V.KA,F.GE,N.aS,j.L,ye.i]]}),o})();var re=r(3012),Ft=r(812);function ee(o,s){return o[s].replace(/[()\- ]/g,"").length}function te(o,s){return o[s].replace(Ft.mU,"")}function Ae(o){const s=Number(o.slice(1,4));return s<600||s>799}let Le=(()=>{class o{constructor(t){this.countriesMasks=t}transform(t,n){return n.find(i=>{if(i===w.q.RU&&/^[78]/.test(t)&&/^(?!880[1-9 ])/.test(t)&&t.length+1===ee(this.countriesMasks,w.q.RU)||t.startsWith(te(this.countriesMasks,i).replace(ge.qs,""))&&t.length+1===ee(this.countriesMasks,i))switch(i){case w.q.RU:return Ae(t);case w.q.KZ:return!Ae(t);default:return!0}return!1})}}return o.\u0275fac=function(t){return new(t||o)(e.GI1(re.gu,16))},o.\u0275pipe=e.UTH({name:"tuiToCountryCode",type:o,pure:!0}),o})();function Bt(o,s){if(1&o){const t=e.KQA();e.I0R(0,"button",10),e.qCj("click",function(){const a=e.usT(t).$implicit,p=e.GaO(3);return e.CGJ(p.onItemClick(a))}),e.wR5(1,"img",11),e.wVc(2,"tuiFlag"),e.I0R(3,"span",12),e.OEk(4),e.C$Y(),e.I0R(5,"span",13),e.OEk(6),e.wVc(7,"tuiMapper"),e.C$Y()()}if(2&o){const t=s.$implicit,n=e.GaO(2).ngIf,i=e.GaO();e.yG2(),e.E7m("src",e.kDX(2,3,t),e.K6U),e.yG2(3),e.oRS(" ",n[t]," "),e.yG2(2),e.oRS(" ",e.g7$(7,5,t,i.isoToCountryCodeMapper)," ")}}function kt(o,s){if(1&o&&(e.I0R(0,"tui-data-list"),e.yuY(1,Bt,8,8,"button",9),e.C$Y()),2&o){const t=e.GaO(2);e.yG2(),e.E7m("ngForOf",t.countries)}}function Yt(o,s){if(1&o&&(e.wR5(0,"img",14),e.wVc(1,"tuiFlag")),2&o){const t=e.GaO().ngIf,n=e.GaO();e.E7m("alt",t[n.countryIsoCode])("src",e.kDX(1,2,n.countryIsoCode),e.K6U)}}function zt(o,s){1&o&&e.C_f(0)}function Kt(o,s){if(1&o&&(e.I0R(0,"div",15),e.yuY(1,zt,1,0,"ng-container",16),e.C$Y()),2&o){const t=e.GaO(2);e.yG2(),e.E7m("polymorpheusOutlet",t.arrow)}}function Ht(o,s){if(1&o){const t=e.KQA();e.I0R(0,"tui-hosted-dropdown",1),e.iHE("openChange",function(i){e.usT(t);const a=e.GaO();return e.kNx(a.open,i)||(a.open=i),e.CGJ(i)}),e.qCj("tuiActiveZoneChange",function(i){e.usT(t);const a=e.GaO();return e.CGJ(a.onActiveZone(i))}),e.I0R(1,"div",2),e.wR5(2,"tui-primitive-textfield",3),e.I0R(3,"tui-input-phone",4),e.iHE("ngModelChange",function(i){e.usT(t);const a=e.GaO();return e.kNx(a.value,i)||(a.value=i),e.CGJ(i)}),e._Xx(4),e.wR5(5,"input",5),e.C$Y()(),e.yuY(6,kt,2,1,"ng-template",null,6,e.gJz)(8,Yt,2,4,"ng-template",null,7,e.gJz)(10,Kt,2,1,"ng-template",null,8,e.gJz),e.C$Y()}if(2&o){const t=e.Gew(7),n=e.Gew(9),i=e.Gew(11),a=e.GaO();e.E7m("canOpen",!a.readOnly)("content",t),e.OKB("open",a.open),e.yG2(2),e.E7m("disabled",a.disabled)("editable",!1)("focusable",a.focusable)("pseudoFocus",a.open||null)("readOnly",a.readOnly)("tuiTextfieldCustomContent",n)("tuiTextfieldIcon",i)("tuiTextfieldLabelOutside",!0),e.yG2(),e.E7m("countryCode",a.inputPhoneCountryCode)("disabled",a.disabled)("focusable",a.focusable)("phoneMaskAfterCountryCode",a.phoneMaskAfterCountryCode)("pseudoFocus",a.pseudoFocus)("pseudoHover",a.pseudoHover)("pseudoInvalid",a.computedInvalid)("readOnly",a.readOnly),e.OKB("ngModel",a.value)}}const Wt=["*"],Ve=(0,he.AL)({countries:[],countryIsoCode:w.q.RU});let jt=(()=>{class o extends Q._y{constructor(t,n,i,a,p,I,g,x){super(t,n),this.countriesNames$=i,this.countriesMasks=a,this.options=p,this.flagPipe=I,this.extractCountryCodePipe=g,this.textfieldSize=x,this.countries=this.options.countries,this.countryIsoCodeChange=new e._w7,this.countryIsoCode=this.options.countryIsoCode,this.open=!1,this.arrow=oe.ie,this.isoToCountryCodeMapper=b=>te(this.countriesMasks,b)}set isoCode(t){var n;this.countryIsoCode!==t&&(null===(n=this.inputPhoneComponent)||void 0===n||n.writeValue(this.value),this.countryIsoCode=t)}get size(){return this.textfieldSize.size}get nativeFocusableElement(){return this.inputPhoneComponent&&!this.computedDisabled?this.inputPhoneComponent.nativeFocusableElement:null}get focused(){return!!this.primitiveTextfield&&this.primitiveTextfield.focused||!!this.inputPhoneComponent&&this.inputPhoneComponent.focused}get inputPhoneCountryCode(){return te(this.countriesMasks,this.countryIsoCode)}get phoneMaskAfterCountryCode(){return this.calculateMaskAfterCountryCode(this.countriesMasks[this.countryIsoCode],this.inputPhoneCountryCode)}get countryFlagPath(){return this.getFlagPath(this.countryIsoCode)}onPaste(t){let n=function Xt(o){var s;return"dataTransfer"in o?(null===(s=o.dataTransfer)||void 0===s?void 0:s.getData("text/plain"))||"":(0,Nt.WM)(o)}(t).replace(Z.Go,"");const i=this.extractCountryCodePipe.transform(n,this.countries);i?(i===w.q.RU&&(n=n.replace(/^8/,"7")),this.updateCountryIsoCode(i),this.value=`${ge.qs}${n}`):this.value=`${this.inputPhoneCountryCode}${n}`.replace(Z.mM,"").slice(0,ee(this.countriesMasks,this.countryIsoCode))}getFlagPath(t){return this.flagPipe.transform(t)}onItemClick(t){this.open=!1,this.updateCountryIsoCode(t),this.cdr.detectChanges();const n=ee(this.countriesMasks,t);this.value.length>n&&(this.value=this.value.slice(0,n)),this.nativeFocusableElement&&this.nativeFocusableElement.focus()}setDisabledState(){super.setDisabledState(),this.close()}isoToCountryCode(t){return te(this.countriesMasks,t)}onModelChange(t){this.value=t}onActiveZone(t){this.updateFocused(t)}getFallbackValue(){return""}calculateMaskAfterCountryCode(t,n){return t.replace(n,"").trim()}close(){this.open=!1}updateCountryIsoCode(t){this.countryIsoCode=t,this.countryIsoCodeChange.emit(t)}}return o.\u0275fac=function(t){return new(t||o)(e.GI1(_.eq,10),e.GI1(e.kD9),e.GI1(re.cV),e.GI1(re.gu),e.GI1(Ve),e.GI1(J.i),e.GI1(Le),e.GI1(N.$K))},o.\u0275cmp=e.In1({type:o,selectors:[["tui-input-phone-international"]],viewQuery:function(t,n){if(1&t&&(e.CC$(be,5),e.CC$(V.y_,5)),2&t){let i;e.wto(i=e.Gqi())&&(n.inputPhoneComponent=i.first),e.wto(i=e.Gqi())&&(n.primitiveTextfield=i.first)}},hostVars:1,hostBindings:function(t,n){1&t&&e.qCj("paste.capture.prevent.stop",function(a){return n.onPaste(a)})("drop.capture.prevent.stop",function(a){return n.onPaste(a)}),2&t&&e.e48("data-size",n.size)},inputs:{isoCode:[e.Wk5.None,"countryIsoCode","isoCode"],countries:"countries"},outputs:{countryIsoCodeChange:"countryIsoCodeChange"},features:[e.M5G([(0,fe.NK)(o),(0,Q.q4)(o),J.i,Le],[Ie.YL]),e.eg9],ngContentSelectors:Wt,decls:2,vars:3,consts:[["class","t-hosted-dropdown",3,"canOpen","content","open","openChange","tuiActiveZoneChange",4,"ngIf"],[1,"t-hosted-dropdown",3,"canOpen","content","open","openChange","tuiActiveZoneChange"],["tuiGroup",""],["tuiHintContent","","tuiTextfieldPostfix","","tuiTextfieldPrefix","",1,"t-country-select","tui-group__auto-width-item",3,"disabled","editable","focusable","pseudoFocus","readOnly","tuiTextfieldCustomContent","tuiTextfieldIcon","tuiTextfieldLabelOutside"],[1,"t-input-phone","tui-group__auto-width-item",3,"countryCode","disabled","focusable","phoneMaskAfterCountryCode","pseudoFocus","pseudoHover","pseudoInvalid","readOnly","ngModel","ngModelChange"],["autocomplete","new-password","tuiTextfield",""],["dropdown",""],["countryValueContent",""],["icon",""],["tuiOption","",3,"click",4,"ngFor","ngForOf"],["tuiOption","",3,"click"],["alt","",1,"t-country-item-flag",3,"src"],[1,"t-country-item-name"],[1,"t-country-item-code"],[1,"t-flag",3,"alt","src"],["appearance","icon","tuiWrapper",""],[4,"polymorpheusOutlet"]],template:function(t,n){1&t&&(e.kPM(),e.yuY(0,Ht,12,20,"tui-hosted-dropdown",0),e.wVc(1,"async")),2&t&&e.E7m("ngIf",e.kDX(1,1,n.countriesNames$))},dependencies:[F.Qw,V.y_,be,V.b,z.yi,z.sP,h.u_,j.M,l.Ko,V.KQ,Te.cb,N.We,N.Id,N.a4,N.uU,N.E9,Dt,_.ue,_._G,h.ay,ve.S,W.Af,h.a,J.i,Ce.M],styles:["[_nghost-%COMP%]{display:block}._disabled[_nghost-%COMP%]{pointer-events:none}.t-hosted-dropdown[_ngcontent-%COMP%]{display:block}.t-country-select[_ngcontent-%COMP%]{width:5.625rem}.t-country-select[_ngcontent-%COMP%]:not(._readonly)     input:not(:disabled){cursor:pointer}.t-country-select._readonly[_ngcontent-%COMP%]     input{cursor:default}.t-country-select[data-size=m][_ngcontent-%COMP%]{width:5.5rem}.t-country-select[data-size=s][_ngcontent-%COMP%]{width:2rem}.t-country-select[data-size=s][_ngcontent-%COMP%]   .t-flag[_ngcontent-%COMP%]{margin-left:-1rem}.t-arrow-icon[_ngcontent-%COMP%]{position:relative;display:flex;width:1.5rem;height:1.5rem;align-items:center;justify-content:center;box-sizing:border-box;cursor:pointer;pointer-events:none;pointer-events:auto}._readonly[_nghost-%COMP%]   .t-arrow-icon[_ngcontent-%COMP%], ._disabled[_nghost-%COMP%]   .t-arrow-icon[_ngcontent-%COMP%]{pointer-events:none}.t-arrow-icon_open[_ngcontent-%COMP%]{transform:rotate(180deg)}.t-input-phone[_ngcontent-%COMP%]{flex:1}.t-flag[_ngcontent-%COMP%]{width:1.75rem;height:1.25rem;margin-left:-.5rem}.t-country-item-flag[_ngcontent-%COMP%]{width:1.75rem;height:1.25rem}.t-country-item-name[_ngcontent-%COMP%]{margin-left:.75rem;margin-right:auto}.t-country-item-code[_ngcontent-%COMP%]{color:var(--tui-text-02);margin-right:.25rem}"],changeDetection:0}),(0,me.UN)([Ee.w7],o.prototype,"calculateMaskAfterCountryCode",null),o})(),Qt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.a4G({type:o}),o.\u0275inj=e.s3X({imports:[[h.MD,_.y,W.Ux,At.Yt,Gt,l.Gy,V.KA,N.aS,Te.WY,F.GE,z.A$,oe.S2,ve.g,bt.kR,Ce.E,j.L,J.y]]}),o})();var $e=r(6964),Jt=r(9956),Zt=r(7708);function qt(o,s){if(1&o&&e.wR5(0,"app-errors",6),2&o){const t=e.GaO();e.E7m("errors",t.form.controls.firstName.errors)}}function eo(o,s){if(1&o&&e.wR5(0,"app-errors",6),2&o){const t=e.GaO();e.E7m("errors",t.form.controls.lastName.errors)}}function to(o,s){if(1&o&&e.wR5(0,"app-errors",6),2&o){const t=e.GaO();e.E7m("errors",t.form.controls.email.errors)}}function oo(o,s){if(1&o&&e.wR5(0,"app-errors",6),2&o){const t=e.GaO();e.E7m("errors",t.form.controls.phone.errors)}}function no(o,s){if(1&o&&e.wR5(0,"app-errors",6),2&o){const t=e.GaO();e.E7m("errors",t.form.controls.notes.errors)}}function io(o,s){if(1&o&&e.wR5(0,"app-errors",6),2&o){const t=e.GaO();e.E7m("errors",t.form.controls.acceptTerms.errors)}}const ro=o=>[o];function ao(o,s){if(1&o&&e.wR5(0,"app-show-messages",20),2&o){const t=e.GaO();e.E7m("messages",e.S45(1,ro,t.preorderMessage))}}let we=(()=>{class o{constructor(){this.destroy$=(0,e.uUt)(f.UF),this.notifications=(0,e.uUt)(T.E),this.submitted=new e._w7,this.showLoader=!1,this.preorderMessage=null,this.formSubmitted=(0,e.OCB)(!1),this.form=new _.WC({firstName:new _.Ku(null,[_.AQ.required]),lastName:new _.Ku(null,[_.AQ.required]),email:new _.Ku(null,[_.AQ.required,_.AQ.email]),phone:new _.Ku(null,[_.AQ.required]),notes:new _.Ku(null),acceptTerms:new _.Ku(!1,[_.AQ.requiredTrue])}),this.countries=Object.values(w.q),this.countryIsoCode=w.q.IT}ngOnInit(){}writeValue(t){this.form.patchValue(t)}registerOnChange(t){this.form.valueChanges.pipe((0,d.a)(this.destroy$)).subscribe(n=>t(n))}registerOnTouched(t){this.form.valueChanges.pipe((0,d.a)(this.destroy$)).subscribe(n=>t(n))}setDisabledState(t){t?this.form.disable():this.form.enable()}formSubmit(){const t=this.formatOutput();this.formSubmitted.set(!0),t?this.submitted.emit(t):this.notifications.error("Please fill in all required fields")}formatOutput(){if(this.form.invalid)return null;const t=this.form.controls.firstName.value,n=this.form.controls.lastName.value,i=this.form.controls.email.value,a=this.form.controls.phone.value;return t&&n&&i&&a?{firstName:t,lastName:n,email:i,phone:a,notes:this.form.controls.notes.value}:null}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-contact-confirm"]],inputs:{showLoader:"showLoader",preorderMessage:"preorderMessage"},outputs:{submitted:"submitted"},standalone:!0,features:[e.M5G([f.UF,{provide:_.Y6,useExisting:(0,e.wd)(()=>o),multi:!0}]),e.UHJ],decls:42,vars:21,consts:()=>{let t,n,i,a,p,I,g,x;return t="Name",n="Surname",i="Email",a="Cell phone",p="Special requests (optional)",I="I accept the",g="terms and conditions",x="Confirm booking",[[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"grow"],[1,"grow",3,"tuiAutoFocus","formControl"],t,["tuiTextfield","","autocomplete","given-name"],[3,"errors"],[1,"grow",3,"formControl"],n,["tuiTextfield","","autocomplete","family-name"],i,["tuiTextfield","","name","email","autocomplete","email"],[3,"countries","countryIsoCode","formControl","countryIsoCodeChange"],a,[3,"formControl"],p,[3,"size","formControl"],[1,"me-1"],I,g,[3,"messages"],["appearance","primary","size","l","tuiButton","","type","submit",1,"w-full",3,"disabled","showLoader"],x]},template:function(n,i){1&n&&(e.I0R(0,"form",0),e.qCj("ngSubmit",function(){return i.formSubmit()}),e.I0R(1,"div",1)(2,"div",2)(3,"tui-input",3),e.SAx(4),e.aS0(5,4),e.k70(),e.wR5(6,"input",5),e.C$Y(),e.yuY(7,qt,1,1,"app-errors",6),e.C$Y()(),e.I0R(8,"div",1)(9,"tui-input",7),e.SAx(10),e.aS0(11,8),e.k70(),e.wR5(12,"input",9),e.C$Y(),e.yuY(13,eo,1,1,"app-errors",6),e.C$Y(),e.I0R(14,"div",1)(15,"tui-input",3),e.SAx(16),e.aS0(17,10),e.k70(),e.wR5(18,"input",11),e.C$Y(),e.yuY(19,to,1,1,"app-errors",6),e.C$Y(),e.I0R(20,"div",1)(21,"tui-input-phone-international",12),e.iHE("countryIsoCodeChange",function(p){return e.kNx(i.countryIsoCode,p)||(i.countryIsoCode=p),p}),e.SAx(22),e.aS0(23,13),e.k70(),e.C$Y(),e.yuY(24,oo,1,1,"app-errors",6),e.C$Y(),e.I0R(25,"div",1)(26,"tui-input",14),e.SAx(27),e.aS0(28,15),e.k70(),e.C$Y(),e.yuY(29,no,1,1,"app-errors",6),e.C$Y(),e.I0R(30,"div",1)(31,"tui-checkbox-labeled",16)(32,"span",17),e.aS0(33,18),e.C$Y(),e.I0R(34,"app-terms-and-conditions-link"),e.SAx(35),e.aS0(36,19),e.k70(),e.C$Y()(),e.yuY(37,io,1,1,"app-errors",6),e.C$Y(),e.yuY(38,ao,1,3,"app-show-messages",20),e.I0R(39,"button",21),e.SAx(40),e.aS0(41,22),e.k70(),e.C$Y()()),2&n&&(e.E7m("formGroup",i.form),e.yG2(3),e.E7m("tuiAutoFocus",!0)("formControl",i.form.controls.firstName),e.yG2(4),e.C0Y(7,i.form.controls.firstName.touched||i.formSubmitted()?7:-1),e.yG2(2),e.E7m("formControl",i.form.controls.lastName),e.yG2(4),e.C0Y(13,i.form.controls.lastName.touched||i.formSubmitted()?13:-1),e.yG2(2),e.E7m("tuiAutoFocus",!0)("formControl",i.form.controls.email),e.yG2(4),e.C0Y(19,i.form.controls.email.touched||i.formSubmitted()?19:-1),e.yG2(2),e.E7m("countries",i.countries),e.OKB("countryIsoCode",i.countryIsoCode),e.E7m("formControl",i.form.controls.phone),e.yG2(3),e.C0Y(24,i.form.controls.phone.touched||i.formSubmitted()?24:-1),e.yG2(2),e.E7m("formControl",i.form.controls.notes),e.yG2(3),e.C0Y(29,i.form.controls.notes.touched||i.formSubmitted()?29:-1),e.yG2(2),e.E7m("size","l")("formControl",i.form.controls.acceptTerms),e.yG2(6),e.C0Y(37,i.form.controls.acceptTerms.touched||i.formSubmitted()?37:-1),e.yG2(),e.C0Y(38,i.preorderMessage?38:-1),e.yG2(),e.E7m("disabled",i.form.invalid)("showLoader",i.showLoader))},dependencies:[R.CI,R.Kw,ie.CQ,ie.Oo,ie.cP,V.b,N.aS,pe.m6,pe.gJ,_.sl,_.sz,_.ue,_.u,_.ug,_.uW,Qt,jt,Jt.g,$e.i,$e.a,Zt.E,_e],encapsulation:2,changeDetection:0})}return o})();var Ue=r(9880),lo=r(3468),B=r(9938);const uo=["stepperHeader"];function _o(o,s){1&o&&(e.I0R(0,"mat-icon"),e.OEk(1,"check"),e.C$Y())}function co(o,s){1&o&&(e.I0R(0,"span"),e.OEk(1,"1."),e.C$Y())}const De=o=>({"border-primary border-b-2 ":o});let po=(()=>{class o{constructor(){this.destroy$=(0,e.uUt)(f.UF),this.reservations=(0,e.uUt)(u.G),this.notifications=(0,e.uUt)(T.E),this.configs=(0,e.uUt)(lo.m),this.router=(0,e.uUt)(ne.E5),this.route=(0,e.uUt)(ne.gV),this.invalidControl=new _.Ku(null,[_.AQ.required]),this.datePeopleControl=new _.Ku(null,[_.AQ.required,St.S.objectValuesAllPresent]),this.tableTypeControl=new _.Ku(null),this.contactControl=new _.Ku(null),this.preorder=(0,e.OCB)(null),this.loadingTableTypes=(0,e.OCB)(!1),this.savingReservation=(0,e.OCB)(!1),this.locale="en",this.stepIndex=(0,e.OCB)(1),this.stepper=null,this.datePeopleInput=null,this.contactInput=null}ngOnInit(){this.configs.locale$.pipe((0,d.a)(this.destroy$)).subscribe(t=>{this.locale=t?t.split("-")[0]:"en"}),this.datePeopleControl.valueChanges.pipe((0,d.a)(this.destroy$),(0,ce.y)(()=>this.preorder.set(null))).subscribe(),this.datePeopleControl.valueChanges.pipe((0,d.a)(this.destroy$),(0,M.I)(()=>this.datePeopleControl.valid),(0,M.I)(t=>!!(t&&t.date&&t.time&&t.people))).subscribe(t=>{this.loadPaymentInfo(t).subscribe()}),this.listenQueryParamsAndUpdateForm()}previewSubmitted(t){this.loadPaymentInfoAndAskTableTypeOrShowLastPage(t)}tableTypeSubmitted(t){this.tableTypeControl.setValue(t),this.showLastPage()}contactSubmitted(t){this.contactControl.patchValue(t);const n=this.formatOutput();if(n)return this.saveReservation(n);this.notifications.error("Please fill in all required fields.")}loadPaymentInfo(t){return this.reservations.datetimeRequiresPayment({date:t.date.toString("YMD","-"),time:(0,X.In)(t.time),people:t.people}).pipe((0,d.a)(this.destroy$),(0,ht.k)(n=>n?.preorder_reservation_group||null),(0,gt.a)(n=>(console.error("Error while loading payment info",n),this.notifications.error((0,v.mk)(n)||y.a),(0,ft.of)(null))),(0,ce.y)(n=>this.preorder.set(n)))}askTableType(){this.stepIndex.set(2),this.scrollTop()}showLastPage(){this.stepIndex.set(3),this.scrollTop()}backFromTableTypeSelect(){this.stepIndex.set(1),this.tableTypeControl.setValue(null)}backFromContacts(){const t=this.preorder();this.stepIndex.set(t&&t.table_type_to_preorder_reservation_groups&&t.table_type_to_preorder_reservation_groups.length>0?2:1)}loadPaymentInfoAndAskTableTypeOrShowLastPage(t){this.loadingTableTypes.set(!0),this.loadPaymentInfo(t).pipe((0,E.U)(()=>this.loadingTableTypes.set(!1))).subscribe({next:n=>{n&&n.table_type_to_preorder_reservation_groups&&n.table_type_to_preorder_reservation_groups.length>0?this.askTableType():this.showLastPage()}})}saveReservation(t){this.savingReservation.set(!0),this.reservations.create(t).pipe((0,d.a)(this.destroy$),(0,E.U)(()=>this.savingReservation.set(!1))).subscribe({next:n=>{n.payment?.hpp_url?window.location.href=n.payment.hpp_url:(this.notifications.success("\n           Your reservation has been created. We will send you a confirmation\n          email shortly. \n        "),n.secret&&this.router.navigate(["/r/",n.secret]))},error:n=>{n instanceof m.gj&&422===n.status?this.manageUnprocessableEntity(n):this.notifications.error(n instanceof m.gj?(0,v.mk)(n):y.a)}})}formatOutput(){const t=this.contactControl.value?.email,n=this.contactControl.value?.phone,i=this.contactControl.value?.firstName,a=this.contactControl.value?.lastName,p=this.datePeopleControl.value&&this.datePeopleControl.value.date&&this.datePeopleControl.value.time?(0,X.Qx)(this.datePeopleControl.value.date,this.datePeopleControl.value.time):null,I=this.datePeopleControl.value?.people,g=this.contactControl.value?.notes;return function so(o){const s=(t,n)=>(console.warn(`Invalid field ${t}`,n),null);return"string"==typeof o.lang&&o.lang.length>0?"string"==typeof o.email&&o.email.length>0?"string"==typeof o.phone&&o.phone.length>0?"string"==typeof o.firstName&&o.firstName.length>0?"string"==typeof o.lastName&&o.lastName.length>0?"string"==typeof o.datetime&&o.datetime.length>0?null==o.notes||"string"==typeof o.notes&&o.notes.length>0?"number"==typeof o.children&&o.children>=0?"number"==typeof o.adults&&o.adults>=0?null==o.tableTypeId||"number"==typeof o.tableTypeId&&o.tableTypeId>=0?{lang:o.lang,email:o.email,phone:o.phone,datetime:o.datetime,children:o.children,notes:o.notes||null,adults:o.adults,first_name:o.firstName,last_name:o.lastName,table_type_id:o.tableTypeId||null}:s("tableTypeId",o.tableTypeId):s("adults",o.adults):s("children",o.children):s("notes",o.notes):s("datetime",o.datetime):s("lastName",o.lastName):s("firstName",o.firstName):s("phone",o.phone):s("email",o.email):s("lang",o.lang)}({email:t,phone:n,datetime:p,children:0,notes:g,adults:I||0,tableTypeId:this.tableTypeControl.value?.id||null,firstName:i,lastName:a,lang:this.locale})}scrollTop(){setTimeout(()=>{this.stepper?this.stepper?.nativeElement?.scrollIntoView({behavior:"smooth",block:"start",inline:"center"}):console.warn("stepper is null")},100)}manageUnprocessableEntity(t){if(!(t instanceof m.gj))return void this.notifications.error(y.a);if(!(422==t.status&&"object"==typeof t.error&&null!==t.error&&"object"==typeof t.error&&Object.keys(t.error.details).length>0))return console.warn("expected response to have status 422 and error { details: { <field>: <error> } } but did not ",t),void this.notifications.error(y.a);const n=t.error.details;console.warn("manageUnprocessableEntity()",{error:n,response:t}),this.datePeopleInput&&(n.people&&(B.y.assignErrorsToFormFromArray(this.datePeopleInput.form,n.people),delete n.adults,delete n.children,delete n.people),n.datetime&&(B.y.assignErrorsToFormFromArray(this.datePeopleInput.form,n.datetime),delete n.datetime)),this.contactInput&&(n.first_name&&(B.y.assignErrorsToFormFromArray(this.contactInput.form,n.first_name),delete n.first_name),n.last_name&&(B.y.assignErrorsToFormFromArray(this.contactInput.form,n.last_name),delete n.last_name),n.phone&&(B.y.assignErrorsToFormFromArray(this.contactInput.form,n.phone),delete n.phone),n.email&&(B.y.assignErrorsToFormFromArray(this.contactInput.form,n.email),delete n.email),n.notes&&(B.y.assignErrorsToFormFromArray(this.contactInput.form,n.notes),delete n.notes)),Object.keys(n).length>0&&this.notifications.error((0,v.Yj)(Object.values(n).flat())??y.a)}listenQueryParamsAndUpdateForm(){this.route.queryParams.pipe((0,d.a)(this.destroy$)).subscribe(t=>{const n=t.people?Number(t.people):null,i=t.date?(0,X.yc)(t.date):null,a=t.time?(0,X.cr)(t.time):null;this.datePeopleControl.setValue({...this.datePeopleControl.value||{},date:i||void 0,time:a||void 0,people:n||void 0}),this.contactControl.setValue({...this.contactControl.value||{},firstName:t.firstName||void 0,lastName:t.lastName||void 0,email:t.email||void 0,phone:t.phone||void 0,notes:t.notes||void 0})})}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-public-reservation-formv2"]],viewQuery:function(n,i){if(1&n&&(e.CC$(uo,7),e.CC$(de,5),e.CC$(we,5)),2&n){let a;e.wto(a=e.Gqi())&&(i.stepper=a.first),e.wto(a=e.Gqi())&&(i.datePeopleInput=a.first),e.wto(a=e.Gqi())&&(i.contactInput=a.first)}},standalone:!0,features:[e.M5G([f.UF]),e.UHJ],decls:29,vars:17,consts:()=>{let t,n,i,a;return t="Find a table.",n="Your details",i="Back",a="Back",[[1,"mx-auto","max-w-[600px]"],[1,"border-b","flex","flex-wrap","border-slate-400","text-lg","uppercase","mb-3"],["stepperHeader",""],[1,"mb-[-1px]","flex","items-center","flex-nowrap","text-nowrap","pb-3","border-solid","me-4",3,"ngClass"],[1,"ms-1"],t,n,[3,"expanded"],[3,"formControl","showLoader","submitted"],[1,"cursor-pointer","inline-flex","items-center","mb-4","ms-2","text-lg",3,"click"],[1,"me-1"],i,[3,"group","formControl","submitted"],a,[3,"preorderMessage","formControl","showLoader","submitted"]]},template:function(n,i){if(1&n&&(e.I0R(0,"div",0)(1,"div",1,2)(3,"div",3),e.yuY(4,_o,2,0,"mat-icon")(5,co,2,0),e.I0R(6,"span",4),e.aS0(7,5),e.C$Y()(),e.I0R(8,"div",3)(9,"span"),e.OEk(10,"2."),e.C$Y(),e.I0R(11,"span",4),e.aS0(12,6),e.C$Y()()(),e.I0R(13,"tui-expand",7)(14,"app-public-reserve-preview",8),e.qCj("submitted",function(p){return i.previewSubmitted(p)}),e.C$Y()(),e.I0R(15,"tui-expand",7)(16,"span",9),e.qCj("click",function(){return i.backFromTableTypeSelect()}),e.I0R(17,"mat-icon",10),e.OEk(18,"chevron_left"),e.C$Y(),e.I0R(19,"span"),e.aS0(20,11),e.C$Y()(),e.I0R(21,"app-public-reserve-ask-table-type",12),e.qCj("submitted",function(p){return i.tableTypeSubmitted(p)}),e.C$Y()(),e.I0R(22,"tui-expand",7)(23,"span",9),e.qCj("click",function(){return i.backFromContacts()}),e.I0R(24,"mat-icon",10),e.OEk(25,"chevron_left"),e.C$Y(),e.I0R(26,"span"),e.aS0(27,13),e.C$Y()(),e.I0R(28,"app-contact-confirm",14),e.qCj("submitted",function(p){return i.contactSubmitted(p)}),e.C$Y()()()),2&n){let a;e.yG2(3),e.E7m("ngClass",e.S45(13,De,1==i.stepIndex()||2==i.stepIndex())),e.yG2(),e.C0Y(4,i.stepIndex()>2?4:5),e.yG2(4),e.E7m("ngClass",e.S45(15,De,3==i.stepIndex())),e.yG2(5),e.E7m("expanded",1==i.stepIndex()),e.yG2(),e.E7m("formControl",i.datePeopleControl)("showLoader",i.loadingTableTypes()),e.yG2(),e.E7m("expanded",2==i.stepIndex()),e.yG2(6),e.E7m("group",i.preorder())("formControl",i.tableTypeControl),e.yG2(),e.E7m("expanded",3==i.stepIndex()),e.yG2(6),e.E7m("preorderMessage",i.preorder()?null==(a=i.preorder())?null:a.message:null)("formControl",i.contactControl)("showLoader",i.savingReservation())}},dependencies:[de,_.sl,_.ue,_.ug,Pt,we,h.QF,k.oB,k.qL,Ue.kh,Ue.st],encapsulation:2,changeDetection:0})}return o})();function mo(o,s){if(1&o&&e.wR5(0,"app-public-reservation-confirmation",0),2&o){const t=e.GaO();e.E7m("shareDetailsLinkShown",!0)("reservation",t.createdReservation())}}function Co(o,s){1&o&&(e.I0R(0,"div",1)(1,"h2",2),e.SAx(2),e.aS0(3,3),e.k70(),e.C$Y(),e.wR5(4,"hr",4),e.I0R(5,"p",5),e.SAx(6),e.aS0(7,6),e.k70(),e.C$Y(),e.wR5(8,"app-public-message",7)(9,"app-public-reservation-formv2"),e.C$Y()),2&o&&(e.yG2(8),e.E7m("location","new-reservation-form"))}let ho=(()=>{class o{constructor(){this.notifications=(0,e.uUt)(T.E),this.reservations=(0,e.uUt)(u.G),this.destroy$=(0,e.uUt)(f.UF),this.localStorage=(0,e.uUt)(P.s),this.createdReservation=(0,e.OCB)(null),this.resendingConfirmation=(0,e.OCB)(!1)}ngOnInit(){this.reservations.created.pipe((0,d.a)(this.destroy$)).subscribe({next:t=>{this.createdReservation.set(t)}})}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-public-home-reservev2"]],standalone:!0,features:[e.M5G([f.UF]),e.UHJ],decls:2,vars:1,consts:()=>{let t,n;return t="Book now",n="Reserve your spot at one of our tables and secure our exclusive experience.",[[3,"shareDetailsLinkShown","reservation"],[1,"mx-4","md:mx-8","lg:mx-12","my-3"],[1,"text-5xl","text-center","text-primary","mb-2"],t,[1,"bg-primary","w-3/4","mx-auto","h-[1px]","mb-5"],[1,"text-xl","text-center","mb-3"],n,[1,"block","mb-3","text-center","text-xl",3,"location"]]},template:function(n,i){1&n&&e.yuY(0,mo,1,2,"app-public-reservation-confirmation",0)(1,Co,10,1),2&n&&e.C0Y(0,i.createdReservation()?0:1)},dependencies:[R.CI,c.K,C.w,O.I,po],styles:["[_nghost-%COMP%]{background-color:var(--sixth-color);min-height:100vh}"],changeDetection:0})}return o})()},9052:($,L,r)=>{r.d(L,{y:()=>c});var e=r(4496),R=r(7760),C=r(6700),T=r(7368),f=r(2700),P=r(1368);function u(d,O){if(1&d&&(e.wR5(0,"img",1),e.wVc(1,"async")),2&d){const h=e.GaO();e.uQ9("max-w-[100%] h-auto min-h-[50px] md:min-h-[100px] ",h.imgClass,""),e._6D("src",e.kDX(1,5,h.imageSrc$),e.K6U),e.E7m("draggable",!1)}}let c=(()=>{class d{constructor(){this.noImage="/assets/img/no-image.jpg",this.imagesService=(0,e.uUt)(R.U),this.imgClass="block rounded",this.image$=new C.g(null),this.imageSrc$=this.image$.pipe((0,T.G)(h=>h instanceof Blob?(0,f.of)(URL.createObjectURL(h)):h&&h.id?this.imagesService.downloadUrl(h.id):(0,f.of)(this.noImage)))}set image(h){this.image$.next(h??null)}static#e=this.\u0275fac=function(_){return new(_||d)};static#t=this.\u0275cmp=e.In1({type:d,selectors:[["app-show-image"]],inputs:{imgClass:"imgClass",image:"image"},standalone:!0,features:[e.UHJ],decls:2,vars:3,consts:[[3,"draggable","class","src"],[3,"draggable","src"]],template:function(_,A){1&_&&(e.yuY(0,u,2,7,"img",0),e.wVc(1,"async")),2&_&&e.C0Y(0,e.kDX(1,1,A.imageSrc$)?0:-1)},dependencies:[P.a],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}"],changeDetection:0})}return d})()},9852:($,L,r)=>{r.d(L,{S:()=>f});var e=r(6504),R=r(400);const C=P=>null!=P&&""!=`${P}`;class f extends e.AQ{static formWeeklyFromTo(u,c){return d=>{if(!(d instanceof e.WC))return console.warn("formWeeklyFromTo: param is not a FormGroup",d),null;const O=d,h=O.get(u),_=O.get(c);return h&&_&&h.value instanceof R.uc&&_.value instanceof R.uc&&h.value&&_.value&&h.value.toAbsoluteMilliseconds()>=_.value.toAbsoluteMilliseconds()?{formWeeklyFromTo:!0}:null}}static canBeBlankIf(u,c,d){const O=d?.message||"The form is not valid.";return h=>{if(!(h instanceof e.WC))throw new Error("canBeBlankIf: thisIsAFormGroup is not a FormGroup");const A=h.get(u);if(!A)throw new Error("canBeBlankIf: control is blank. control name: "+u);return C(A.value)||c()?null:{[`${u}canBeBlankIf`]:O}}}static listOfEmails(u){const c=u.value;if(!c||"string"!=typeof c||!c.length)return null;const d=new RegExp("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$","i");return c.split(/\,|\s+/gm).map(O=>O.trim()).filter(O=>O.length).forEach(O=>{if(!d.test(O))return{listOfEmails:!0}}),null}static mustBeArray(u){return Array.isArray(u.value)?null:{mustBeArray:!0}}static objectNotEmpty(u){return C(u.value)&&"object"==typeof u.value&&0===Object.keys(u.value).length&&0===Object.values(u.value).filter(d=>C(d)).length?{objectNotEmpty:!0}:null}static objectValuesAllPresent(u){return C(u.value)&&"object"==typeof u.value&&Object.values(u.value).filter(d=>C(d)).length!==Object.keys(u.value).length?{objectValuesAllPresent:!0}:null}static arrayMinLength(u){return c=>Array.isArray(c.value)&&c.value.length<u?{arrayMinLength:{requiredLength:u,actualLength:c.value?.length??0}}:null}static validateArray(u){return c=>{if(!Array.isArray(c.value))return null;const d={};for(const O of c.value){const h=u(new e.yM(O));h&&Object.assign(d,h)}return Object.keys(d).length?d:null}}static percentage(u){return C(u.value)&&(isNaN(u.value)||u.value<0||u.value>100)?{percentage:!0}:null}static phoneIT(u){const c=O=>O?null:{phoneIT:!0},d=`${u.value}`.trim().replace(/\s+/gm,"").replace(/^\+39/gm,"");return C(d)?c(!((P=d).length<9||isNaN(Number(P))||P.length>14)):c(!0);var P}static instanceof(u){return c=>!C(c.value)||c.value instanceof u?null:{instanceof:!0}}static#e=this.instanceOf=this.instanceof;static numerical(u){return C(u.value)&&isNaN(u.value)?{numerical:!0}:null}static moreThan(u){return c=>c.value<=u?{moreThan:!0}:null}static in(u){return this.inclusion(u)}static inclusion(u){return c=>C(c.value)&&!u.includes(c.value)?{inclusion:!0}:null}}},964:($,L,r)=>{r.d(L,{Ez:()=>O,In:()=>S,Q1:()=>E,Q9:()=>A,Qx:()=>T,_0:()=>M,cr:()=>u,yc:()=>P});var e=r(400),R=r(9772);function T(l,m){const v=new e.uc(m.hours,m.minutes).shift({hours:-R.MJ});return new Date(Date.UTC(l.year,l.month,l.day,v.hours,v.minutes)).toISOString()}function P(l){if(null==l||null==l||""==l)return null;if("string"==typeof l&&l.length>0&&l.match(/^\d{4}-\d{1,2}-\d{1,2}\s{1}\d{1,2}:\d{1,2}$/)&&(l=l.split(" ")[0]),!("string"==typeof l&&l.length>0&&l.match(/^\d{4}-\d{1,2}-\d{1,2}$/)))return console.error("Invalid string provided to stringToTuiDay. Expected format YYYY-MM-DD, got",{str:l}),null;const{day:m,month:v,year:y}=e.EK.parseRawDateString(l,"YMD");return new e.EK(y,v,m)}function u(l){if("string"==typeof l&&l.length>0&&l.match(/^\d{4}-\d{1,2}-\d{1,2}\s{1}\d{1,2}:\d{1,2}$/)&&(l=l.split(" ")[1]),!("string"==typeof l&&l.length>0&&l.match(/^\d{1,2}:\d{1,2}$/)))return console.error("Invalid string provided to stringToTuiDay. Expected format HH:mm, got",{str:l}),null;const[m,v]=l.split(":").map(y=>Number(y));return"number"==typeof m&&m>=0&&m<=23?"number"==typeof v&&v>=0&&v<60?new e.uc(m,v):(console.error("error while parsing time in stringToTuiTime. minutes are invalid",{minutes:v}),null):(console.error("error while parsing time in stringToTuiTime. hours is invalid ",{hours:m}),null)}function O(l){return new Date(`1970-01-01 ${l.toString()}`).toISOString()}function A(l){const m=new Date(`${l}Z`);return`${m.getFullYear()}-${String(m.getMonth()+1).padStart(2,"0")}-${String(m.getDate()).padStart(2,"0")} ${String(m.getHours()).padStart(2,"0")}:${String(m.getMinutes()).padStart(2,"0")}`}function S(l){return function h(l){const m=new Date(`1970-01-01 ${l}`);return`${`${m.getUTCHours()}`.padStart(2,"0")}:${`${m.getUTCMinutes()}`.padStart(2,"0")}`}(l.toString())}function M(l){return new e.EK(l.getFullYear(),l.getMonth(),l.getDate())}function E(l){return new e.uc(l.getHours(),l.getMinutes())}},7760:($,L,r)=>{r.d(L,{U:()=>T});var e=r(6012),R=r(2264),C=r(4496);let T=(()=>{class f extends e.s{constructor(){super(R.W,"images")}removeFromRecord(u,c){return this.patch(`${u}/remove_from_record`,{record_type:c.record_type,record_id:c.record_id})}updateRecord(u,c){return this.patch("record",{image_ids:c,record_type:u.record_type,record_id:u.record_id})}downloadUrl(u){return this.url(`${u}/download`)}static#e=this.\u0275fac=function(c){return new(c||f)};static#t=this.\u0275prov=C.wxM({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},8976:($,L,r)=>{r.d(L,{Gy:()=>P,Ko:()=>f});var e=r(4496),R=r(3480),C=r(1368);let T=(()=>{class u{}return u.\u0275fac=function(d){return new(d||u)},u.\u0275cmp=e.In1({type:u,selectors:[["ng-component"]],hostAttrs:[1,"tui-group-styles"],decls:0,vars:0,template:function(d,O){},styles:[".tui-group{position:relative;display:flex;isolation:isolate}.tui-group>*{flex:1 1 0;min-width:0}.tui-group>*:not(:last-child){margin-right:.125rem}.tui-group.tui-group>*:nth-child(n){border-radius:0}.tui-group_collapsed>*{z-index:1}.tui-group_collapsed>*:not(:last-child){margin-right:-1px}.tui-group_collapsed>*._readonly,.tui-group_collapsed>*._disabled,.tui-group_collapsed>*._readonly:hover,.tui-group_collapsed>*._disabled:hover{z-index:0}.tui-group_collapsed>*:hover,.tui-group_collapsed>*._hovered,.tui-group_collapsed>*._pressed{z-index:3}.tui-group_collapsed>*._invalid{z-index:2}.tui-group_collapsed>*._invalid:hover,.tui-group_collapsed>*._invalid._hovered,.tui-group_collapsed>*._invalid._pressed{z-index:4}.tui-group_collapsed>*._hosted_dropdown_focused,.tui-group_collapsed>*._focus-visible,.tui-group_collapsed>*._focused.ng-touched,.tui-group_collapsed>*._focused.ng-untouched{z-index:5}.tui-group_collapsed>*._active,.tui-group_collapsed>*[data-appearance=whiteblock-active]{z-index:6}.tui-group_collapsed>*._focus-visible._focused,.tui-group_collapsed>*._focus-visible._active,.tui-group_collapsed>*._focus-visible[data-appearance=whiteblock-active]{z-index:7}.tui-group_orientation_vertical{display:inline-flex;flex-direction:column}.tui-group_orientation_vertical>*{min-height:auto;flex:0 0 auto}.tui-group_orientation_vertical>*:not(:last-child){margin-right:0;margin-bottom:.125rem}.tui-group_orientation_vertical.tui-group_collapsed>*:not(:last-child){margin-right:0;margin-bottom:-1px}.tui-group_rounded.tui-group_orientation_horizontal>*:first-child{border-top-left-radius:var(--tui-radius-m);border-bottom-left-radius:var(--tui-radius-m)}.tui-group_rounded.tui-group_orientation_horizontal>*:last-child{border-top-right-radius:var(--tui-radius-m);border-bottom-right-radius:var(--tui-radius-m)}.tui-group_rounded.tui-group_orientation_horizontal.tui-group_radius_large>*:first-child{border-top-left-radius:var(--tui-radius-l);border-bottom-left-radius:var(--tui-radius-l)}.tui-group_rounded.tui-group_orientation_horizontal.tui-group_radius_large>*:last-child{border-top-right-radius:var(--tui-radius-l);border-bottom-right-radius:var(--tui-radius-l)}.tui-group_rounded.tui-group_orientation_vertical>*:first-child{border-top-left-radius:var(--tui-radius-m);border-top-right-radius:var(--tui-radius-m)}.tui-group_rounded.tui-group_orientation_vertical>*:last-child{border-bottom-left-radius:var(--tui-radius-m);border-bottom-right-radius:var(--tui-radius-m)}.tui-group_rounded.tui-group_orientation_vertical.tui-group_radius_large>*:first-child{border-top-left-radius:var(--tui-radius-l);border-top-right-radius:var(--tui-radius-l)}.tui-group_rounded.tui-group_orientation_vertical.tui-group_radius_large>*:last-child{border-bottom-left-radius:var(--tui-radius-l);border-bottom-right-radius:var(--tui-radius-l)}@media screen and (max-width: 47.9625em){.tui-group_rounded.tui-group_adaptive.tui-group_orientation_vertical:not(.tui-group_collapsed)>*:first-child:not(:last-child),.tui-group_rounded.tui-group_adaptive.tui-group_orientation_horizontal>*:first-child:not(:last-child),.tui-group_rounded.tui-group_adaptive.tui-group_orientation_vertical:not(.tui-group_collapsed)>*:last-child:not(:first-child),.tui-group_rounded.tui-group_adaptive.tui-group_orientation_horizontal>*:last-child:not(:first-child){border-radius:var(--tui-radius-m)}}@media screen and (max-width: 47.9625em){.tui-group_rounded.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical:not(.tui-group_collapsed)>*:first-child:not(:last-child),.tui-group_rounded.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal>*:first-child:not(:last-child),.tui-group_rounded.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical:not(.tui-group_collapsed)>*:last-child:not(:first-child),.tui-group_rounded.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal>*:last-child:not(:first-child){border-radius:var(--tui-radius-l)}}@media screen and (max-width: 47.9625em){.tui-group_adaptive.tui-group_orientation_vertical{width:100%}.tui-group_adaptive.tui-group_orientation_vertical>*:nth-child(n):not(:only-child){border-radius:var(--tui-radius-m)}.tui-group_adaptive.tui-group_orientation_vertical>*:not(:last-child){margin-bottom:1rem}.tui-group_adaptive.tui-group_orientation_vertical.tui-group_collapsed>*:nth-child(n):not(:only-child){border-radius:0}.tui-group_adaptive.tui-group_orientation_vertical.tui-group_collapsed>*:first-child:not(:last-child){border-radius:var(--tui-radius-m) var(--tui-radius-m) 0 0}.tui-group_adaptive.tui-group_orientation_vertical.tui-group_collapsed>*:last-child:not(:first-child){border-radius:0 0 var(--tui-radius-m) var(--tui-radius-m)}.tui-group_adaptive.tui-group_orientation_vertical.tui-group_collapsed>*:not(:last-child){margin-bottom:-1px}}@media screen and (max-width: 47.9625em){.tui-group_adaptive.tui-group_orientation_horizontal{flex-direction:column;width:100%}.tui-group_adaptive.tui-group_orientation_horizontal>*:nth-child(n):not(:only-child){border-radius:var(--tui-radius-m)}.tui-group_adaptive.tui-group_orientation_horizontal>*:not(:last-child){margin-right:0;margin-bottom:1rem}.tui-group_adaptive.tui-group_orientation_horizontal.tui-group_collapsed>*:nth-child(n):not(:only-child){border-radius:0}.tui-group_adaptive.tui-group_orientation_horizontal.tui-group_collapsed>*:first-child:not(:last-child){border-radius:var(--tui-radius-m) var(--tui-radius-m) 0 0}.tui-group_adaptive.tui-group_orientation_horizontal.tui-group_collapsed>*:last-child:not(:first-child){border-radius:0 0 var(--tui-radius-m) var(--tui-radius-m)}.tui-group_adaptive.tui-group_orientation_horizontal.tui-group_collapsed>*:not(:last-child){margin-right:0;margin-bottom:-1px}}@media screen and (max-width: 47.9625em){.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical>*:nth-child(n):not(:only-child){border-radius:var(--tui-radius-l)}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical.tui-group_collapsed>*:nth-child(n):not(:only-child){border-radius:0}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical.tui-group_collapsed>*:first-child:not(:last-child){border-radius:var(--tui-radius-l) var(--tui-radius-l) 0 0}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical.tui-group_collapsed>*:last-child:not(:first-child){border-radius:0 0 var(--tui-radius-l) var(--tui-radius-l)}}@media screen and (max-width: 47.9625em){.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal>*:nth-child(n):not(:only-child){border-radius:var(--tui-radius-l)}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal.tui-group_collapsed>*:nth-child(n):not(:only-child){border-radius:0}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal.tui-group_collapsed>*:first-child:not(:last-child){border-radius:var(--tui-radius-l) var(--tui-radius-l) 0 0}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal.tui-group_collapsed>*:last-child:not(:first-child){border-radius:0 0 var(--tui-radius-l) var(--tui-radius-l)}}.tui-group__auto-width-item{min-width:auto;flex:0 0 auto}.tui-group .tui-group__inherit-item{border-radius:inherit}\n"],encapsulation:2,changeDetection:0}),u})(),f=(()=>{class u{constructor(d){this.orientation="horizontal",this.adaptive=!1,this.collapsed=!1,this.rounded=!0,this.size="m",d.addComponent(T)}get orientationHorizontal(){return"horizontal"===this.orientation}get orientationVertical(){return"vertical"===this.orientation}get sizeLarge(){return"l"===this.size}}return u.\u0275fac=function(d){return new(d||u)(e.GI1(R.WS))},u.\u0275dir=e.Sc5({type:u,selectors:[["","tuiGroup","",5,"ng-container"]],hostAttrs:["role","group",1,"tui-group"],hostVars:12,hostBindings:function(d,O){2&d&&e.eAK("tui-group_adaptive",O.adaptive)("tui-group_collapsed",O.collapsed)("tui-group_rounded",O.rounded)("tui-group_orientation_horizontal",O.orientationHorizontal)("tui-group_orientation_vertical",O.orientationVertical)("tui-group_radius_large",O.sizeLarge)},inputs:{orientation:"orientation",adaptive:"adaptive",collapsed:"collapsed",rounded:"rounded",size:"size"}}),u})(),P=(()=>{class u{}return u.\u0275fac=function(d){return new(d||u)},u.\u0275mod=e.a4G({type:u}),u.\u0275inj=e.s3X({imports:[[C.MD]]}),u})()},2500:($,L,r)=>{r.d(L,{i:()=>f,y:()=>P});var e=r(4496),R=r(3656),C=r(3840),T=r(3724);let f=(()=>{class u{constructor(d){this.svgOptions=d,this.staticPath=this.svgOptions.path("tuiIcon").replace("tuiIcon.svg#tuiIcon","").replace(`tuiIcon.svg${C._m}#tuiIcon`,"")}transform(d){if(!d)return null;switch(d){case T.q.BL:case T.q.BQ:case T.q.CW:case T.q.GF:case T.q.GP:case T.q.MF:case T.q.MQ:case T.q.NC:case T.q.RE:case T.q.YT:return`${this.staticPath}${T.q.FR}.png`;case T.q.SX:return`${this.staticPath}${T.q.NL}.png`;default:return`${this.staticPath}${d}.png`}}}return u.\u0275fac=function(d){return new(d||u)(e.GI1(R.iY,16))},u.\u0275pipe=e.UTH({name:"tuiFlag",type:u,pure:!0}),u})(),P=(()=>{class u{}return u.\u0275fac=function(d){return new(d||u)},u.\u0275mod=e.a4G({type:u}),u.\u0275inj=e.s3X({}),u})()},6964:($,L,r)=>{r.d(L,{a:()=>_,i:()=>A});var e=r(4496),R=r(6504),C=r(1800),T=r(4164),f=r(4680),P=r(5944),u=r(1739),c=r(3972),d=r(1940),O=r(1368);const h=["*"];let _=(()=>{class S extends C.GG{constructor(E,l,m,v){super(E,l),this.mode$=m,this.options=v,this.size=this.options.size}get focused(){return(0,T.ER)(this.nativeFocusableElement)}get nativeFocusableElement(){var E,l;return null!==(l=null===(E=this.checkbox)||void 0===E?void 0:E.nativeFocusableElement)&&void 0!==l?l:null}onFocused(E){this.updateFocused(E)}onModelChange(E){this.value=E}}return S.\u0275fac=function(E){return new(E||S)(e.GI1(R.eq,10),e.GI1(e.kD9),e.GI1(P.Yx),e.GI1(u.uU))},S.\u0275cmp=e.In1({type:S,selectors:[["tui-checkbox-labeled"]],viewQuery:function(E,l){if(1&E&&e.CC$(d.g,5),2&E){let m;e.wto(m=e.Gqi())&&(l.checkbox=m.first)}},hostVars:1,hostBindings:function(E,l){1&E&&e.qCj("$.data-mode.attr",function(){return l.mode$}),2&E&&e.e48("data-size",l.size)},inputs:{size:"size"},features:[e.M5G([(0,f.NK)(S),(0,C.q4)(S),c.Ir]),e.eg9],ngContentSelectors:h,decls:4,vars:12,consts:[[1,"t-wrapper"],[3,"disabled","focusable","nativeId","pseudoActive","pseudoFocus","pseudoHover","pseudoInvalid","readOnly","size","ngModel","ngModelChange","focusedChange"],[1,"t-content"]],template:function(E,l){1&E&&(e.kPM(),e.I0R(0,"label",0)(1,"tui-checkbox",1),e.iHE("ngModelChange",function(v){return e.kNx(l.value,v)||(l.value=v),v}),e.qCj("focusedChange",function(v){return l.onFocused(v)}),e.C$Y(),e.I0R(2,"div",2),e._Xx(3),e.C$Y()()),2&E&&(e.yG2(),e.E7m("disabled",l.computedDisabled)("focusable",l.focusable)("nativeId",l.nativeId)("pseudoActive",l.pseudoActive)("pseudoFocus",l.pseudoFocus)("pseudoHover",l.pseudoHover)("pseudoInvalid",l.computedInvalid)("readOnly",l.readOnly)("size",l.size),e.OKB("ngModel",l.value),e.yG2(),e.eAK("t-content_disabled",l.computedDisabled))},dependencies:[d.g,R.ue,R._G],styles:["[_nghost-%COMP%]{position:relative;display:block;line-height:0}._disabled[_nghost-%COMP%], ._readonly[_nghost-%COMP%]{pointer-events:none}.t-wrapper[_ngcontent-%COMP%]{display:inline-flex;max-width:100%;cursor:pointer}._disabled[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{cursor:default}[data-mode=onDark][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{color:var(--tui-text-01-night)}.t-content[_ngcontent-%COMP%]{font:var(--tui-font-text-s);line-height:1rem;word-wrap:break-word;min-width:0}.t-content_disabled[_ngcontent-%COMP%]{opacity:var(--tui-disabled-opacity)}[data-size=m][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{margin-left:.5rem}[data-size=l][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{font:var(--tui-font-text-m);margin-left:.75rem}"],changeDetection:0}),S})(),A=(()=>{class S{}return S.\u0275fac=function(E){return new(E||S)},S.\u0275mod=e.a4G({type:S}),S.\u0275inj=e.s3X({imports:[[O.MD,R.y,d.Q]]}),S})()},812:($,L,r)=>{r.d(L,{m2:()=>_,mU:()=>c,qS:()=>T,w3:()=>A}),r(4392);var R=r(2528);r(3840);const T={DMY:"dd/mm/yyyy",MDY:"mm/dd/yyyy",YMD:"yyyy/mm/dd"},c=/\([#]+\)|[#\- ]/g,_=(M,E,l,m)=>{if(!E?.isSingleDay||!l)return M;const v=(0,R.Kw)(Object.entries(l).map(([U,D])=>[U,-D])),y=E.from.append(m?v:l).append({day:m?1:-1});return m?y.dayBefore(M)?M:y:M&&y.dayAfter(M)?M:y},A={HH:23,MM:59,SS:59,MS:999}}}]);