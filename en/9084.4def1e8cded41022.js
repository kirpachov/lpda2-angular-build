"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[9084],{964:(B,D,s)=>{s.d(D,{Ez:()=>E,In:()=>y,Q1:()=>h,Q9:()=>g,Qx:()=>I,_0:()=>p,cr:()=>O,yc:()=>A});var c=s(400),e=s(9772);function I(i,u){const d=new c.uc(u.hours,u.minutes).shift({hours:-e.MJ});return new Date(Date.UTC(i.year,i.month,i.day,d.hours,d.minutes)).toISOString()}function A(i){if(null==i||null==i||""==i)return null;if("string"==typeof i&&i.length>0&&i.match(/^\d{4}-\d{1,2}-\d{1,2}\s{1}\d{1,2}:\d{1,2}$/)&&(i=i.split(" ")[0]),!("string"==typeof i&&i.length>0&&i.match(/^\d{4}-\d{1,2}-\d{1,2}$/)))return console.error("Invalid string provided to stringToTuiDay. Expected format YYYY-MM-DD, got",{str:i}),null;const{day:u,month:d,year:_}=c.EK.parseRawDateString(i,"YMD");return new c.EK(_,d,u)}function O(i){if("string"==typeof i&&i.length>0&&i.match(/^\d{4}-\d{1,2}-\d{1,2}\s{1}\d{1,2}:\d{1,2}$/)&&(i=i.split(" ")[1]),!("string"==typeof i&&i.length>0&&i.match(/^\d{1,2}:\d{1,2}$/)))return console.error("Invalid string provided to stringToTuiDay. Expected format HH:mm, got",{str:i}),null;const[u,d]=i.split(":").map(_=>Number(_));return"number"==typeof u&&u>=0&&u<=23?"number"==typeof d&&d>=0&&d<60?new c.uc(u,d):(console.error("error while parsing time in stringToTuiTime. minutes are invalid",{minutes:d}),null):(console.error("error while parsing time in stringToTuiTime. hours is invalid ",{hours:u}),null)}function E(i){return new Date(`1970-01-01 ${i.toString()}`).toISOString()}function g(i){const u=new Date(`${i}Z`);return`${u.getFullYear()}-${String(u.getMonth()+1).padStart(2,"0")}-${String(u.getDate()).padStart(2,"0")} ${String(u.getHours()).padStart(2,"0")}:${String(u.getMinutes()).padStart(2,"0")}`}function y(i){return function P(i){const u=new Date(`1970-01-01 ${i}`);return`${`${u.getUTCHours()}`.padStart(2,"0")}:${`${u.getUTCMinutes()}`.padStart(2,"0")}`}(i.toString())}function p(i){return new c.EK(i.getFullYear(),i.getMonth(),i.getDate())}function h(i){return new c.uc(i.getHours(),i.getMinutes())}},2740:(B,D,s)=>{s.d(D,{IZ:()=>nt,gt:()=>it,iw:()=>et});var c=s(1316),e=s(4496),m=s(6504),I=s(6572),U=s(2528),A=s(3480),O=s(1800),C=s(4392),R=s(4164),E=s(400),P=s(8987),v=s(4680),g=s(9392),y=s(466),p=s(7936),h=s(4336),i=s(3656),u=s(8048),d=s(4108),_=s(5944),f=s(9371),T=s(5384),S=s(796),F=s(3012),V=s(3120),G=s(4704),N=s(3616),k=s(812),M=s(1368),L=s(5900),H=s(5620),w=s(1040);const x=["tuiTime",""];function Y(o,r){1&o&&e.wR5(0,"option",3),2&o&&e._6D("value",r.$implicit)}function z(o,r){if(1&o&&(e.I0R(0,"datalist",1),e.yuY(1,Y,1,1,"option",2),e.C$Y()),2&o){const t=e.GaO();e.E7m("id",t.autoIdString),e.yG2(),e.E7m("ngForOf",t.items)}}function b(o,r){if(1&o&&(e.I0R(0,"button",7),e.OEk(1),e.C$Y()),2&o){const t=r.$implicit,n=e.GaO(2);e.E7m("disabled",n.disabledItemHandler(t))("value",t),e.yG2(),e.oRS(" ",t," ")}}function j(o,r){if(1&o&&(e.I0R(0,"tui-data-list",5),e.yuY(1,b,2,3,"button",6),e.C$Y()),2&o){const t=e.GaO();e.E7m("size",t.itemSize),e.yG2(),e.E7m("ngForOf",t.filtered)}}function Q(o,r){1&o&&e.wR5(0,"tui-svg",10),2&o&&e.E7m("src",r.polymorpheusOutlet)}function X(o,r){1&o&&e.wR5(0,"input",11)}const Z=o=>({$implicit:o});function J(o,r){if(1&o&&e.yuY(0,Q,1,1,"tui-svg",8)(1,X,1,0,"input",9),2&o){const t=e.GaO();e.E7m("polymorpheusOutlet",t.icon)("polymorpheusOutletContext",e.S45(3,Z,t.size)),e.yG2(),e.E7m("ngIf",t.showNativePicker)}}const q=["*"],$=(0,U.AL)({icon:({$implicit:o})=>"s"===o?"tuiIconClock":"tuiIconClockLarge",mode:"HH:MM",postfix:"",maxValues:k.w3,itemSize:"m",nativePicker:!1});let tt=(()=>{class o{constructor(t,n){this.host=t,this.autoIdString=n.generate()}get items(){return this.host.items.map(t=>t.toString(this.host.mode))}get value(){return this.host.value.length===this.host.mode.length?this.host.value:""}get step(){switch(this.host.mode){case"HH:MM:SS":return 1;case"HH:MM:SS.MSS":return.001;default:return 60}}onChange(t){this.host.onValueChange(t)}}return o.\u0275fac=function(t){return new(t||o)(e.GI1(_.Mn),e.GI1(A.y2))},o.\u0275cmp=e.In1({type:o,selectors:[["input","tuiTime",""]],hostAttrs:["type","time"],hostVars:4,hostBindings:function(t,n){1&t&&e.qCj("change.stop",function(l){return n.onChange(l.target.value)})("click.stop.silent",function(){return 0})("mousedown.stop.silent",function(){return 0}),2&t&&(e.SoX("tabIndex",-1)("value",n.value)("step",n.step),e.e48("list",n.autoIdString))},attrs:x,decls:1,vars:1,consts:[[3,"id",4,"ngIf"],[3,"id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,n){1&t&&e.yuY(0,z,2,2,"datalist",0),2&t&&e.E7m("ngIf",n.items.length)},dependencies:[M.u_,M.ay],styles:["[_nghost-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;pointer-events:auto;font-size:2rem}"],changeDetection:0}),o})(),et=(()=>{class o extends O.GG{constructor(t,n,a,l,K,ot,st){super(t,n),this.timeTexts$=a,this.options=l,this.isMobile=K,this.isIos=ot,this.textfieldSize=st,this.disabledItemHandler=C.so,this.items=[],this.itemSize=this.options.itemSize,this.strict=!1,this.mode=this.options.mode,this.postfix=this.options.postfix,this.open=!1}get size(){return this.textfieldSize.size}get nativeFocusableElement(){var t,n;return null!==(n=null===(t=this.textfield)||void 0===t?void 0:t.nativeFocusableElement)&&void 0!==n?n:null}get focused(){return(0,R.ER)(this.nativeFocusableElement)}get canOpen(){return this.interactive&&!!this.filtered.length}get filtered(){return this.filter(this.items,this.mode,this.computedSearch)}get showNativePicker(){return this.nativePicker&&(!this.isIos||"HH:MM"===this.mode&&!this.items.length)}get nativeDatalist(){return this.nativePicker&&!this.isIos}get maskOptions(){return this.calculateMask(this.mode)}get computedValue(){return this.value?this.value.toString(this.mode):this.nativeValue}get computedSearch(){return this.computedValue.length!==this.mode.length?this.computedValue:""}get innerPseudoFocused(){return!1!==this.pseudoFocus&&(!!(this.open&&this.canOpen||this.computedFocused)||null)}get icon(){return this.options.icon}get nativeValue(){var t;return(null===(t=this.nativeFocusableElement)||void 0===t?void 0:t.value)||""}set nativeValue(t){this.nativeFocusableElement&&(this.nativeFocusableElement.value=t)}getFiller$(t){return this.timeTexts$.pipe((0,G.k)(n=>n[t]))}onClick(){this.open=!this.open}onValueChange(t){this.open=!!this.items.length,this.control&&this.control.updateValueAndValidity({emitEvent:!1});const n=this.getMatch(t);if(void 0!==n)return void(this.value=n);if(t.length!==this.mode.length)return void(this.value=null);const a=E.uc.fromString(t);this.value=this.strict?this.findNearestTimeFromItems(a):a}onFocused(t){this.updateFocused(t),!t&&null===this.value&&""!==this.nativeValue&&"HH:MM"!==this.mode&&(this.value=E.uc.fromString(this.nativeValue),(0,V.k)(0).pipe((0,N.a)(this.destroy$)).subscribe(()=>{(this.nativeValue.endsWith(".")||this.nativeValue.endsWith(":"))&&(this.nativeValue=this.nativeValue.slice(0,-1))}))}onArrowUp(t){this.items.length||this.processArrow(t,1)}onArrowDown(t){this.items.length||this.processArrow(t,-1)}handleOption(t){this.focusInput(),this.value=t}onOpen(t){this.open=t}writeValue(t){super.writeValue(t),this.nativeValue=t?this.computedValue:""}get nativePicker(){return!!this.options.nativePicker&&this.isMobile}calculateMask(t){const{HH:n,MM:a,SS:l,MS:K}=this.options.maxValues;return(0,I.ee)({mode:t,timeSegmentMaxValues:{hours:n,minutes:a,seconds:l,milliseconds:K}})}filter(t,n,a){return t.filter(l=>l.toString(n).includes(a))}findNearestTimeFromItems(t){return this.items.reduce((n,a)=>Math.abs(a.valueOf()-t.valueOf())<Math.abs(n.valueOf()-t.valueOf())?a:n,new E.uc(0,0))}getMatch(t){return this.items.find(n=>(0,C.yG)(n,t))}close(){this.open=!1}processArrow(t,n){const{target:a}=t;if(this.readOnly||!(0,P.CK)(a)||!(0,P.kZ)(a))return;const l=a.selectionStart||0;this.shiftTime(this.calculateShift(l,n)),a.setSelectionRange(l,l),t.preventDefault()}calculateShift(t,n){return t<=2?{hours:n}:t<=5?{minutes:n}:t<=8?{seconds:n}:{ms:n}}shiftTime(t){if(null===this.value)return;const n=this.value.shift(t);this.nativeValue=n.toString(this.mode),this.value=n}focusInput(t=!1){this.nativeFocusableElement&&(this.nativeFocusableElement.focus({preventScroll:t}),this.close())}}return o.\u0275fac=function(t){return new(t||o)(e.GI1(m.eq,10),e.GI1(e.kD9),e.GI1(F.Ul),e.GI1($),e.GI1(v.Mv),e.GI1(v.kh),e.GI1(u.$K))},o.\u0275cmp=e.In1({type:o,selectors:[["tui-input-time"]],viewQuery:function(t,n){if(1&t&&e.CC$(p.y_,5),2&t){let a;e.wto(a=e.Gqi())&&(n.textfield=a.first)}},hostVars:1,hostBindings:function(t,n){1&t&&e.qCj("click",function(){return n.onClick()}),2&t&&e.e48("data-size",n.size)},inputs:{disabledItemHandler:"disabledItemHandler",items:"items",itemSize:"itemSize",strict:"strict",mode:"mode",postfix:"postfix"},features:[e.M5G([(0,v.NK)(o),(0,O.q4)(o),(0,_.UH)(o),(0,_.YB)(T.E$)],[S.YL]),e.eg9],ngContentSelectors:q,decls:9,vars:18,consts:[[1,"t-wrapper",3,"canOpen","content","open","focusedChange","openChange"],["tuiValueAccessor","",1,"t-textfield",3,"disabled","focusable","invalid","maskito","nativeId","postfix","pseudoActive","pseudoFocus","pseudoHover","readOnly","tuiTextfieldFiller","tuiTextfieldIcon","value","keydown.arrowDown","keydown.arrowUp","valueChange"],["inputmode","numeric","tuiTextfield",""],["dropdownContent",""],["iconContent",""],["automation-id","tui-input-time__dropdown",3,"size"],["automation-id","tui-input-time__item","tuiOption","",3,"disabled","value",4,"ngFor","ngForOf"],["automation-id","tui-input-time__item","tuiOption","",3,"disabled","value"],["appearance","icon","tuiWrapper","",3,"src",4,"polymorpheusOutlet","polymorpheusOutletContext"],["tuiTime","",4,"ngIf"],["appearance","icon","tuiWrapper","",3,"src"],["tuiTime",""]],template:function(t,n){if(1&t&&(e.kPM(),e.I0R(0,"tui-hosted-dropdown",0),e.qCj("focusedChange",function(l){return n.onFocused(l)})("openChange",function(l){return n.onOpen(l)}),e.I0R(1,"tui-primitive-textfield",1),e.qCj("keydown.arrowDown",function(l){return n.onArrowDown(l)})("keydown.arrowUp",function(l){return n.onArrowUp(l)})("valueChange",function(l){return n.onValueChange(l)}),e.wVc(2,"async"),e._Xx(3),e.wR5(4,"input",2),e.C$Y()(),e.yuY(5,j,2,2,"ng-template",null,3,e.gJz)(7,J,2,5,"ng-template",null,4,e.gJz)),2&t){const a=e.Gew(6),l=e.Gew(8);e.E7m("canOpen",n.canOpen&&!n.nativeDatalist)("content",a)("open",n.canOpen&&n.open),e.yG2(),e.E7m("disabled",n.disabled)("focusable",n.focusable)("invalid",n.computedInvalid)("maskito",n.maskOptions)("nativeId",n.nativeId)("postfix",n.postfix)("pseudoActive",n.pseudoActive)("pseudoFocus",n.innerPseudoFocused)("pseudoHover",n.pseudoHover)("readOnly",n.readOnly)("tuiTextfieldFiller",e.kDX(2,16,n.getFiller$(n.mode))||"")("tuiTextfieldIcon",l)("value",n.computedValue)}},dependencies:[y.Qw,p.y_,p.b,h.yi,h.sP,i.Wu,tt,p.KQ,L.a,H.sD,u.Gk,u.uU,M.ay,w.Af,d.S,M.u_,M.a],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:left}._disabled[_nghost-%COMP%]{pointer-events:none}.t-wrapper[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}"],changeDetection:0}),(0,c.UN)([g.w7],o.prototype,"getFiller$",null),(0,c.UN)([g.w7],o.prototype,"calculateMask",null),(0,c.UN)([g.w7],o.prototype,"filter",null),o})(),it=(()=>{class o extends f.Cm{get value(){return this.host.computedValue}get mode(){return this.host.mode}get items(){return this.host.items}onValueChange(t){t||(this.host.nativeValue=""),this.host.onValueChange(t)}process(t){t.inputMode="numeric"}}return o.\u0275fac=(()=>{let r;return function(n){return(r||(r=e.otF(o)))(n||o)}})(),o.\u0275dir=e.Sc5({type:o,selectors:[["tui-input-time"]],features:[e.M5G([(0,_.iu)(o)]),e.eg9]}),o})(),nt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.a4G({type:o}),o.\u0275inj=e.s3X({imports:[[M.MD,H.S,T.YB,h.A$,d.g,y.GE,p.KA,L.i,u.aS,i.Yt,w.Ux]]}),o})()},812:(B,D,s)=>{s.d(D,{m2:()=>v,mU:()=>C,qS:()=>I,w3:()=>g}),s(4392);var e=s(2528);s(3840);const I={DMY:"dd/mm/yyyy",MDY:"mm/dd/yyyy",YMD:"yyyy/mm/dd"},C=/\([#]+\)|[#\- ]/g,v=(p,h,i,u)=>{if(!h?.isSingleDay||!i)return p;const d=(0,e.Kw)(Object.entries(i).map(([f,T])=>[f,-T])),_=h.from.append(u?d:i).append({day:u?1:-1});return u?_.dayBefore(p)?p:_:p&&_.dayAfter(p)?p:_},g={HH:23,MM:59,SS:59,MS:999}}}]);