"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[4152],{4152:(W,O,s)=>{s.d(O,{c:()=>oi});var e=s(4496),A=s(3797),b=s(1316),h=s(6504),x=s(900),y=s(3480),d=s(2528),g=s(3412),m=s(4704),I=s(6684),T=s(7368),F=s(5568),C=s(4e3),B=s(3616);let nt=(()=>{class a{constructor({nativeElement:t},n){this.tuiDroppableDropped=(0,x.Ax)(t,"drop").pipe((0,x.uy)(),(0,m.k)(o=>o.dataTransfer),(0,I.I)(d.kF)),this.tuiDroppableDragOverChange=(0,x.Ax)(t,"dragenter").pipe((0,T.G)(({target:o,dataTransfer:r})=>(0,g.U)((0,x.Ax)(t,"dragleave").pipe((0,I.I)(l=>l.target===o)),(0,x.Ax)(t,"drop")).pipe((0,m.k)(()=>null),(0,F.W)(r))),(0,C.a)((o,r)=>!!o&&!!r||!o&&!r)),(0,x.Ax)(t,"dragover").pipe((0,x.uy)(),(0,B.a)(n)).subscribe()}}return a.\u0275fac=function(t){return new(t||a)(e.GI1(e.GMv),e.GI1(y.UF,2))},a.\u0275dir=e.Sc5({type:a,selectors:[["","tuiDroppableDropped",""],["","tuiDroppableDragOverChange",""]],outputs:{tuiDroppableDropped:"tuiDroppableDropped",tuiDroppableDragOverChange:"tuiDroppableDragOverChange"},features:[e.M5G([y.UF])]}),a})(),ot=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.a4G({type:a}),a.\u0275inj=e.s3X({}),a})();var _=s(168),z=s(1800),p=s(4164),v=s(4392),w=s(4680),P=s(9392),Dt=s(6732),St=s(1096),ut=s(832),Ft=s(1632),Pt=s(3905),pt=s(1512),dt=s(4108),Gt=s(3972),ht=s(3656),gt=s(7692),U=s(8212),mt=s(8976),at=s(3012),Lt=s(7232);function ft(a,i){return void 0===i?null:i<1024?`${i} ${a[0]}`:i<1048576?`${(i/1024).toFixed(0)} ${a[1]}`:`${(0,Lt.Q3)(i/1048576,2).toLocaleString("ru-RU")} ${a[2]}`}var Bt=s(6040),xt=s(2700),$=s(1368),V=s(1040),$t=s(1588),Wt=s(1200),Ut=s(9880);(0,d.AL)({formatSize:ft,icons:{normal:({$implicit:a})=>"l"===a?"tuiIconFileLarge":"tuiIconCheckCircleLarge",error:"tuiIconAlertCircleLarge",deleted:"tuiIconTrashLarge"}});let ae=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.a4G({type:a}),a.\u0275inj=e.s3X({imports:[[$.MD,mt.Gy,gt.Sk,V.Ux,ht.Yt,ut.I,U.CI,$t.s,Ut.kh,Wt.m]]}),a})();const vt=["input"],re=["formatRejection"],se=["maxSizeRejection"];function le(a,i){1&a&&e.C_f(0)}function ce(a,i){if(1&a&&(e.SAx(0),e.OEk(1),e.k70()),2&a){const t=i.polymorpheusOutlet;e.yG2(),e.oRS(" ",t," ")}}function ue(a,i){1&a&&e.wR5(0,"span",10),2&a&&e.E7m("textContent",i.polymorpheusOutlet)}function pe(a,i){if(1&a&&(e.I0R(0,"div")(1,"a",7),e.yuY(2,ce,2,1,"ng-container",8),e.wVc(3,"async"),e.C$Y(),e.yuY(4,ue,1,1,"span",9),e.wVc(5,"async"),e.C$Y()),2&a){const t=e.GaO();e.yG2(2),e.E7m("polymorpheusOutlet",e.kDX(3,2,t.computedLink$)),e.yG2(2),e.E7m("polymorpheusOutlet",e.kDX(5,4,t.computedLabel$))}}function de(a,i){if(1&a&&(e.SAx(0),e._Xx(1),e.wR5(2,"input",11,12),e.k70()),2&a){const t=e.GaO();e.yG2(2),e.E7m("accept",t.accept)("id",t.id)("multiple",t.multiple)("tuiFocusable",t.focusable)}}function he(a,i){if(1&a&&(e.OEk(0),e.wVc(1,"async")),2&a){const t=e.GaO();let n;e.oRS(" ",(null==(n=e.kDX(1,1,t.inputFileTexts$))?null:n.formatRejectionReason)||"","\n")}}function ge(a,i){if(1&a&&(e.OEk(0),e.wVc(1,"async"),e.wVc(2,"tuiMaxSizeRejectionError")),2&a){const t=e.GaO();e.oRS(" ",e.kDX(1,1,e.kDX(2,3,t.maxFileSize)),"\n")}}const me=[[["input"]]],_e=a=>({$implicit:a}),st=(0,d.AL)({capture:null,accepts:"",multiple:!1,size:"m",maxFileSize:31457280});let fe=(()=>{class a{constructor(t,n,o,r){this.host=t,this.el=n,this.idService=o,this.options=r}get tabIndex(){return this.host.focusable?0:-1}get id(){return this.el.nativeElement.id||this.idService.generate()}get accept(){var t;return null!==(t=this.el.nativeElement.accept)&&void 0!==t?t:this.options.accepts}get multiple(){var t;return null!==(t=this.el.nativeElement.multiple)&&void 0!==t?t:this.options.multiple}get capture(){var t;return null!==(t=this.el.nativeElement.getAttribute("capture"))&&void 0!==t?t:this.options.capture}get input(){return this.el.nativeElement}}return a.\u0275fac=function(t){return new(t||a)(e.GI1((0,e.wd)(()=>Mt)),e.GI1(e.GMv),e.GI1(y.y2),e.GI1(st))},a.\u0275dir=e.Sc5({type:a,selectors:[["input","tuiInputFiles",""]],hostAttrs:["type","file",1,"t-native"],hostVars:5,hostBindings:function(t,n){2&t&&(e.SoX("tabIndex",n.tabIndex)("id",n.id)("accept",n.accept)("multiple",n.multiple),e.e48("capture",n.capture))}}),a})(),xe=(()=>{class a{constructor(t,n){this.inputFileTexts$=t,this.units$=n}transform(t){return(0,Bt.E)([this.inputFileTexts$,this.units$]).pipe((0,m.k)(([{maxSizeRejectionReason:n},o])=>`${n}${ft(o,t)}`))}}return a.\u0275fac=function(t){return new(t||a)(e.GI1(at.oJ,16),e.GI1(at.wx,16))},a.\u0275pipe=e.UTH({name:"tuiMaxSizeRejectionError",type:a,pure:!0}),a})(),Mt=(()=>{class a extends z.GG{constructor(t,n,o,r,l){super(t,n),this.isMobile=o,this.inputFileTexts$=r,this.options=l,this.dataTransfer=null,this.accept=this.options.accepts,this.multiple=this.options.multiple,this.size=this.options.size,this.maxFileSize=this.options.maxFileSize,this.reject=new e._w7}get computedMultiple(){var t,n;return null!==(n=null===(t=this.nativeInput)||void 0===t?void 0:t.multiple)&&void 0!==n?n:this.multiple}get computedAccept(){var t,n;return null!==(n=null===(t=this.nativeInput)||void 0===t?void 0:t.accept)&&void 0!==n?n:this.accept}get nativeFocusableElement(){var t;return(null===(t=this.input)||void 0===t?void 0:t.nativeElement)||null}get focused(){return(0,p.ER)(this.nativeFocusableElement)}get computedPseudoHovered(){var t;return null!==(t=this.pseudoHover)&&void 0!==t?t:this.fileDragged||null}get computedLink$(){return this.computeLink$(this.fileDragged,this.computedMultiple,this.link)}get computedLabel$(){return this.computeLabel$(this.isMobile,this.fileDragged,this.computedMultiple,this.label)}get fileDragged(){var t;return!(null===(t=this.dataTransfer)||void 0===t||!t.types.includes("Files"))}get arrayValue(){return this.getValueArray(this.value)}onFocused(t){this.updateFocused(t)}onFilesSelected(){var t,n,o;const r=null!==(n=null===(t=this.nativeInput)||void 0===t?void 0:t.input)&&void 0!==n?n:null===(o=this.input)||void 0===o?void 0:o.nativeElement;r&&(this.processSelectedFiles(r.files),r.value="")}onDropped(t){this.processSelectedFiles(t.files)}onDragOver(t){this.dataTransfer=t}removeFile(t){this.value=this.computedMultiple?this.arrayValue.filter(n=>n!==t):null}computeLink$(t,n,o){return t?(0,xt.of)(""):this.inputFileTexts$.pipe((0,m.k)(r=>n&&!o?r.defaultLinkMultiple:o||r.defaultLinkSingle))}computeLabel$(t,n,o,r){return t?(0,xt.of)(""):this.inputFileTexts$.pipe((0,m.k)(n?l=>o?l.dropMultiple:l.drop:l=>o&&!r?l.defaultLabelMultiple:r||l.defaultLabelSingle))}getValueArray(t){return t?Array.isArray(t)?t:[t]:v.kJ}processSelectedFiles(t){if(!t?.length)return;const n={formatRejection:this.formatRejection,maxSizeRejection:this.maxSizeRejection},o=this.computedMultiple?Array.from(t):[t[0]],r=o.filter(u=>u.size>this.maxFileSize),l=o.filter(u=>!this.isFormatAcceptable(u)&&!r.includes(u)),c=o.filter(u=>!r.includes(u)&&!l.includes(u));(r.length||l.length)&&this.rejectFiles([...r.map(u=>({name:u.name,type:u.type,size:u.size,content:n.maxSizeRejection})),...l.map(u=>({name:u.name,type:u.type,size:u.size,content:n.formatRejection}))]),this.value=this.computedMultiple?[...this.arrayValue,...c]:c[0]||null}isFormatAcceptable(t){if(!this.computedAccept)return!0;const n=`.${(t.name.split(".").pop()||"").toLowerCase()}`;return function kt(a){return a.toLowerCase().split(",").map(i=>i.trim())}(this.computedAccept).some(o=>o===n||o===t.type||"*"===o.split("/")[1]&&t.type.split("/")[0]===o.split("/")[0])}rejectFiles(t){this.reject.emit(this.computedMultiple?t:t[0])}}return a.\u0275fac=function(t){return new(t||a)(e.GI1(h.eq,10),e.GI1(e.kD9),e.GI1(w.Mv),e.GI1(at.oJ),e.GI1(st))},a.\u0275cmp=e.In1({type:a,selectors:[["tui-input-files"]],contentQueries:function(t,n,o){if(1&t&&(e.szK(o,fe,5),e.szK(o,e.Yw2,5)),2&t){let r;e.wto(r=e.Gqi())&&(n.nativeInput=r.first),e.wto(r=e.Gqi())&&(n.template=r.first)}},viewQuery:function(t,n){if(1&t&&(e.CC$(vt,5),e.CC$(re,5),e.CC$(se,5)),2&t){let o;e.wto(o=e.Gqi())&&(n.input=o.first),e.wto(o=e.Gqi())&&(n.formatRejection=o.first),e.wto(o=e.Gqi())&&(n.maxSizeRejection=o.first)}},hostBindings:function(t,n){1&t&&e.qCj("focusin",function(){return n.onFocused(!0)})("focusout",function(){return n.onFocused(!1)})("change",function(){return n.onFilesSelected()})},inputs:{link:"link",label:"label",accept:"accept",multiple:"multiple",size:"size",maxFileSize:"maxFileSize"},outputs:{reject:"reject"},features:[e.M5G([Gt.Ir,(0,w.NK)(a)]),e.eg9],ngContentSelectors:vt,decls:10,vars:12,consts:[["appearance","input-file","tuiWrapper","",1,"t-wrapper",3,"active","disabled","focus","hover"],["automation-id","tui-input-file__label",1,"t-label",3,"mousedown.prevent.silent","tuiDroppableDragOverChange","tuiDroppableDropped"],[1,"t-description"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],["formatRejection",""],["maxSizeRejection",""],["tuiLink",""],[4,"polymorpheusOutlet"],[3,"textContent",4,"polymorpheusOutlet"],[3,"textContent"],["title","","type","file",1,"t-native",3,"accept","id","multiple","tuiFocusable"],["input",""]],template:function(t,n){1&t&&(e.kPM(me),e.I0R(0,"div",0)(1,"label",1),e.qCj("mousedown.prevent.silent",function(){return 0})("tuiDroppableDragOverChange",function(r){return n.onDragOver(r)})("tuiDroppableDropped",function(r){return n.onDropped(r)}),e.I0R(2,"div",2),e.yuY(3,le,1,0,"ng-container",3)(4,pe,6,6,"div",4),e.C$Y(),e.yuY(5,de,4,4,"ng-container",4),e.C$Y()(),e.yuY(6,he,2,3,"ng-template",null,5,e.gJz)(8,ge,3,5,"ng-template",null,6,e.gJz)),2&t&&(e.eAK("_mobile",n.isMobile),e.E7m("active",n.pseudoActive)("disabled",n.computedDisabled)("focus",n.computedFocused)("hover",n.pseudoHover||n.fileDragged||null),e.yG2(3),e.E7m("ngTemplateOutlet",n.template||null)("ngTemplateOutletContext",e.S45(10,_e,n.fileDragged)),e.yG2(),e.E7m("ngIf",!n.template),e.yG2(),e.E7m("ngIf",!n.readOnly&&!n.computedDisabled))},dependencies:[pt.C,dt.S,nt,$.XV,$.u_,V.Af,_.O,$.a,xe],styles:['tui-input-files{display:block;min-height:var(--tui-height-l);border-radius:var(--tui-radius-m);font:var(--tui-font-text-m)}tui-input-files .t-native{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer}tui-input-files .t-native::-webkit-file-upload-button{display:none}tui-input-files .t-native+.t-native{display:none}tui-input-files .t-label{width:100%;min-height:inherit;text-align:center}tui-input-files .t-description{display:flex;justify-content:center;align-items:center;height:100%;min-height:inherit;padding:1rem 0;box-sizing:border-box}[tuiWrapper][data-appearance=input-file]{background:transparent;word-wrap:break-word;color:var(--tui-text-02);min-height:inherit;border-radius:inherit;padding:0 .5rem;box-sizing:border-box}[tuiWrapper][data-appearance=input-file]:after{border:1px dashed;color:var(--tui-link)}[tuiWrapper][data-appearance=input-file]._mobile:after{border:1px solid}[tuiWrapper][data-appearance=input-file]:disabled:disabled:after,[tuiWrapper][data-appearance=input-file][data-state=disabled][data-state=disabled]:after{color:var(--tui-text-03)}:focus-visible:not([data-focused="false"])>[tuiWrapper][data-appearance=input-file]:after,[data-focused=true]>[tuiWrapper][data-appearance=input-file]:after{border-style:solid;border-width:2px;color:var(--tui-focus)}[tuiWrapper][data-appearance=input-file]:focus-visible:focus-visible:after{border-style:solid;border-width:2px;color:var(--tui-focus)}[tuiWrapper][data-appearance=input-file]._focused._focused:after{border-style:solid;border-width:2px;color:var(--tui-focus)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]{color:var(--tui-text-01-night)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]:after{color:var(--tui-text-01-night)}:focus-visible:not([data-focused="false"])>[tuiWrapper][data-appearance=input-file][data-mode=onDark]:after,[data-focused=true]>[tuiWrapper][data-appearance=input-file][data-mode=onDark]:after{color:var(--tui-text-01-night)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]:focus-visible:focus-visible:after{color:var(--tui-text-01-night)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]._focused._focused:after{color:var(--tui-text-01-night)}@media (hover: hover){[tuiWrapper][data-appearance=input-file][data-mode=onDark]:hover:not(._no-hover),[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=hover]{background:var(--tui-clear-inverse-hover)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]:hover:not(._no-hover):after,[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=hover]:after{color:var(--tui-text-03-night)}}[tuiWrapper][data-appearance=input-file][data-mode=onDark]:active:not(._no-active),[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=active],[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=active]:hover{background:var(--tui-clear-inverse-active)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]:active:not(._no-active):after,[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=active]:after,[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=active]:hover:after{color:var(--tui-text-03-night)}[tuiWrapper][data-appearance=input-file][data-mode=onLight]{color:var(--tui-text-01)}[tuiWrapper][data-appearance=input-file][data-mode=onLight]:after{color:var(--tui-text-01)}@media (hover: hover){[tuiWrapper][data-appearance=input-file][data-mode=onLight]:hover:not(._no-hover),[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=hover]{background:var(--tui-clear-hover)}[tuiWrapper][data-appearance=input-file][data-mode=onLight]:hover:not(._no-hover):after,[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=hover]:after{color:var(--tui-text-03)}}[tuiWrapper][data-appearance=input-file][data-mode=onLight]:active:not(._no-active),[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=active],[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=active]:hover{background:var(--tui-clear-active)}[tuiWrapper][data-appearance=input-file][data-mode=onLight]:active:not(._no-active):after,[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=active]:after,[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=active]:hover:after{color:var(--tui-text-03)}@media (hover: hover){[tuiWrapper][data-appearance=input-file]:hover:not(._no-hover),[tuiWrapper][data-appearance=input-file][data-state=hover]{background:var(--tui-secondary)}[tuiWrapper][data-appearance=input-file]:hover:not(._no-hover):after,[tuiWrapper][data-appearance=input-file][data-state=hover]:after{color:var(--tui-link-hover)}}[tuiWrapper][data-appearance=input-file]:active:not(._no-active),[tuiWrapper][data-appearance=input-file][data-state=active],[tuiWrapper][data-appearance=input-file][data-state=active]:hover{background:var(--tui-secondary-hover)}\n'],encapsulation:2,changeDetection:0}),(0,b.UN)([P.w7],a.prototype,"computeLink$",null),(0,b.UN)([P.w7],a.prototype,"computeLabel$",null),(0,b.UN)([P.w7],a.prototype,"getValueArray",null),a})(),ve=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.a4G({type:a}),a.\u0275inj=e.s3X({imports:[[$.MD,V.Ux,Dt.kR,St.O,ut.I,Ft.u,Pt.MZ,_.C,ot,dt.g,ht.Yt,pt.w,gt.Sk,U.CI,mt.Gy,ae]]}),a})();var It=s(8016),Q=s(5656),Ce=s(1560),Me=s(2264),Ie=s(7760),ye=s(9052),Te=s(1128),L=s(1528),Ee=s(5084),Ae=s(5657),N=s(800),be=s(4476);const Oe=["wrapper"],Re=["sourceImage"];function we(a,i){if(1&a){const t=e.KQA();e.I0R(0,"img",4,5),e.qCj("load",function(){e.usT(t);const o=e.GaO();return e.CGJ(o.imageLoadedInView())})("mousedown",function(o){e.usT(t);const r=e.GaO();return e.CGJ(r.startMove(o,r.moveTypes.Drag))})("touchstart",function(o){e.usT(t);const r=e.GaO();return e.CGJ(r.startMove(o,r.moveTypes.Drag))})("error",function(o){e.usT(t);const r=e.GaO();return e.CGJ(r.loadImageError(o))}),e.C$Y()}if(2&a){const t=i.ngIf,n=e.GaO();e.m4B("visibility",n.imageVisible?"visible":"hidden")("transform",n.safeTransformStyle),e.eAK("ngx-ic-draggable",!n.disabled&&n.allowMoveImage),e.E7m("src",t,e.K6U),e.e48("alt",n.imageAltText)}}function ze(a,i){if(1&a){const t=e.KQA();e.SAx(0),e.I0R(1,"span",9),e.qCj("mousedown",function(o){e.usT(t);const r=e.GaO(2);return e.CGJ(r.startMove(o,r.moveTypes.Resize,"topleft"))})("touchstart",function(o){e.usT(t);const r=e.GaO(2);return e.CGJ(r.startMove(o,r.moveTypes.Resize,"topleft"))}),e.wR5(2,"span",10),e.C$Y(),e.I0R(3,"span",11),e.wR5(4,"span",10),e.C$Y(),e.I0R(5,"span",12),e.qCj("mousedown",function(o){e.usT(t);const r=e.GaO(2);return e.CGJ(r.startMove(o,r.moveTypes.Resize,"topright"))})("touchstart",function(o){e.usT(t);const r=e.GaO(2);return e.CGJ(r.startMove(o,r.moveTypes.Resize,"topright"))}),e.wR5(6,"span",10),e.C$Y(),e.I0R(7,"span",13),e.wR5(8,"span",10),e.C$Y(),e.I0R(9,"span",14),e.qCj("mousedown",function(o){e.usT(t);const r=e.GaO(2);return e.CGJ(r.startMove(o,r.moveTypes.Resize,"bottomright"))})("touchstart",function(o){e.usT(t);const r=e.GaO(2);return e.CGJ(r.startMove(o,r.moveTypes.Resize,"bottomright"))}),e.wR5(10,"span",10),e.C$Y(),e.I0R(11,"span",15),e.wR5(12,"span",10),e.C$Y(),e.I0R(13,"span",16),e.qCj("mousedown",function(o){e.usT(t);const r=e.GaO(2);return e.CGJ(r.startMove(o,r.moveTypes.Resize,"bottomleft"))})("touchstart",function(o){e.usT(t);const r=e.GaO(2);return e.CGJ(r.startMove(o,r.moveTypes.Resize,"bottomleft"))}),e.wR5(14,"span",10),e.C$Y(),e.I0R(15,"span",17),e.wR5(16,"span",10),e.C$Y(),e.I0R(17,"span",18),e.qCj("mousedown",function(o){e.usT(t);const r=e.GaO(2);return e.CGJ(r.startMove(o,r.moveTypes.Resize,"top"))})("touchstart",function(o){e.usT(t);const r=e.GaO(2);return e.CGJ(r.startMove(o,r.moveTypes.Resize,"top"))}),e.C$Y(),e.I0R(18,"span",19),e.qCj("mousedown",function(o){e.usT(t);const r=e.GaO(2);return e.CGJ(r.startMove(o,r.moveTypes.Resize,"right"))})("touchstart",function(o){e.usT(t);const r=e.GaO(2);return e.CGJ(r.startMove(o,r.moveTypes.Resize,"right"))}),e.C$Y(),e.I0R(19,"span",20),e.qCj("mousedown",function(o){e.usT(t);const r=e.GaO(2);return e.CGJ(r.startMove(o,r.moveTypes.Resize,"bottom"))})("touchstart",function(o){e.usT(t);const r=e.GaO(2);return e.CGJ(r.startMove(o,r.moveTypes.Resize,"bottom"))}),e.C$Y(),e.I0R(20,"span",21),e.qCj("mousedown",function(o){e.usT(t);const r=e.GaO(2);return e.CGJ(r.startMove(o,r.moveTypes.Resize,"left"))})("touchstart",function(o){e.usT(t);const r=e.GaO(2);return e.CGJ(r.startMove(o,r.moveTypes.Resize,"left"))}),e.C$Y(),e.k70()}}function De(a,i){if(1&a){const t=e.KQA();e.I0R(0,"div",6),e.qCj("keydown",function(o){e.usT(t);const r=e.GaO();return e.CGJ(r.keyboardAccess(o))}),e.I0R(1,"div",7),e.qCj("mousedown",function(o){e.usT(t);const r=e.GaO();return e.CGJ(r.startMove(o,r.moveTypes.Move))})("touchstart",function(o){e.usT(t);const r=e.GaO();return e.CGJ(r.startMove(o,r.moveTypes.Move))}),e.C$Y(),e.yuY(2,ze,21,0,"ng-container",8),e.C$Y()}if(2&a){const t=e.GaO();e.m4B("top",t.state.cropper.y1,"px")("left",t.state.cropper.x1,"px")("width",t.state.cropper.x2-t.state.cropper.x1,"px")("height",t.state.cropper.y2-t.state.cropper.y1,"px")("margin-left","center"===t.state.options.alignImage?t.marginLeft:null)("visibility",t.imageVisible?"visible":"hidden"),e.eAK("ngx-ic-round",t.state.options.roundCropper),e.e48("aria-label",t.state.options.cropperFrameAriaLabel),e.yG2(2),e.E7m("ngIf",!(t.state.options.hideResizeSquares||t.state.options.cropperStaticWidth&&t.state.options.cropperStaticHeight))}}function X(a,i,t){return a=function Se(a,i){let t=a.x2-a.x1,n=a.y2-a.y1;const o=a.x1+t/2,r=a.y1+n/2;i.options.cropperStaticHeight&&i.options.cropperStaticWidth?(t=i.maxSize.width>i.options.cropperStaticWidth?i.options.cropperStaticWidth:i.maxSize.width,n=i.maxSize.height>i.options.cropperStaticHeight?i.options.cropperStaticHeight:i.maxSize.height):(t=Math.max(i.cropperScaledMinWidth,Math.min(t,i.cropperScaledMaxWidth,i.maxSize.width)),n=Math.max(i.cropperScaledMinHeight,Math.min(n,i.cropperScaledMaxHeight,i.maxSize.height)),i.options.maintainAspectRatio&&(i.maxSize.width/i.options.aspectRatio<i.maxSize.height?n=t/i.options.aspectRatio:t=n*i.options.aspectRatio));const l=o-t/2,u=r-n/2;return{x1:l,x2:l+t,y1:u,y2:u+n}}(a,i),K(a,i,t)}function K(a,i,t=!1){return a.x1<0&&(a={...a,x1:0,x2:a.x2-(t?a.x1:0)}),a.y1<0&&(a={...a,y2:a.y2-(t?a.y1:0),y1:0}),a.x2>i.maxSize.width&&(a={...a,x1:a.x1-(t?a.x2-i.maxSize.width:0),x2:i.maxSize.width}),a.y2>i.maxSize.height&&(a={...a,y1:a.y1-(t?a.y2-i.maxSize.height:0),y2:i.maxSize.height}),a}function yt(a,i,t){const n={...t.cropper},o=Z(a)-i.clientX,r=J(a)-i.clientY;switch(i.position){case"left":n.x1=Math.min(Math.max(i.cropper.x1+o,n.x2-t.cropperScaledMaxWidth),n.x2-t.cropperScaledMinWidth);break;case"topleft":n.x1=Math.min(Math.max(i.cropper.x1+o,n.x2-t.cropperScaledMaxWidth),n.x2-t.cropperScaledMinWidth),n.y1=Math.min(Math.max(i.cropper.y1+r,n.y2-t.cropperScaledMaxHeight),n.y2-t.cropperScaledMinHeight);break;case"top":n.y1=Math.min(Math.max(i.cropper.y1+r,n.y2-t.cropperScaledMaxHeight),n.y2-t.cropperScaledMinHeight);break;case"topright":n.x2=Math.max(Math.min(i.cropper.x2+o,n.x1+t.cropperScaledMaxWidth),n.x1+t.cropperScaledMinWidth),n.y1=Math.min(Math.max(i.cropper.y1+r,n.y2-t.cropperScaledMaxHeight),n.y2-t.cropperScaledMinHeight);break;case"right":n.x2=Math.max(Math.min(i.cropper.x2+o,n.x1+t.cropperScaledMaxWidth),n.x1+t.cropperScaledMinWidth);break;case"bottomright":n.x2=Math.max(Math.min(i.cropper.x2+o,n.x1+t.cropperScaledMaxWidth),n.x1+t.cropperScaledMinWidth),n.y2=Math.max(Math.min(i.cropper.y2+r,n.y1+t.cropperScaledMaxHeight),n.y1+t.cropperScaledMinHeight);break;case"bottom":n.y2=Math.max(Math.min(i.cropper.y2+r,n.y1+t.cropperScaledMaxHeight),n.y1+t.cropperScaledMinHeight);break;case"bottomleft":n.x1=Math.min(Math.max(i.cropper.x1+o,n.x2-t.cropperScaledMaxWidth),n.x2-t.cropperScaledMinWidth),n.y2=Math.max(Math.min(i.cropper.y2+r,n.y1+t.cropperScaledMaxHeight),n.y1+t.cropperScaledMinHeight);break;case"center":const l="scale"in a?a.scale:1,c=Math.min(Math.max(t.cropperScaledMinWidth,Math.abs(i.cropper.x2-i.cropper.x1)*l),t.cropperScaledMaxWidth),u=Math.min(Math.max(t.cropperScaledMinHeight,Math.abs(i.cropper.y2-i.cropper.y1)*l),t.cropperScaledMaxHeight);n.x1=i.clientX-c/2,n.x2=i.clientX+c/2,n.y1=i.clientY-u/2,n.y2=i.clientY+u/2,n.x1<0?(n.x2-=n.x1,n.x1=0):n.x2>t.maxSize.width&&(n.x1-=n.x2-t.maxSize.width,n.x2=t.maxSize.width),n.y1<0?(n.y2-=n.y1,n.y1=0):n.y2>t.maxSize.height&&(n.y1-=n.y2-t.maxSize.height,n.y2=t.maxSize.height)}return t.options.maintainAspectRatio?function Pe(a,i,t){i={...i};let n=0,o=0;switch(a){case"top":i.x2=i.x1+(i.y2-i.y1)*t.options.aspectRatio,n=Math.max(i.x2-t.maxSize.width,0),o=Math.max(0-i.y1,0),(n>0||o>0)&&(i.x2-=o*t.options.aspectRatio>n?o*t.options.aspectRatio:n,i.y1+=o*t.options.aspectRatio>n?o:n/t.options.aspectRatio);break;case"bottom":i.x2=i.x1+(i.y2-i.y1)*t.options.aspectRatio,n=Math.max(i.x2-t.maxSize.width,0),o=Math.max(i.y2-t.maxSize.height,0),(n>0||o>0)&&(i.x2-=o*t.options.aspectRatio>n?o*t.options.aspectRatio:n,i.y2-=o*t.options.aspectRatio>n?o:n/t.options.aspectRatio);break;case"topleft":i.y1=i.y2-(i.x2-i.x1)/t.options.aspectRatio,n=Math.max(0-i.x1,0),o=Math.max(0-i.y1,0),(n>0||o>0)&&(i.x1+=o*t.options.aspectRatio>n?o*t.options.aspectRatio:n,i.y1+=o*t.options.aspectRatio>n?o:n/t.options.aspectRatio);break;case"topright":i.y1=i.y2-(i.x2-i.x1)/t.options.aspectRatio,n=Math.max(i.x2-t.maxSize.width,0),o=Math.max(0-i.y1,0),(n>0||o>0)&&(i.x2-=o*t.options.aspectRatio>n?o*t.options.aspectRatio:n,i.y1+=o*t.options.aspectRatio>n?o:n/t.options.aspectRatio);break;case"right":case"bottomright":i.y2=i.y1+(i.x2-i.x1)/t.options.aspectRatio,n=Math.max(i.x2-t.maxSize.width,0),o=Math.max(i.y2-t.maxSize.height,0),(n>0||o>0)&&(i.x2-=o*t.options.aspectRatio>n?o*t.options.aspectRatio:n,i.y2-=o*t.options.aspectRatio>n?o:n/t.options.aspectRatio);break;case"left":case"bottomleft":i.y2=i.y1+(i.x2-i.x1)/t.options.aspectRatio,n=Math.max(0-i.x1,0),o=Math.max(i.y2-t.maxSize.height,0),(n>0||o>0)&&(i.x1+=o*t.options.aspectRatio>n?o*t.options.aspectRatio:n,i.y2-=o*t.options.aspectRatio>n?o:n/t.options.aspectRatio);break;case"center":i.x2=i.x1+(i.y2-i.y1)*t.options.aspectRatio,i.y2=i.y1+(i.x2-i.x1)/t.options.aspectRatio;const r=Math.max(0-i.x1,0),l=Math.max(i.x2-t.maxSize.width,0),c=Math.max(i.y2-t.maxSize.height,0),u=Math.max(0-i.y1,0);(r>0||l>0||c>0||u>0)&&(i.x1+=c*t.options.aspectRatio>r?c*t.options.aspectRatio:r,i.x2-=u*t.options.aspectRatio>l?u*t.options.aspectRatio:l,i.y1+=u*t.options.aspectRatio>l?u:l/t.options.aspectRatio,i.y2-=c*t.options.aspectRatio>r?c:r/t.options.aspectRatio)}return i}(i.position,n,t):n}function Z(a){return"touches"in a&&a.touches[0]?a.touches[0].clientX:"clientX"in a?a.clientX:0}function J(a){return"touches"in a&&a.touches[0]?a.touches[0].clientY:"clientX"in a?a.clientY:0}class Ge{constructor(){this.options={format:"png",output:"blob",autoCrop:!0,maintainAspectRatio:!0,aspectRatio:1,resetCropOnAspectRatioChange:!0,resizeToWidth:0,resizeToHeight:0,cropperMinWidth:0,cropperMinHeight:0,cropperMaxHeight:0,cropperMaxWidth:0,cropperStaticWidth:0,cropperStaticHeight:0,canvasRotation:0,roundCropper:!1,onlyScaleDown:!1,imageQuality:92,backgroundColor:null,containWithinAspectRatio:!1,hideResizeSquares:!1,alignImage:"center",cropperFrameAriaLabel:void 0,checkImageType:!0},this.cropper={x1:0,x2:0,y1:0,y2:0},this.transform={},this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=3}setOptionsFromChanges(i){i.options?.currentValue&&this.setOptions(i.options.currentValue);const t=Object.entries(i).filter(([n])=>n in this.options).reduce((n,[o,r])=>({...n,[o]:r.currentValue}),{});Object.keys(t).length>0&&this.setOptions(t)}setOptions(i){if(this.options={...this.options,...i||{}},this.validateOptions(),!this.loadedImage?.transformed.image.complete||!this.maxSize)return;let t=!1;this.options.maintainAspectRatio&&i.aspectRatio||i.maintainAspectRatio?(this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.options.maintainAspectRatio&&(this.options.resetCropOnAspectRatioChange||!this.aspectRatioIsCorrect())&&(this.cropper=this.maxSizeCropperPosition(),t=!0)):((i.cropperMinWidth||i.cropperMinHeight)&&(this.setCropperScaledMinSize(),t=!0),(i.cropperMaxWidth||i.cropperMaxHeight)&&(this.setCropperScaledMaxSize(),t=!0),(i.cropperStaticWidth||i.cropperStaticHeight)&&(t=!0)),t&&(this.cropper=X(this.cropper,this,!1))}validateOptions(){if(this.options.maintainAspectRatio&&!this.options.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}setMaxSize(i,t){this.maxSize={width:i,height:t},this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()}setCropperScaledMinSize(){this.loadedImage?.transformed.size?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.cropperScaledMinWidth=this.options.cropperMinWidth>0?Math.max(20,this.options.cropperMinWidth/this.loadedImage.transformed.size.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.cropperScaledMinHeight=this.options.maintainAspectRatio?Math.max(20,this.cropperScaledMinWidth/this.options.aspectRatio):this.options.cropperMinHeight>0?Math.max(20,this.options.cropperMinHeight/this.loadedImage.transformed.size.height*this.maxSize.height):20}setCropperScaledMaxSize(){if(this.loadedImage?.transformed.size){const i=this.loadedImage.transformed.size.width/this.maxSize.width;this.cropperScaledMaxWidth=this.options.cropperMaxWidth>20?this.options.cropperMaxWidth/i:this.maxSize.width,this.cropperScaledMaxHeight=this.options.cropperMaxHeight>20?this.options.cropperMaxHeight/i:this.maxSize.height,this.options.maintainAspectRatio&&(this.cropperScaledMaxWidth>this.cropperScaledMaxHeight*this.options.aspectRatio?this.cropperScaledMaxWidth=this.cropperScaledMaxHeight*this.options.aspectRatio:this.cropperScaledMaxWidth<this.cropperScaledMaxHeight*this.options.aspectRatio&&(this.cropperScaledMaxHeight=this.cropperScaledMaxWidth/this.options.aspectRatio))}else this.cropperScaledMaxWidth=this.maxSize.width,this.cropperScaledMaxHeight=this.maxSize.height}equalsCropperPosition(i){return null==this.cropper&&null==i||null!=this.cropper&&null!=i&&this.cropper.x1.toFixed(3)===i.x1.toFixed(3)&&this.cropper.y1.toFixed(3)===i.y1.toFixed(3)&&this.cropper.x2.toFixed(3)===i.x2.toFixed(3)&&this.cropper.y2.toFixed(3)===i.y2.toFixed(3)}equalsTransformTranslate(i){return(this.transform.translateH??0)===(i.translateH??0)&&(this.transform.translateV??0)===(i.translateV??0)}equalsTransform(i){return this.equalsTransformTranslate(i)&&(this.transform.scale??1)===(i.scale??1)&&(this.transform.rotate??0)===(i.rotate??0)&&(this.transform.flipH??!1)===(i.flipH??!1)&&(this.transform.flipV??!1)===(i.flipV??!1)}aspectRatioIsCorrect(){return(this.cropper.x2-this.cropper.x1)/(this.cropper.y2-this.cropper.y1)===this.options.aspectRatio}resizeCropperPosition(i){this.cropper&&(i.width!==this.maxSize.width||i.height!==this.maxSize.height)&&(this.cropper={x1:this.cropper.x1*this.maxSize.width/i.width,x2:this.cropper.x2*this.maxSize.width/i.width,y1:this.cropper.y1*this.maxSize.height/i.height,y2:this.cropper.y2*this.maxSize.height/i.height})}maxSizeCropperPosition(){return{x1:0,y1:0,x2:this.maxSize.width,y2:this.maxSize.height}}}var D=function(a){return a.Drag="drag",a.Move="move",a.Resize="resize",a.Pinch="pinch",a}(D||{});function Tt(a,i){return a/100*i}class ke{crop(i,t){const n=this.getImagePosition(i),o=n.x2-n.x1,r=n.y2-n.y1,l=document.createElement("canvas");l.width=o,l.height=r;const c=l.getContext("2d");if(!c)return null;null!=i.options.backgroundColor&&(c.fillStyle=i.options.backgroundColor,c.fillRect(0,0,o,r));const u=(i.transform.scale||1)*(i.transform.flipH?-1:1),M=(i.transform.scale||1)*(i.transform.flipV?-1:1),{translateH:S,translateV:R}=this.getCanvasTranslate(i),f=i.loadedImage.transformed;c.setTransform(u,0,0,M,f.size.width/2+S,f.size.height/2+R),c.translate(-n.x1/u,-n.y1/M),c.rotate((i.transform.rotate||0)*Math.PI/180),c.drawImage(f.image,-f.size.width/2,-f.size.height/2);const E={width:o,height:r,imagePosition:n,cropperPosition:{...i.cropper}};i.options.containWithinAspectRatio&&(E.offsetImagePosition=this.getOffsetImagePosition(i));const G=this.getResizeRatio(o,r,i.options);return 1!==G&&(E.width=Math.round(o*G),E.height=i.options.maintainAspectRatio?Math.round(E.width/i.options.aspectRatio):Math.round(r*G),function Le(a,i,t){const n=a.width,o=a.height,r=n/(i=Math.round(i)),l=o/(t=Math.round(t)),c=Math.ceil(r/2),u=Math.ceil(l/2),M=a.getContext("2d");if(M){const S=M.getImageData(0,0,n,o),R=M.createImageData(i,t),f=S.data,E=R.data;for(let G=0;G<t;G++)for(let H=0;H<i;H++){const q=4*(H+G*i),ai=G*l;let k=0,tt=0,Et=0,At=0,bt=0,Ot=0,Rt=0;const ri=Math.floor(H*r),si=Math.floor(G*l);let lt=Math.ceil((H+1)*r),ct=Math.ceil((G+1)*l);lt=Math.min(lt,n),ct=Math.min(ct,o);for(let et=si;et<ct;et++){const wt=Math.abs(ai-et)/u,li=H*r,ci=wt*wt;for(let it=ri;it<lt;it++){const zt=Math.abs(li-it)/c,j=Math.sqrt(ci+zt*zt);if(j>=1)continue;k=2*j*j*j-3*j*j+1;const Y=4*(it+et*n);Rt+=k*f[Y+3],Et+=k,f[Y+3]<255&&(k=k*f[Y+3]/250),At+=k*f[Y],bt+=k*f[Y+1],Ot+=k*f[Y+2],tt+=k}}E[q]=At/tt,E[q+1]=bt/tt,E[q+2]=Ot/tt,E[q+3]=Rt/Et}a.width=i,a.height=t,M.putImageData(R,0,0)}}(l,E.width,E.height)),"blob"===t?this.cropToBlob(E,l,i):(E.base64=l.toDataURL("image/"+i.options.format,this.getQuality(i.options)),E)}cropToBlob(i,t,n){var o=this;return(0,L.c)(function*(){return i.blob=yield new Promise(r=>t.toBlob(r,"image/"+n.options.format,o.getQuality(n.options))),i.blob&&(i.objectUrl=URL.createObjectURL(i.blob)),i})()}getCanvasTranslate(i){if("px"===i.transform.translateUnit){const t=this.getRatio(i);return{translateH:(i.transform.translateH||0)*t,translateV:(i.transform.translateV||0)*t}}return{translateH:i.transform.translateH?Tt(i.transform.translateH,i.loadedImage.transformed.size.width):0,translateV:i.transform.translateV?Tt(i.transform.translateV,i.loadedImage.transformed.size.height):0}}getRatio(i){return i.loadedImage.transformed.size.width/i.maxSize.width}getImagePosition(i){const t=this.getRatio(i),n={x1:Math.round(i.cropper.x1*t),y1:Math.round(i.cropper.y1*t),x2:Math.round(i.cropper.x2*t),y2:Math.round(i.cropper.y2*t)};return i.options.containWithinAspectRatio||(n.x1=Math.max(n.x1,0),n.y1=Math.max(n.y1,0),n.x2=Math.min(n.x2,i.loadedImage.transformed.size.width),n.y2=Math.min(n.y2,i.loadedImage.transformed.size.height)),n}getOffsetImagePosition(i){const t=i.options.canvasRotation+i.loadedImage.exifTransform.rotate,n=this.getRatio(i);let o,r;t%2?(o=(i.loadedImage.transformed.size.width-i.loadedImage.original.size.height)/2,r=(i.loadedImage.transformed.size.height-i.loadedImage.original.size.width)/2):(o=(i.loadedImage.transformed.size.width-i.loadedImage.original.size.width)/2,r=(i.loadedImage.transformed.size.height-i.loadedImage.original.size.height)/2);const l={x1:Math.round(i.cropper.x1*n)-o,y1:Math.round(i.cropper.y1*n)-r,x2:Math.round(i.cropper.x2*n)-o,y2:Math.round(i.cropper.y2*n)-r};return i.options.containWithinAspectRatio||(l.x1=Math.max(l.x1,0),l.y1=Math.max(l.y1,0),l.x2=Math.min(l.x2,i.loadedImage.transformed.size.width),l.y2=Math.min(l.y2,i.loadedImage.transformed.size.height)),l}getResizeRatio(i,t,n){const o=n.resizeToWidth/i,r=n.resizeToHeight/t,l=new Array;n.resizeToWidth>0&&l.push(o),n.resizeToHeight>0&&l.push(r);const c=0===l.length?1:Math.min(...l);return c>1&&!n.onlyScaleDown?c:Math.min(c,1)}getQuality(i){return Math.min(1,Math.max(0,i.imageQuality/100))}}class Ne{constructor(){this.autoRotateSupported=function $e(){return new Promise(a=>{const i=new Image;i.onload=()=>{a(1===i.width&&2===i.height)},i.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}()}loadImageFile(i,t){var n=this;return(0,L.c)(function*(){const o=yield i.arrayBuffer();return t.options.checkImageType?yield n.checkImageTypeAndLoadImageFromArrayBuffer(o,i.type,t):yield n.loadImageFromArrayBuffer(o,t)})()}checkImageTypeAndLoadImageFromArrayBuffer(i,t,n){return this.isValidImageType(t)?this.loadImageFromArrayBuffer(i,n,t):Promise.reject(new Error("Invalid image type"))}isValidImageType(i){return/image\/(png|jpg|jpeg|heic|bmp|gif|tiff|svg|webp|x-icon|vnd.microsoft.icon)/.test(i)}loadImageFromURL(i,t){var n=this;return(0,L.c)(function*(){const r=yield(yield fetch(i)).blob(),l=yield r.arrayBuffer();return yield n.loadImageFromArrayBuffer(l,t,r.type)})()}loadBase64Image(i,t){const n=this.base64ToArrayBuffer(i);return this.loadImageFromArrayBuffer(n,t)}base64ToArrayBuffer(i){i=i.replace(/^data:([^;]+);base64,/gim,"");const t=atob(i),n=t.length,o=new Uint8Array(n);for(let r=0;r<n;r++)o[r]=t.charCodeAt(r);return o.buffer}loadImageFromArrayBuffer(i,t,n){var o=this;return(0,L.c)(function*(){const r=yield new Promise(function(){var l=(0,L.c)(function*(c,u){try{const M=new Blob([i],n?{type:n}:void 0),S=URL.createObjectURL(M),R=new Image,E="image/svg+xml"===n?yield o.getSvgImageSize(M):void 0;R.onload=()=>c({originalImage:R,originalImageSize:E,originalObjectUrl:S,originalArrayBuffer:i}),R.onerror=u,R.src=S}catch(M){u(M)}});return function(c,u){return l.apply(this,arguments)}}());return yield o.transformImageFromArrayBuffer(r,t,null!=r.originalImageSize)})()}getSvgImageSize(i){return(0,L.c)(function*(){const o=(new DOMParser).parseFromString(yield i.text(),"image/svg+xml").querySelector("svg");if(!o)throw Error("Failed to parse SVG image");const r=o.getAttribute("width"),l=o.getAttribute("height");if(r&&l)return null;const c=o.getAttribute("viewBox")||o.getAttribute("viewbox");if(c){const u=c.split(" ");return{width:+u[2],height:+u[3]}}throw Error("Failed to load SVG image. SVG must have width + height or viewBox definition.")})()}transformImageFromArrayBuffer(i,t,n=!1){var o=this;return(0,L.c)(function*(){const l=function We(a){switch("object"==typeof a&&(a=function Ue(a){const i=new DataView(a);if(65496!==i.getUint16(0,!1))return-2;const t=i.byteLength;let n=2;for(;n<t;){if(i.getUint16(n+2,!1)<=8)return-1;const o=i.getUint16(n,!1);if(n+=2,65505==o){if(1165519206!==i.getUint32(n+=2,!1))return-1;const r=18761==i.getUint16(n+=6,!1);n+=i.getUint32(n+4,r);const l=i.getUint16(n,r);n+=2;for(let c=0;c<l;c++)if(274==i.getUint16(n+12*c,r))return i.getUint16(n+12*c+8,r)}else{if(65280!=(65280&o))break;n+=i.getUint16(n,!1)}}return-1}(a)),a){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}((yield o.autoRotateSupported)?-1:i.originalArrayBuffer);return i.originalImage&&i.originalImage.complete?o.transformLoadedImage({original:{objectUrl:i.originalObjectUrl,image:i.originalImage,size:i.originalImageSize??{width:i.originalImage.naturalWidth,height:i.originalImage.naturalHeight}},exifTransform:l},t,n):Promise.reject(new Error("No image loaded"))})()}transformLoadedImage(i,t,n=!1){var o=this;return(0,L.c)(function*(){const r=t.options.canvasRotation+i.exifTransform.rotate,l=i.original.size;if(!n&&0===r&&!i.exifTransform.flip&&!t.options.containWithinAspectRatio)return{original:{objectUrl:i.original.objectUrl,image:i.original.image,size:{...l}},transformed:{objectUrl:i.original.objectUrl,image:i.original.image,size:{...l}},exifTransform:i.exifTransform};const c=o.getTransformedSize(l,i.exifTransform,t),u=document.createElement("canvas");u.width=c.width,u.height=c.height;const M=u.getContext("2d");M?.setTransform(i.exifTransform.flip?-1:1,0,0,1,u.width/2,u.height/2),M?.rotate(Math.PI*(r/2)),M?.drawImage(i.original.image,-l.width/2,-l.height/2);const S=yield new Promise(E=>u.toBlob(E,t.options.format));if(!S)throw new Error("Failed to get Blob for transformed image.");const R=URL.createObjectURL(S),f=yield o.loadImageFromObjectUrl(R);return{original:{objectUrl:i.original.objectUrl,image:i.original.image,size:{...l}},transformed:{objectUrl:R,image:f,size:{width:f.width,height:f.height}},exifTransform:i.exifTransform}})()}loadImageFromObjectUrl(i){return new Promise((t,n)=>{const o=new Image;o.onload=()=>t(o),o.onerror=n,o.src=i})}getTransformedSize(i,t,n){const o=n.options.canvasRotation+t.rotate;if(n.options.containWithinAspectRatio){if(o%2){const l=i.height/n.options.aspectRatio;return{width:Math.max(i.height,i.width*n.options.aspectRatio),height:Math.max(i.width,l)}}{const l=i.width/n.options.aspectRatio;return{width:Math.max(i.width,i.height*n.options.aspectRatio),height:Math.max(i.height,l)}}}return o%2?{height:i.width,width:i.height}:{width:i.width,height:i.height}}}let Ve=(()=>{class a{get alignImageStyle(){return this.state.options.alignImage}constructor(t,n,o){this.sanitizer=t,this.cd=n,this.zone=o,this.pinchStart$=new Ae.E,this.cropService=new ke,this.loadImageService=new Ne,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.moveTypes=D,this.state=new Ge,this.safeImgDataUrl=(0,e.OCB)(void 0),this.marginLeft="0px",this.imageVisible=!1,this.allowMoveImage=!1,this.checkImageType=!0,this.disabled=!1,this.hidden=!1,this.imageCropped=new e._w7,this.startCropImage=new e._w7,this.imageLoaded=new e._w7,this.cropperReady=new e._w7,this.loadImageFailed=new e._w7,this.transformChange=new e._w7,this.cropperChange=new e._w7,this.reset()}ngOnInit(){this.state.stepSize=this.initialStepSize||this.state.stepSize}ngOnChanges(t){const n=this.state.cropper,o=this.state.transform,r=this.state.options.backgroundColor;if(this.state.setOptionsFromChanges(t),this.onChangesInputImage(t),t.transform&&this.transform&&(this.state.transform=this.transform,this.setCssTransform()),!this.state.loadedImage?.transformed.image.complete||!this.state.maxSize)return;if(this.containWithinAspectRatio&&t.aspectRatio||t.containWithinAspectRatio||t.canvasRotation)return void this.loadImageService.transformLoadedImage(this.state.loadedImage,this.state).then(c=>this.setLoadedImage(c)).catch(c=>this.loadImageError(c));t.cropper&&this.cropper&&(this.state.cropper=X(this.cropper,this.state,!0));const l=!this.state.equalsCropperPosition(n);l&&(!this.cropper||!this.state.equalsCropperPosition(this.cropper))&&this.cropperChange.emit(this.state.cropper),(l||!this.state.equalsTransform(o)||this.state.options.backgroundColor!==r)&&this.doAutoCrop(),t.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesInputImage(t){(t.imageChangedEvent||t.imageURL||t.imageBase64||t.imageFile)&&this.reset(),t.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),t.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),t.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),t.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){const t=this.imageChangedEvent?.target?.files;return t instanceof FileList&&t.length>0}reset(){this.safeImgDataUrl.set("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="),this.state.loadedImage=void 0,this.state.maxSize=void 0,this.imageVisible=!1}loadImageFile(t){this.loadImageService.loadImageFile(t,this.state).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n))}loadBase64Image(t){this.loadImageService.loadBase64Image(t,this.state).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n))}loadImageFromURL(t){this.loadImageService.loadImageFromURL(t,this.state).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n))}setLoadedImage(t){this.state.loadedImage=t,this.safeImgDataUrl.set(this.sanitizer.bypassSecurityTrustResourceUrl(t.transformed.objectUrl))}loadImageError(t){console.error(t),this.loadImageFailed.emit()}setCssTransform(){const t=this.state.transform?.translateUnit||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.state.transform.translateH||0}${t}, ${this.state.transform.translateV||0}${t}) scaleX(`+(this.state.transform.scale||1)*(this.state.transform.flipH?-1:1)+") scaleY("+(this.state.transform.scale||1)*(this.state.transform.flipV?-1:1)+") rotate("+(this.state.transform.rotate||0)+"deg)")}imageLoadedInView(){null!=this.state.loadedImage&&(this.imageLoaded.emit(this.state.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),!this.cropper||this.maintainAspectRatio&&!this.state.aspectRatioIsCorrect()?(this.state.cropper=X(this.state.maxSizeCropperPosition(),this.state,!0),this.cropperChange.emit(this.state.cropper)):(this.state.cropper=X(this.cropper,this.state,!0),this.emitCropperPositionChange(this.cropper)),this.imageVisible=!0,this.cropperReady.emit({...this.state.maxSize}),this.doAutoCrop(),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage?.nativeElement?.offsetWidth>1}onResize(){if(this.state.loadedImage)if(this.hidden)this.resizedWhileHidden=!0;else{const t={...this.state.maxSize};this.setMaxSize(),this.state.resizeCropperPosition(t),this.cd.markForCheck()}}keyboardAccess(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)}changeKeyboardStepSize(t){const n=+t.key;n>=1&&n<=9&&(this.state.stepSize=n)}keyboardMoveCropper(t){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key))return;const o=t.shiftKey?D.Resize:D.Move,r=t.altKey?function je(a){switch(a){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";default:return"right"}}(t.key):function He(a){switch(a){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";default:return"left"}}(t.key),l=function Ye(a,i){switch(a){case"ArrowUp":return{clientX:0,clientY:-1*i};case"ArrowRight":return{clientX:i,clientY:0};case"ArrowDown":return{clientX:0,clientY:i};default:return{clientX:-1*i,clientY:0}}}(t.key,this.state.stepSize);t.preventDefault(),t.stopPropagation(),this.moveStart={active:!0,type:o,position:r,clientX:0,clientY:0,transform:this.state.transform,cropper:this.state.cropper},this.handleMouseMove(l),this.handleMouseUp()}startMove(t,n,o=null){this.disabled||this.moveStart?.active&&this.moveStart?.type===D.Pinch||n===D.Drag&&!this.allowMoveImage||("preventDefault"in t&&t.preventDefault(),this.moveStart={active:!0,type:n,position:o,clientX:Z(t),clientY:J(t),transform:this.state.transform,cropper:this.state.cropper},this.initMouseMove())}initMouseMove(){(0,g.U)((0,N.w)(document,"mousemove"),(0,N.w)(document,"touchmove")).pipe((0,B.a)((0,g.U)((0,N.w)(document,"mouseup"),(0,N.w)(document,"touchend"),this.pinchStart$).pipe((0,Ee.K)()))).subscribe({next:t=>this.zone.run(()=>{this.handleMouseMove(t),this.cd.markForCheck()}),complete:()=>this.zone.run(()=>{this.handleMouseUp(),this.cd.markForCheck()})})}handleMouseMove(t){if(this.moveStart?.active)if("stopPropagation"in t&&t.stopPropagation(),"preventDefault"in t&&t.preventDefault(),this.moveStart.type===D.Move)this.state.cropper=K(function Fe(a,i){const t=Z(a)-i.clientX,n=J(a)-i.clientY;return{x1:i.cropper.x1+t,y1:i.cropper.y1+n,x2:i.cropper.x2+t,y2:i.cropper.y2+n}}(t,this.moveStart),this.state,!0);else if(this.moveStart.type===D.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&(this.state.cropper=K(yt(t,this.moveStart,this.state),this.state,!1));else if(this.moveStart.type===D.Drag){const n=Z(t)-this.moveStart.clientX,o=J(t)-this.moveStart.clientY;this.state.transform={...this.state.transform,translateH:(this.moveStart.transform?.translateH||0)+n,translateV:(this.moveStart.transform?.translateV||0)+o},this.setCssTransform()}}handleMouseUp(){!this.moveStart?.active||this.moveStart?.type===D.Pinch||((!this.state.equalsCropperPosition(this.moveStart.cropper)||this.moveStart.transform&&!this.state.equalsTransform(this.moveStart.transform))&&(this.moveStart.type===D.Drag?this.transformChange.emit(this.state.transform):this.cropperChange.emit(this.state.cropper),this.doAutoCrop()),this.moveStart=void 0)}startPinch(t){this.disabled||!this.sourceImageLoaded()||t.touches.length<2||("preventDefault"in t&&t.preventDefault(),this.moveStart={active:!0,type:D.Pinch,position:"center",clientX:this.state.cropper.x1+(this.state.cropper.x2-this.state.cropper.x1)/2,clientY:this.state.cropper.y1+(this.state.cropper.y2-this.state.cropper.y1)/2,cropper:this.state.cropper},this.initPinch())}initPinch(){this.pinchStart$.next(),(0,N.w)(document,"touchmove").pipe((0,B.a)((0,N.w)(document,"touchend"))).subscribe({next:t=>this.zone.run(()=>{this.handlePinchMove(t),this.cd.markForCheck()}),complete:()=>this.zone.run(()=>{this.handlePinchStop(),this.cd.markForCheck()})})}handlePinchMove(t){this.moveStart?.active&&(t.preventDefault&&t.preventDefault(),this.moveStart.type===D.Pinch&&!this.cropperStaticWidth&&!this.cropperStaticHeight&&(this.state.cropper=K(yt(t,this.moveStart,this.state),this.state,!1)),this.cd.markForCheck())}handlePinchStop(){this.moveStart?.active&&(this.state.equalsCropperPosition(this.moveStart.cropper)||(this.emitCropperPositionChange(this.moveStart.cropper),this.doAutoCrop()),this.moveStart=void 0)}setMaxSize(){if(this.sourceImage){const t=getComputedStyle(this.sourceImage.nativeElement);this.state.setMaxSize(parseFloat(t.width),parseFloat(t.height)),this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.state.maxSize.width/2+"px)")}}emitCropperPositionChange(t){this.state.equalsCropperPosition(t)||this.cropperChange.emit(this.state.cropper)}doAutoCrop(){this.state.options.autoCrop&&this.crop()}crop(t=this.state.options.output){if(null!=this.state.loadedImage?.transformed?.image){if(this.startCropImage.emit(),"blob"===t)return this.cropToBlob();if("base64"===t)return this.cropToBase64()}return null}cropToBlob(){var t=this;return new Promise((n,o)=>this.zone.run((0,L.c)(function*(){const r=yield t.cropService.crop(t.state,"blob");r?(t.imageCropped.emit(r),n(r)):o("Crop image failed")})))}cropToBase64(){const t=this.cropService.crop(this.state,"base64");return t?(this.imageCropped.emit(t),t):null}ngOnDestroy(){this.pinchStart$.complete()}static#t=this.\u0275fac=function(n){return new(n||a)(e.GI1(be.mI),e.GI1(e.kD9),e.GI1(e.WW2))};static#e=this.\u0275cmp=e.In1({type:a,selectors:[["image-cropper"]],viewQuery:function(n,o){if(1&n&&(e.CC$(Oe,7),e.CC$(Re,5)),2&n){let r;e.wto(r=e.Gqi())&&(o.wrapper=r.first),e.wto(r=e.Gqi())&&(o.sourceImage=r.first)}},hostVars:6,hostBindings:function(n,o){1&n&&e.qCj("resize",function(){return o.onResize()},!1,e.MbM),2&n&&(e.m4B("text-align",o.alignImageStyle),e.eAK("disabled",o.disabled)("ngx-ic-hidden",o.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",options:"options",cropperFrameAriaLabel:"cropperFrameAriaLabel",output:"output",format:"format",autoCrop:"autoCrop",cropper:"cropper",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",checkImageType:"checkImageType",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange",cropperChange:"cropperChange"},standalone:!0,features:[e.SYr,e.UHJ],decls:4,vars:10,consts:[[3,"touchstart"],["class","ngx-ic-source-image","role","presentation",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart","error",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],["role","presentation",1,"ngx-ic-source-image",3,"src","load","mousedown","touchstart","error"],["sourceImage",""],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],["role","presentation",1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],["role","presentation",1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],["role","presentation",1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],["role","presentation",1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(n,o){1&n&&(e.I0R(0,"div",0),e.qCj("touchstart",function(l){return o.startPinch(l)}),e.yuY(1,we,2,8,"img",1),e.wR5(2,"div",2),e.yuY(3,De,3,16,"div",3),e.C$Y()),2&n&&(e.m4B("background",o.imageVisible&&o.state.options.backgroundColor),e.yG2(),e.E7m("ngIf",o.safeImgDataUrl()),e.yG2(),e.m4B("width",(null==o.state.maxSize?null:o.state.maxSize.width)||0,"px")("height",(null==o.state.maxSize?null:o.state.maxSize.height)||0,"px")("margin-left","center"===o.alignImage?o.marginLeft:null),e.yG2(),e.E7m("ngIf",o.imageVisible))},dependencies:[$.u_],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:var(--cropper-move-border, 1px solid rgba(255, 255, 255, .5))}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ic-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0})}return a})();function Xe(a,i){1&a&&(e.SAx(0),e.OEk(1,"Fill Aspect Ratio"),e.k70())}function Ke(a,i){1&a&&(e.SAx(0),e.OEk(1,"Contain Within Aspect Ratio"),e.k70())}let Ze=(()=>{class a{constructor(t,n){this.dialogs=t,this.context=n,this.image=(0,e.OCB)(null),this.croppedImageBase64=(0,e.OCB)(null),this.flipH=(0,e.OCB)(void 0),this.flipV=(0,e.OCB)(void 0),this.scale=(0,e.OCB)(void 0),this.rotate=(0,e.OCB)(void 0),this.translateH=(0,e.OCB)(void 0),this.translateV=(0,e.OCB)(void 0),this.translateUnit=(0,e.OCB)(void 0),this.transform=(0,e.S6b)(()=>({scale:this.scale(),rotate:this.rotate(),flipH:this.flipH(),flipV:this.flipV(),translateH:this.translateH(),translateV:this.translateV(),translateUnit:this.translateUnit()})),this.containWithinAspectRatio=(0,e.OCB)(!0),this.aspectRatio=(0,e.OCB)(4/3),this.cropperMinWidth=(0,e.OCB)(256),this.maintainAspectRatio=(0,e.OCB)(!0),this.onlyScaleDown=(0,e.OCB)(!0),this.roundCropper=(0,e.OCB)(!1),this.image.set(n.data.image)}ngOnInit(){["maintainAspectRatio","onlyScaleDown","roundCropper","flipH","flipV","containWithinAspectRatio"].forEach(t=>{const n=this.context.data[t];"boolean"==typeof n&&this[t].set(n)}),["aspectRatio","cropperMinWidth","scale","rotate","translateH","translateV"].forEach(t=>{const n=this.context.data[t];"number"==typeof n&&this[t].set(n)})}submit(){const t=this.croppedImageBase64();t&&this.context.completeWith(function Qe(a){const i=a.split(","),t=i[0].replace("data:","").replace(";base64",""),n=atob(i[1]),o=new ArrayBuffer(n.length),r=new Uint8Array(o);for(let l=0;l<n.length;l+=1)r[l]=n.charCodeAt(l);return new Blob([o],{type:t})}(t))}cancel(){this.context.completeWith(null)}imageCropped(t){if("string"!=typeof t.base64){if(t.blob){var n=new FileReader;n.readAsDataURL(t.blob),n.onloadend=()=>{"string"==typeof n.result&&n.result.length>0&&this.croppedImageBase64.set(n.result)}}}else this.croppedImageBase64.set(t.base64)}resetImage(){this.scale.set(void 0),this.rotate.set(void 0),this.flipH.set(void 0),this.flipV.set(void 0),this.translateH.set(void 0),this.translateV.set(void 0),this.translateUnit.set(void 0)}imageLoaded(){this.resetImage()}rotateLeft(){this.rotate.update(t=>(t??0)-90)}rotateRight(){this.rotate.update(t=>(t??0)+90)}flipHorizontal(){this.flipH.update(t=>!t)}flipVertical(){this.flipV.update(t=>!t)}zoomOut(){this.scale.update(t=>(t??1)-.1)}zoomIn(){this.scale.update(t=>(t??1)+.1)}static#t=this.\u0275fac=function(n){return new(n||a)(e.GI1(It._k),e.GI1(V.C0))};static#e=this.\u0275cmp=e.In1({type:a,selectors:[["app-resize-image-modal"]],standalone:!0,features:[e.UHJ],decls:35,vars:28,consts:()=>{let t,n,o,r,l,c,u,M,S,R;return t="Resize the image.",n="\n           You can choose to crop or resize the image in question. When you are\n          finished, proceed by clicking 'confirm' at the bottom of this page. \n        ",o="Turn left.",r="Turn right.",l="Horizontal wheel",c="Vertical wheel",u="Reset",M="Result",S="Confirm",R="Cancel",[[1,"text-2xl"],t,[1,"text-slate-400"],n,[1,"mb-3"],["format","png","output","blob",3,"imageFile","maintainAspectRatio","containWithinAspectRatio","cropperMinWidth","aspectRatio","onlyScaleDown","roundCropper","transform","alignImage","imageCropped","imageLoaded"],[1,"d-inline-block","my-2"],["tuiButton","","type","button",1,"mb-2","text-nowrap","mx-2",3,"appearance","size","click"],o,r,l,c,u,["tuiButton","","size","s","type","button",1,"mb-2","text-nowrap","mx-2",3,"appearance","click"],M,[1,"mx-auto","border","w-100",3,"src"],[1,"flex","items-center"],["tuiButton","","type","button",3,"appearance","size","click"],S,["tuiButton","","appearance","icon","type","button",3,"size","click"],R]},template:function(n,o){if(1&n&&(e.I0R(0,"h3",0),e.aS0(1,1),e.C$Y(),e.I0R(2,"p",2),e.aS0(3,3),e.C$Y(),e.I0R(4,"div",4)(5,"image-cropper",5),e.qCj("imageCropped",function(l){return o.imageCropped(l)})("imageLoaded",function(){return o.imageLoaded()}),e.C$Y()(),e.I0R(6,"div",6)(7,"button",7),e.qCj("click",function(){return o.rotateLeft()}),e.aS0(8,8),e.C$Y(),e.I0R(9,"button",7),e.qCj("click",function(){return o.rotateRight()}),e.aS0(10,9),e.C$Y(),e.I0R(11,"button",7),e.qCj("click",function(){return o.flipHorizontal()}),e.aS0(12,10),e.C$Y(),e.I0R(13,"button",7),e.qCj("click",function(){return o.flipVertical()}),e.aS0(14,11),e.C$Y(),e.I0R(15,"button",7),e.qCj("click",function(){return o.containWithinAspectRatio.set(!o.containWithinAspectRatio())}),e.yuY(16,Xe,2,0,"ng-container")(17,Ke,2,0),e.C$Y(),e.I0R(18,"button",7),e.qCj("click",function(){return o.resetImage()}),e.aS0(19,12),e.C$Y(),e.I0R(20,"button",13),e.qCj("click",function(){return o.zoomOut()}),e.OEk(21,"Zoom -"),e.C$Y(),e.I0R(22,"button",13),e.qCj("click",function(){return o.zoomIn()}),e.OEk(23,"Zoom +"),e.C$Y()(),e.I0R(24,"h3",0),e.aS0(25,14),e.C$Y(),e.I0R(26,"div",4),e.wR5(27,"img",15),e.C$Y(),e.I0R(28,"div",16)(29,"button",17),e.qCj("click",function(){return o.submit()}),e.SAx(30),e.aS0(31,18),e.k70(),e.C$Y(),e.I0R(32,"button",19),e.qCj("click",function(){return o.cancel()}),e.SAx(33),e.aS0(34,20),e.k70(),e.C$Y()()),2&n){let r;e.yG2(5),e.E7m("imageFile",null!==(r=o.image())&&void 0!==r?r:void 0)("maintainAspectRatio",o.maintainAspectRatio())("containWithinAspectRatio",o.containWithinAspectRatio())("cropperMinWidth",o.cropperMinWidth())("aspectRatio",o.aspectRatio())("onlyScaleDown",o.onlyScaleDown())("roundCropper",o.roundCropper())("transform",o.transform())("alignImage","left"),e.yG2(2),e.E7m("appearance","outline")("size","s"),e.yG2(2),e.E7m("appearance","outline")("size","s"),e.yG2(2),e.E7m("appearance","outline")("size","s"),e.yG2(2),e.E7m("appearance","outline")("size","s"),e.yG2(2),e.E7m("appearance","outline")("size","s"),e.yG2(),e.C0Y(16,o.containWithinAspectRatio()?16:17),e.yG2(2),e.E7m("appearance","outline")("size","s"),e.yG2(2),e.E7m("appearance","outline"),e.yG2(2),e.E7m("appearance","outline"),e.yG2(5),e.E7m("src",o.croppedImageBase64(),e.K6U),e.yG2(2),e.E7m("appearance","primary")("size","xl"),e.yG2(3),e.E7m("size","xl")}},dependencies:[Ve,U.CI,U.Kw],encapsulation:2})}return a})();var Je=s(8392);function qe(a,i){if(1&a){const t=e.KQA();e.I0R(0,"button",5),e.qCj("click",function(){e.usT(t);const o=e.GaO(2);return e.CGJ(o.emit(o.control.value))}),e.I0R(1,"mat-icon"),e.OEk(2,"check"),e.C$Y()(),e.I0R(3,"button",7),e.qCj("click",function(){e.usT(t);const o=e.GaO(2);return e.CGJ(o.resetControl())}),e.I0R(4,"mat-icon"),e.OEk(5,"delete"),e.C$Y()()}if(2&a){const t=e.GaO(2);e.E7m("tuiHint","Conferma")("disabled",t.control.disabled)("showLoader",t.loading),e.yG2(3),e.E7m("tuiHint","Rimuovi immagine")("disabled",t.control.disabled)("showLoader",t.loading)}}const ti=a=>({"border border-solid rounded-sm border-slate-200":a});function ei(a,i){if(1&a){const t=e.KQA();e.I0R(0,"div",2)(1,"div",3)(2,"div",4)(3,"button",5),e.qCj("click",function(){e.usT(t);const o=e.GaO();return e.CGJ(o.fireResizeModal())}),e.I0R(4,"mat-icon"),e.OEk(5,"edit"),e.C$Y()(),e.yuY(6,qe,6,6),e.C$Y()(),e.wR5(7,"app-show-image",6),e.C$Y()}if(2&a){const t=e.GaO();e.E7m("ngClass",e.S45(6,ti,t.showBorder)),e.yG2(3),e.E7m("tuiHint","Ridimensiona e ritaglia")("disabled",t.control.disabled)("showLoader",t.loading),e.yG2(3),e.C0Y(6,t.isFileUploaded()?6:-1),e.yG2(),e.E7m("image",t.control.value)}}function ii(a,i){if(1&a&&e.wR5(0,"tui-input-files",1),2&a){const t=e.GaO();e._6D("accept",t.accept),e.E7m("formControl",t.control)("label",t.label)("link",t.link)}}const ni=["*"];let oi=(()=>{class a{constructor(){this.destroy$=(0,e.uUt)(y.UF),this.dialogs=(0,e.uUt)(It._k),this.injector=(0,e.uUt)(e.zZn),this.notifications=(0,e.uUt)(Te.E),this.imagesService=(0,e.uUt)(Ie.U),this.control=new h.Ku(null),this.showBorder=!0,this.loading=!1,this.link="Choose an image.",this.label="or drag it here",this.accept="image/*",this.cropperSettings=null,this.imageChange=new e._w7,this.isFileUploaded=(0,e.OCB)(!1)}ngOnInit(){this.control.valueChanges.pipe((0,B.a)(this.destroy$)).subscribe({next:t=>{t instanceof File&&(this.fireResizeModal(),this.isFileUploaded.set(!0))}})}registerOnChange(t){this.imageChange.pipe((0,B.a)(this.destroy$)).subscribe({next:n=>t(n)})}registerOnTouched(t){this.imageChange.pipe((0,B.a)(this.destroy$)).subscribe({next:()=>t()})}writeValue(t){const n=()=>{this.isFileUploaded.set(!1)};return t instanceof File?(this.control.setValue(t),n()):null==t?(this.control.setValue(null),n()):t instanceof Me.W&&t.id?this.imagesService.downloadUrl(t.id).subscribe({next:o=>{fetch(o).then(r=>r.blob()).then(r=>{this.control.setValue(r,{emitEvent:!1}),n()})}}):(this.control.setValue(null),n(),void console.warn("Invalid value for ImageInputComponent",t))}resetControl(){this.control.reset()}emit(t){this.imageChange.emit(t)}fireResizeModal(){const t=this.control.value;t&&this.dialogs.open(new V.WO(Ze,this.injector),{size:"l",closeable:!0,dismissible:!0,data:{...this.cropperSettings||{},image:t}}).subscribe({next:n=>{n&&this.emit(n)},error:n=>{this.notifications.error(Je.a)}})}static#t=this.\u0275fac=function(n){return new(n||a)};static#e=this.\u0275cmp=e.In1({type:a,selectors:[["app-image-input"]],inputs:{showBorder:"showBorder",loading:"loading",link:"link",label:"label",accept:"accept",cropperSettings:"cropperSettings"},outputs:{imageChange:"imageChange"},standalone:!0,features:[e.M5G([{provide:h.Y6,useExisting:(0,e.wd)(()=>a),multi:!0},y.UF]),e.UHJ],ngContentSelectors:ni,decls:3,vars:2,consts:[["class","block items-center relative my-1 p-2",3,"ngClass"],[3,"accept","formControl","label","link"],[1,"block","items-center","relative","my-1","p-2",3,"ngClass"],[1,"!absolute","me-1","mt-1","top-0","right-0"],[1,"flex","flex-col","bg-white","bg-opacity-50","ps-2","rounded-md"],["size","m","appearance","outline","tuiIconButton","","type","button",1,"mb-2",3,"tuiHint","disabled","showLoader","click"],[1,"mx-auto",2,"max-width","300px",3,"image"],["size","m","appearance","secondary-destructive","tuiIconButton","","type","button",1,"mb-2",3,"tuiHint","disabled","showLoader","click"]],template:function(n,o){1&n&&(e.kPM(),e._Xx(0),e.yuY(1,ei,8,8,"div",0)(2,ii,1,4,"tui-input-files",1)),2&n&&(e.yG2(),e.C0Y(1,o.control.value?1:-1),e.yG2(),e.C0Y(2,o.control.value?-1:2))},dependencies:[$.MD,$.QF,A.CQ,ve,Mt,h.sl,h.ue,h.ug,U.CI,U.Kw,Ce.qL,ye.y,Q.WY,Q.lh,Q.SL,Q.i6,Q.IT],changeDetection:0})}return a})()},9052:(W,O,s)=>{s.d(O,{y:()=>g});var e=s(4496),A=s(7760),b=s(6700),h=s(7368),x=s(2700),y=s(1368);function d(m,I){if(1&m&&(e.wR5(0,"img",1),e.wVc(1,"async")),2&m){const T=e.GaO();e.uQ9("max-w-[100%] h-auto min-h-[50px] md:min-h-[100px] ",T.imgClass,""),e._6D("src",e.kDX(1,5,T.imageSrc$),e.K6U),e.E7m("draggable",!1)}}let g=(()=>{class m{constructor(){this.noImage="/assets/img/no-image.jpg",this.imagesService=(0,e.uUt)(A.U),this.imgClass="block rounded",this.image$=new b.g(null),this.imageSrc$=this.image$.pipe((0,h.G)(T=>T instanceof Blob?(0,x.of)(URL.createObjectURL(T)):T&&T.id?this.imagesService.downloadUrl(T.id):(0,x.of)(this.noImage)))}set image(T){this.image$.next(T??null)}static#t=this.\u0275fac=function(F){return new(F||m)};static#e=this.\u0275cmp=e.In1({type:m,selectors:[["app-show-image"]],inputs:{imgClass:"imgClass",image:"image"},standalone:!0,features:[e.UHJ],decls:2,vars:3,consts:[[3,"draggable","class","src"],[3,"draggable","src"]],template:function(F,C){1&F&&(e.yuY(0,d,2,7,"img",0),e.wVc(1,"async")),2&F&&e.C0Y(0,e.kDX(1,1,C.imageSrc$)?0:-1)},dependencies:[y.a],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}"],changeDetection:0})}return m})()},2264:(W,O,s)=>{s.d(O,{W:()=>A});var e=s(8400);class A extends e.w{constructor(h){super(h),this.filename=h.filename,this.status=h.status,this.key=h.key,this.original_id=h.original_id,this.tag=h.tag,this.url=h.url}}},7760:(W,O,s)=>{s.d(O,{U:()=>h});var e=s(6012),A=s(2264),b=s(4496);let h=(()=>{class x extends e.s{constructor(){super(A.W,"images")}removeFromRecord(d,g){return this.patch(`${d}/remove_from_record`,{record_type:g.record_type,record_id:g.record_id})}updateRecord(d,g){return this.patch("record",{image_ids:g,record_type:d.record_type,record_id:d.record_id})}downloadUrl(d){return this.url(`${d}/download`)}static#t=this.\u0275fac=function(g){return new(g||x)};static#e=this.\u0275prov=b.wxM({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},1588:(W,O,s)=>{s.d(O,{S:()=>A,s:()=>b});var e=s(4496);let A=(()=>{class h{}return h.\u0275fac=function(y){return new(y||h)},h.\u0275dir=e.Sc5({type:h,selectors:[["","tuiItem",""]]}),h})(),b=(()=>{class h{}return h.\u0275fac=function(y){return new(y||h)},h.\u0275mod=e.a4G({type:h}),h.\u0275inj=e.s3X({}),h})()},1200:(W,O,s)=>{s.d(O,{A:()=>y,m:()=>d});var e=s(4496),A=s(900),b=s(3480),h=s(800),x=s(3616);let y=(()=>{class g{constructor(I,T,F){this.el=I,this.zone=T,this.destroy$=F,this.eventName=""}ngOnInit(){(0,h.w)(this.el.nativeElement,this.eventName,{passive:!1}).pipe((0,A.Uv)(this.zone),(0,A.uy)(),(0,x.a)(this.destroy$)).subscribe()}}return g.\u0275fac=function(I){return new(I||g)(e.GI1(e.GMv),e.GI1(e.WW2),e.GI1(b.UF,2))},g.\u0275dir=e.Sc5({type:g,selectors:[["","tuiPreventDefault",""]],inputs:{eventName:[e.Wk5.None,"tuiPreventDefault","eventName"]},features:[e.M5G([b.UF])]}),g})(),d=(()=>{class g{}return g.\u0275fac=function(I){return new(I||g)},g.\u0275mod=e.a4G({type:g}),g.\u0275inj=e.s3X({}),g})()},9880:(W,O,s)=>{s.d(O,{kP:()=>F,kh:()=>ot,st:()=>nt});var e=s(4496),A=s(3480),b=s(4392),h=s(3120),x=s(3616),y=s(7692),d=s(1368);const g=["wrapper"];function m(_,z){if(1&_&&(e.I0R(0,"tui-loader",4),e.C_f(1,5),e.C$Y()),2&_){const p=e.GaO(2);e.E7m("overlay",!0)("showLoader",p.loading),e.yG2(),e.E7m("ngTemplateOutlet",p.content)}}function I(_,z){if(1&_&&(e.SAx(0),e._Xx(1),e.yuY(2,m,2,3,"tui-loader",3),e.k70()),2&_){const p=e.GaO();e.yG2(2),e.E7m("ngIf",p.async)("ngIfElse",p.content)}}const T=["*"];let F=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275dir=e.Sc5({type:_,selectors:[["","tuiExpandContent",""]]}),_})();let nt=(()=>{class _{constructor(p,v){this.cdr=p,this.destroy$=v,this.state=0,this.async=!1,this.content=null,this.expanded=null}set expandedSetter(p){if(null!==this.expanded)return 0!==this.state?(this.expanded=p,void(this.state=3)):(this.expanded=p,void this.retrigger(this.async&&p?1:3));this.expanded=p}get overflow(){return 0!==this.state}get loading(){return!!this.expanded&&this.async&&1===this.state}get height(){const{expanded:p,state:v,contentWrapper:w}=this;return p&&2===v||!p&&3===v?0:w&&(!p&&2===v||p&&3===v)?w.nativeElement.offsetHeight:w&&p&&1===v?Math.max(w.nativeElement.offsetHeight,48):null}get contentVisible(){return this.expanded||0!==this.state}onTransitionEnd({propertyName:p}){"opacity"===p&&3===this.state&&(this.state=0)}onExpandLoaded(p){p.stopPropagation(),1===this.state&&this.retrigger(3)}retrigger(p){this.state=2,(0,h.k)(0).pipe((0,x.a)(this.destroy$)).subscribe(()=>{2===this.state&&(this.state=p,this.cdr.markForCheck())})}}return _.\u0275fac=function(p){return new(p||_)(e.GI1(e.kD9),e.GI1(A.UF,2))},_.\u0275cmp=e.In1({type:_,selectors:[["tui-expand"]],contentQueries:function(p,v,w){if(1&p&&e.szK(w,F,5,e.Yw2),2&p){let P;e.wto(P=e.Gqi())&&(v.content=P.first)}},viewQuery:function(p,v){if(1&p&&e.CC$(g,5),2&p){let w;e.wto(w=e.Gqi())&&(v.contentWrapper=w.first)}},hostVars:9,hostBindings:function(p,v){1&p&&e.qCj("transitionend.self",function(P){return v.onTransitionEnd(P)})("tui-expand-loaded",function(P){return v.onExpandLoaded(P)}),2&p&&(e.e48("aria-expanded",v.expanded),e.m4B("height",v.height,"px"),e.eAK("_expanded",v.expanded)("_overflow",v.overflow)("_loading",v.loading))},inputs:{async:"async",expandedSetter:[e.Wk5.None,"expanded","expandedSetter"]},features:[e.M5G([A.UF])],ngContentSelectors:T,decls:3,vars:3,consts:[[1,"t-wrapper"],["wrapper",""],[4,"ngIf"],["size","l",3,"overlay","showLoader",4,"ngIf","ngIfElse"],["size","l",3,"overlay","showLoader"],[3,"ngTemplateOutlet"]],template:function(p,v){1&p&&(e.kPM(),e.I0R(0,"div",0,1),e.yuY(2,I,3,2,"ng-container",2),e.C$Y()),2&p&&(e.E7m("@tuiParentAnimation",void 0)("@.disabled",v.overflow),e.yG2(2),e.E7m("ngIf",v.contentVisible))},dependencies:[y.Cb,d.u_,d.XV],styles:['[_nghost-%COMP%]{transition-property:opacity,height,visibility;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:block;opacity:0;transition-delay:1ms}._overflow[_nghost-%COMP%]{overflow:hidden}._expanded[_nghost-%COMP%]{opacity:1;transform:translate(0)}._loading[_nghost-%COMP%]{opacity:.99}.t-wrapper[_ngcontent-%COMP%]:before, .t-wrapper[_ngcontent-%COMP%]:after{content:"";display:table}'],data:{animation:[b.cI]},changeDetection:0}),_})(),ot=(()=>{class _{}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=e.a4G({type:_}),_.\u0275inj=e.s3X({imports:[[d.MD,y.Sk]]}),_})()},8976:(W,O,s)=>{s.d(O,{Gy:()=>y,Ko:()=>x});var e=s(4496),A=s(3480),b=s(1368);let h=(()=>{class d{}return d.\u0275fac=function(m){return new(m||d)},d.\u0275cmp=e.In1({type:d,selectors:[["ng-component"]],hostAttrs:[1,"tui-group-styles"],decls:0,vars:0,template:function(m,I){},styles:[".tui-group{position:relative;display:flex;isolation:isolate}.tui-group>*{flex:1 1 0;min-width:0}.tui-group>*:not(:last-child){margin-right:.125rem}.tui-group.tui-group>*:nth-child(n){border-radius:0}.tui-group_collapsed>*{z-index:1}.tui-group_collapsed>*:not(:last-child){margin-right:-1px}.tui-group_collapsed>*._readonly,.tui-group_collapsed>*._disabled,.tui-group_collapsed>*._readonly:hover,.tui-group_collapsed>*._disabled:hover{z-index:0}.tui-group_collapsed>*:hover,.tui-group_collapsed>*._hovered,.tui-group_collapsed>*._pressed{z-index:3}.tui-group_collapsed>*._invalid{z-index:2}.tui-group_collapsed>*._invalid:hover,.tui-group_collapsed>*._invalid._hovered,.tui-group_collapsed>*._invalid._pressed{z-index:4}.tui-group_collapsed>*._hosted_dropdown_focused,.tui-group_collapsed>*._focus-visible,.tui-group_collapsed>*._focused.ng-touched,.tui-group_collapsed>*._focused.ng-untouched{z-index:5}.tui-group_collapsed>*._active,.tui-group_collapsed>*[data-appearance=whiteblock-active]{z-index:6}.tui-group_collapsed>*._focus-visible._focused,.tui-group_collapsed>*._focus-visible._active,.tui-group_collapsed>*._focus-visible[data-appearance=whiteblock-active]{z-index:7}.tui-group_orientation_vertical{display:inline-flex;flex-direction:column}.tui-group_orientation_vertical>*{min-height:auto;flex:0 0 auto}.tui-group_orientation_vertical>*:not(:last-child){margin-right:0;margin-bottom:.125rem}.tui-group_orientation_vertical.tui-group_collapsed>*:not(:last-child){margin-right:0;margin-bottom:-1px}.tui-group_rounded.tui-group_orientation_horizontal>*:first-child{border-top-left-radius:var(--tui-radius-m);border-bottom-left-radius:var(--tui-radius-m)}.tui-group_rounded.tui-group_orientation_horizontal>*:last-child{border-top-right-radius:var(--tui-radius-m);border-bottom-right-radius:var(--tui-radius-m)}.tui-group_rounded.tui-group_orientation_horizontal.tui-group_radius_large>*:first-child{border-top-left-radius:var(--tui-radius-l);border-bottom-left-radius:var(--tui-radius-l)}.tui-group_rounded.tui-group_orientation_horizontal.tui-group_radius_large>*:last-child{border-top-right-radius:var(--tui-radius-l);border-bottom-right-radius:var(--tui-radius-l)}.tui-group_rounded.tui-group_orientation_vertical>*:first-child{border-top-left-radius:var(--tui-radius-m);border-top-right-radius:var(--tui-radius-m)}.tui-group_rounded.tui-group_orientation_vertical>*:last-child{border-bottom-left-radius:var(--tui-radius-m);border-bottom-right-radius:var(--tui-radius-m)}.tui-group_rounded.tui-group_orientation_vertical.tui-group_radius_large>*:first-child{border-top-left-radius:var(--tui-radius-l);border-top-right-radius:var(--tui-radius-l)}.tui-group_rounded.tui-group_orientation_vertical.tui-group_radius_large>*:last-child{border-bottom-left-radius:var(--tui-radius-l);border-bottom-right-radius:var(--tui-radius-l)}@media screen and (max-width: 47.9625em){.tui-group_rounded.tui-group_adaptive.tui-group_orientation_vertical:not(.tui-group_collapsed)>*:first-child:not(:last-child),.tui-group_rounded.tui-group_adaptive.tui-group_orientation_horizontal>*:first-child:not(:last-child),.tui-group_rounded.tui-group_adaptive.tui-group_orientation_vertical:not(.tui-group_collapsed)>*:last-child:not(:first-child),.tui-group_rounded.tui-group_adaptive.tui-group_orientation_horizontal>*:last-child:not(:first-child){border-radius:var(--tui-radius-m)}}@media screen and (max-width: 47.9625em){.tui-group_rounded.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical:not(.tui-group_collapsed)>*:first-child:not(:last-child),.tui-group_rounded.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal>*:first-child:not(:last-child),.tui-group_rounded.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical:not(.tui-group_collapsed)>*:last-child:not(:first-child),.tui-group_rounded.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal>*:last-child:not(:first-child){border-radius:var(--tui-radius-l)}}@media screen and (max-width: 47.9625em){.tui-group_adaptive.tui-group_orientation_vertical{width:100%}.tui-group_adaptive.tui-group_orientation_vertical>*:nth-child(n):not(:only-child){border-radius:var(--tui-radius-m)}.tui-group_adaptive.tui-group_orientation_vertical>*:not(:last-child){margin-bottom:1rem}.tui-group_adaptive.tui-group_orientation_vertical.tui-group_collapsed>*:nth-child(n):not(:only-child){border-radius:0}.tui-group_adaptive.tui-group_orientation_vertical.tui-group_collapsed>*:first-child:not(:last-child){border-radius:var(--tui-radius-m) var(--tui-radius-m) 0 0}.tui-group_adaptive.tui-group_orientation_vertical.tui-group_collapsed>*:last-child:not(:first-child){border-radius:0 0 var(--tui-radius-m) var(--tui-radius-m)}.tui-group_adaptive.tui-group_orientation_vertical.tui-group_collapsed>*:not(:last-child){margin-bottom:-1px}}@media screen and (max-width: 47.9625em){.tui-group_adaptive.tui-group_orientation_horizontal{flex-direction:column;width:100%}.tui-group_adaptive.tui-group_orientation_horizontal>*:nth-child(n):not(:only-child){border-radius:var(--tui-radius-m)}.tui-group_adaptive.tui-group_orientation_horizontal>*:not(:last-child){margin-right:0;margin-bottom:1rem}.tui-group_adaptive.tui-group_orientation_horizontal.tui-group_collapsed>*:nth-child(n):not(:only-child){border-radius:0}.tui-group_adaptive.tui-group_orientation_horizontal.tui-group_collapsed>*:first-child:not(:last-child){border-radius:var(--tui-radius-m) var(--tui-radius-m) 0 0}.tui-group_adaptive.tui-group_orientation_horizontal.tui-group_collapsed>*:last-child:not(:first-child){border-radius:0 0 var(--tui-radius-m) var(--tui-radius-m)}.tui-group_adaptive.tui-group_orientation_horizontal.tui-group_collapsed>*:not(:last-child){margin-right:0;margin-bottom:-1px}}@media screen and (max-width: 47.9625em){.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical>*:nth-child(n):not(:only-child){border-radius:var(--tui-radius-l)}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical.tui-group_collapsed>*:nth-child(n):not(:only-child){border-radius:0}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical.tui-group_collapsed>*:first-child:not(:last-child){border-radius:var(--tui-radius-l) var(--tui-radius-l) 0 0}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical.tui-group_collapsed>*:last-child:not(:first-child){border-radius:0 0 var(--tui-radius-l) var(--tui-radius-l)}}@media screen and (max-width: 47.9625em){.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal>*:nth-child(n):not(:only-child){border-radius:var(--tui-radius-l)}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal.tui-group_collapsed>*:nth-child(n):not(:only-child){border-radius:0}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal.tui-group_collapsed>*:first-child:not(:last-child){border-radius:var(--tui-radius-l) var(--tui-radius-l) 0 0}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal.tui-group_collapsed>*:last-child:not(:first-child){border-radius:0 0 var(--tui-radius-l) var(--tui-radius-l)}}.tui-group__auto-width-item{min-width:auto;flex:0 0 auto}.tui-group .tui-group__inherit-item{border-radius:inherit}\n"],encapsulation:2,changeDetection:0}),d})(),x=(()=>{class d{constructor(m){this.orientation="horizontal",this.adaptive=!1,this.collapsed=!1,this.rounded=!0,this.size="m",m.addComponent(h)}get orientationHorizontal(){return"horizontal"===this.orientation}get orientationVertical(){return"vertical"===this.orientation}get sizeLarge(){return"l"===this.size}}return d.\u0275fac=function(m){return new(m||d)(e.GI1(A.WS))},d.\u0275dir=e.Sc5({type:d,selectors:[["","tuiGroup","",5,"ng-container"]],hostAttrs:["role","group",1,"tui-group"],hostVars:12,hostBindings:function(m,I){2&m&&e.eAK("tui-group_adaptive",I.adaptive)("tui-group_collapsed",I.collapsed)("tui-group_rounded",I.rounded)("tui-group_orientation_horizontal",I.orientationHorizontal)("tui-group_orientation_vertical",I.orientationVertical)("tui-group_radius_large",I.sizeLarge)},inputs:{orientation:"orientation",adaptive:"adaptive",collapsed:"collapsed",rounded:"rounded",size:"size"}}),d})(),y=(()=>{class d{}return d.\u0275fac=function(m){return new(m||d)},d.\u0275mod=e.a4G({type:d}),d.\u0275inj=e.s3X({imports:[[b.MD]]}),d})()}}]);