"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[1338],{1200:(F,k,r)=>{r.d(k,{A:()=>M,m:()=>C});var u=r(4496),t=r(900),g=r(3480),v=r(800),l=r(3616);let M=(()=>{class s{constructor(h,p,_){this.el=h,this.zone=p,this.destroy$=_,this.eventName=""}ngOnInit(){(0,v.w)(this.el.nativeElement,this.eventName,{passive:!1}).pipe((0,t.Uv)(this.zone),(0,t.uy)(),(0,l.a)(this.destroy$)).subscribe()}}return s.\u0275fac=function(h){return new(h||s)(u.GI1(u.GMv),u.GI1(u.WW2),u.GI1(g.UF,2))},s.\u0275dir=u.Sc5({type:s,selectors:[["","tuiPreventDefault",""]],inputs:{eventName:[u.Wk5.None,"tuiPreventDefault","eventName"]},features:[u.M5G([g.UF])]}),s})(),C=(()=>{class s{}return s.\u0275fac=function(h){return new(h||s)},s.\u0275mod=u.a4G({type:s}),s.\u0275inj=u.s3X({}),s})()},1338:(F,k,r)=>{r.d(k,{W:()=>K,N:()=>Y});var u=r(1316),t=r(4496),g=r(1200),v=r(9104),l=r(400),M=r(4392),C=r(900),s=r(2528),c=r(3480),h=r(9392),p=r(1673),_=r(4336),O=r(3656),H=r(3840),G=r(5944),E=r(812),T=r(3012),P=r(3616),b=r(1152);let A=(()=>{class a{constructor(e,n,o){this.disabledItemHandler=M.so,this.markerHandler=H.SE,this.defaultViewedMonthFirst=l.Ci.currentLocal(),this.defaultViewedMonthSecond=l.Ci.currentLocal().append({month:1}),this.min=l.sF,this.max=l.q7,this.value=null,this.dayClick=new t._w7,this.hoveredItem=null,this.userViewedMonthFirst=this.defaultViewedMonthFirst,this.userViewedMonthSecond=this.defaultViewedMonthSecond,this.monthOffset=(i,m)=>i.append({month:m}),e&&e.pipe((0,C.iQ)(n),(0,P.a)(o)).subscribe(i=>{this.value=i,this.updateViewedMonths()})}get cappedUserViewedMonthSecond(){return this.userViewedMonthSecond.monthBefore(this.max)?this.userViewedMonthSecond:this.max}get cappedUserViewedMonthFirst(){return this.userViewedMonthFirst.monthSameOrBefore(this.userViewedMonthSecond)?this.userViewedMonthFirst:this.userViewedMonthSecond}ngOnInit(){this.setInitialMonths()}onSectionFirstViewedMonth(e){this.userViewedMonthFirst=e,this.userViewedMonthSecond=this.userViewedMonthFirst.append({month:1})}onSectionSecondViewedMonth(e){this.userViewedMonthSecond=e,this.userViewedMonthFirst=this.userViewedMonthSecond.append({month:-1})}onDayClick(e){this.dayClick.emit(e)}setInitialMonths(){this.value||(this.userViewedMonthSecond=this.updatedViewedMonthSecond(this.defaultViewedMonthSecond),this.userViewedMonthFirst=this.updatedViewedMonthFirst(this.defaultViewedMonthFirst))}updatedViewedMonthSecond(e){return e.monthSameOrAfter(this.max)?this.max:e.monthBefore(this.min)?this.min.append({month:1}):e}updatedViewedMonthFirst(e){return e.monthSameOrAfter(this.userViewedMonthSecond)?this.userViewedMonthSecond.append({month:-1}):e.monthSameOrBefore(this.min)?this.min:e}updateViewedMonths(){this.userViewedMonthFirst=null===this.value?this.defaultViewedMonthFirst:this.value.from,this.userViewedMonthSecond=this.userViewedMonthFirst.append({month:1})}}return a.\u0275fac=function(e){return new(e||a)(t.GI1(T.aY,8),t.GI1(t.kD9),t.GI1(c.UF,2))},a.\u0275cmp=t.In1({type:a,selectors:[["tui-primitive-calendar-range"]],inputs:{disabledItemHandler:"disabledItemHandler",markerHandler:"markerHandler",defaultViewedMonthFirst:"defaultViewedMonthFirst",defaultViewedMonthSecond:"defaultViewedMonthSecond",min:"min",max:"max",value:"value"},outputs:{dayClick:"dayClick"},features:[t.M5G([c.UF])],decls:5,vars:30,consts:[[3,"disabledItemHandler","markerHandler","max","maxViewedMonth","min","month","showAdjacent","value","hoveredItem","hoveredItemChange","dayClick","monthChange"],[1,"t-border",3,"disabledItemHandler","markerHandler","max","min","minViewedMonth","month","showAdjacent","value","hoveredItem","hoveredItemChange","dayClick","monthChange"]],template:function(e,n){1&e&&(t.I0R(0,"tui-calendar",0),t.iHE("hoveredItemChange",function(i){return t.kNx(n.hoveredItem,i)||(n.hoveredItem=i),i}),t.qCj("dayClick",function(i){return n.onDayClick(i)})("monthChange",function(i){return n.onSectionFirstViewedMonth(i)}),t.wVc(1,"tuiMapper"),t.C$Y(),t.I0R(2,"tui-calendar",1),t.iHE("hoveredItemChange",function(i){return t.kNx(n.hoveredItem,i)||(n.hoveredItem=i),i}),t.qCj("dayClick",function(i){return n.onDayClick(i)})("monthChange",function(i){return n.onSectionSecondViewedMonth(i)}),t.wVc(3,"tuiMapper"),t.wVc(4,"tuiMapper"),t.C$Y()),2&e&&(t.E7m("disabledItemHandler",n.disabledItemHandler)("markerHandler",n.markerHandler)("max",n.max)("maxViewedMonth",t.I7O(1,18,n.cappedUserViewedMonthSecond,n.monthOffset,-1))("min",n.min)("month",n.userViewedMonthFirst)("showAdjacent",!1)("value",n.value),t.OKB("hoveredItem",n.hoveredItem),t.yG2(2),t.E7m("disabledItemHandler",n.disabledItemHandler)("markerHandler",n.markerHandler)("max",n.max)("min",n.min)("minViewedMonth",t.I7O(3,22,n.cappedUserViewedMonthFirst,n.monthOffset,1))("month",n.userViewedMonthSecond.monthSameOrBefore(n.min)?t.I7O(4,26,n.min,n.monthOffset,1):n.userViewedMonthSecond)("showAdjacent",!1)("value",n.value),t.OKB("hoveredItem",n.hoveredItem))},dependencies:[p.I,v.M],styles:["[_nghost-%COMP%]{display:flex}.t-border[_ngcontent-%COMP%]{border-left:1px solid var(--tui-base-03)}"],changeDetection:0}),a})(),L=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.a4G({type:a}),a.\u0275inj=t.s3X({imports:[[v.E,b.M9,p.y]]}),a})();var y=r(1368);const R=(a,d,e,n)=>[a,d,e,n,!1],x=(a,d,e,n)=>[a,d,e,n,!0];function B(a,d){if(1&a){const e=t.KQA();t.I0R(0,"tui-primitive-calendar-range",2),t.qCj("dayClick",function(o){t.usT(e);const i=t.GaO();return t.CGJ(i.onDayClick(o))}),t.wVc(1,"tuiMapper"),t.wVc(2,"tuiMapper"),t.C$Y()}if(2&a){const e=t.GaO();t.E7m("defaultViewedMonthFirst",e.defaultViewedMonth)("disabledItemHandler",e.calculatedDisabledItemHandler)("markerHandler",e.markerHandler)("max",t.MxA(1,6,t.WuN(18,R,e.computedMax,e.maxLengthMapper,e.value,e.maxLength)))("min",t.MxA(2,12,t.WuN(23,x,e.computedMin,e.maxLengthMapper,e.value,e.maxLength)))("value",e.value)}}function U(a,d){if(1&a&&t.wR5(0,"tui-svg",9),2&a){const e=t.GaO(3);t.E7m("src",e.icons.check)}}function j(a,d){if(1&a){const e=t.KQA();t.I0R(0,"button",7),t.qCj("click",function(){const i=t.usT(e).$implicit,m=t.GaO(2);return t.CGJ(m.onItemSelect(i))})("keydown.enter.prevent",function(){const i=t.usT(e).$implicit,m=t.GaO(2);return t.CGJ(m.onItemSelect(i))})("keydown.space.prevent",function(){const i=t.usT(e).$implicit,m=t.GaO(2);return t.CGJ(m.onItemSelect(i))}),t.OEk(1),t.yuY(2,U,1,1,"tui-svg",8),t.C$Y()}if(2&a){const e=d.$implicit,n=t.GaO(2);t.e48("aria-checked",n.isItemActive(e)),t.yG2(),t.oRS(" ",e," "),t.yG2(),t.E7m("ngIf",n.isItemActive(e))}}const W=(a,d,e,n,o,i)=>[a,d,e,n,o,i];function N(a,d){if(1&a){const e=t.KQA();t.I0R(0,"div",3)(1,"tui-calendar",4),t.qCj("dayClick",function(o){t.usT(e);const i=t.GaO();return t.CGJ(i.onDayClick(o))}),t.wVc(2,"tuiMapper"),t.wVc(3,"tuiMapper"),t.C$Y(),t.I0R(4,"tui-data-list",5),t.yuY(5,j,3,3,"button",6),t.wVc(6,"tuiMapper"),t.wVc(7,"async"),t.C$Y()()}if(2&a){const e=t.GaO();t.yG2(),t.E7m("disabledItemHandler",e.calculatedDisabledItemHandler)("markerHandler",e.markerHandler)("max",t.MxA(2,7,t.WuN(28,R,e.computedMax,e.maxLengthMapper,e.value,e.maxLength)))("min",t.MxA(3,13,t.WuN(33,x,e.computedMin,e.maxLengthMapper,e.value,e.maxLength)))("month",e.computedMonth)("value",e.value),t.yG2(4),t.E7m("ngForOf",t.MxA(6,19,t.Gyg(38,W,e.items,e.mapper,e.min,e.max,e.minLength,t.kDX(7,26,e.otherDateText$))))}}let K=(()=>{class a{constructor(e,n,o,i,m){this.otherDateText$=i,this.icons=m,this.defaultViewedMonth=l.Ci.currentLocal(),this.disabledItemHandler=M.so,this.markerHandler=H.SE,this.items=[],this.min=l.sF,this.max=l.q7,this.minLength=null,this.maxLength=null,this.value=null,this.valueChange=new t._w7,this.previousValue=null,this.maxLengthMapper=E.m2,this.mapper=(f,w,D,I,S="")=>[...f.filter(V=>(null===I||V.range.from.append(I).daySameOrBefore(V.range.to))&&(null===w||V.range.to.daySameOrAfter(w))&&(null===D||V.range.from.daySameOrBefore(D))),S],e&&e.pipe((0,C.iQ)(n),(0,P.a)(o)).subscribe(f=>{this.value=f})}get computedMin(){var e;return null!==(e=this.min)&&void 0!==e?e:l.sF}get computedMax(){var e;return null!==(e=this.max)&&void 0!==e?e:l.q7}onEsc(e){var n;"Escape"!==e.key||null===(n=this.value)||void 0===n||!n.isSingleDay||(e.stopPropagation(),this.value=this.previousValue)}get calculatedDisabledItemHandler(){return this.calculateDisabledItemHandler(this.disabledItemHandler,this.value,this.minLength)}get computedMonth(){return this.value?this.value.to:this.defaultViewedMonth}isItemActive(e){const{activePeriod:n}=this;return(0,s.gT)(e)&&null===n||n===e}onRangeChange(e){this.updateValue(e)}onDayClick(e){const{value:n}=this;this.previousValue=n,null!==n&&n.isSingleDay?this.updateValue(l.Se.sort(n.from,e)):this.value=new l.Se(e,e)}onItemSelect(e){"string"==typeof e?null!==this.activePeriod&&this.updateValue(null):this.updateValue(e.range.dayLimit(this.min,this.max))}updateValue(e){this.value=e,this.valueChange.emit(e)}get activePeriod(){return this.items.find(e=>(0,s.K2)(this.value,e.range,(n,o)=>n.from.daySame(o.from.dayLimit(this.min,this.max))&&n.to.daySame(o.to.dayLimit(this.min,this.max))))||null}calculateDisabledItemHandler(e,n,o){return i=>{if(!n?.isSingleDay||!o)return e(i);const m=(0,s.Kw)(Object.entries(o).map(([I,S])=>[I,-S])),f=n.from.append(m).append({day:1}),w=n.from.append(o).append({day:-1});return f.dayBefore(i)&&w.dayAfter(i)||e(i)}}}return a.\u0275fac=function(e){return new(e||a)(t.GI1(T.aY,8),t.GI1(t.kD9),t.GI1(c.UF,2),t.GI1(T.qo),t.GI1(G.QJ))},a.\u0275cmp=t.In1({type:a,selectors:[["tui-calendar-range"]],hostBindings:function(e,n){1&e&&t.qCj("keydown.capture",function(i){return n.onEsc(i)},!1,t.wLc)},inputs:{defaultViewedMonth:"defaultViewedMonth",disabledItemHandler:"disabledItemHandler",markerHandler:"markerHandler",items:"items",min:"min",max:"max",minLength:"minLength",maxLength:"maxLength",value:"value"},outputs:{valueChange:"valueChange"},features:[t.M5G([c.UF])],decls:3,vars:2,consts:[["automation-id","tui-calendar-range__calendars","tuiPreventDefault","mousedown",3,"defaultViewedMonthFirst","disabledItemHandler","markerHandler","max","min","value","dayClick",4,"ngIf","ngIfElse"],["presets",""],["automation-id","tui-calendar-range__calendars","tuiPreventDefault","mousedown",3,"defaultViewedMonthFirst","disabledItemHandler","markerHandler","max","min","value","dayClick"],[1,"t-wrapper"],["automation-id","tui-calendar-range__calendar","tuiPreventDefault","mousedown",3,"disabledItemHandler","markerHandler","max","min","month","value","dayClick"],["automation-id","tui-calendar-range__menu","role","menu",1,"t-menu"],["automation-id","tui-calendar-range__menu__item","role","menuitemradio","tuiOption","","tuiPreventDefault","mousedown",3,"click","keydown.enter.prevent","keydown.space.prevent",4,"ngFor","ngForOf"],["automation-id","tui-calendar-range__menu__item","role","menuitemradio","tuiOption","","tuiPreventDefault","mousedown",3,"click","keydown.enter.prevent","keydown.space.prevent"],["automation-id","tui-calendar-range__checkmark","class","t-checkmark",3,"src",4,"ngIf"],["automation-id","tui-calendar-range__checkmark",1,"t-checkmark",3,"src"]],template:function(e,n){if(1&e&&t.yuY(0,B,3,28,"tui-primitive-calendar-range",0)(1,N,8,45,"ng-template",null,1,t.gJz),2&e){const o=t.Gew(2);t.E7m("ngIf",!n.items.length)("ngIfElse",o)}},dependencies:[A,p.I,_.yi,_.sP,O.Wu,y.u_,g.A,y.ay,v.M,y.a],styles:["[_nghost-%COMP%]{display:block}.t-wrapper[_ngcontent-%COMP%]{display:flex}.t-menu[_ngcontent-%COMP%]{width:11rem;border-left:1px solid var(--tui-base-03)}.t-checkmark[_ngcontent-%COMP%]{margin-left:auto;width:1rem;height:1rem}"],changeDetection:0}),(0,u.UN)([h.w7],a.prototype,"calculateDisabledItemHandler",null),a})(),Y=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.a4G({type:a}),a.\u0275inj=t.s3X({imports:[[y.MD,v.E,g.m,p.y,p.y,O.Yt,_.A$,L]]}),a})()}}]);