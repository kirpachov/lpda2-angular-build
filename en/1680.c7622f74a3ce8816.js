"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[1680],{1680:(e_,P,o)=>{o.d(P,{I:()=>__});var _=o(4496),f=o(7424),m=o(7048),p=o(8256),g=o(8392),L=o(4820),B=o(6616),$=o(1128),v=o(3480),D=o(3616),U=o(8824),O=o(1368),x=o(1236),E=o(8212),r=o(1512),l=o(7692),V=o(908);function y(e,t){1&e&&(_.I0R(0,"p",0),_.Mff(1,10),_.wR5(2,"b",11),_.U7j(),_.C$Y())}function b(e,t){if(1&e&&(_.OEk(0),_.wVc(1,"currency")),2&e){const n=_.GaO(5);_.oRS(" ",_.kDX(1,1,n.reservation.payment.value)," ")}}function G(e,t){if(1&e&&(_.I0R(0,"p",0),_.Mff(1,12),_.wR5(2,"b",11),_.U7j(),_.C$Y(),_.I0R(3,"div",13)(4,"a",14),_.SAx(5),_.aS0(6,15),_.k70(),_.yuY(7,b,2,3),_.C$Y()()),2&e){const n=_.GaO(4);_.yG2(4),_._6D("href",n.reservation.payment.hpp_url,_.K6U),_.yG2(3),_.C0Y(7,n.reservation.payment.value?7:-1)}}function z(e,t){if(1&e&&_.yuY(0,y,3,0,"p",9)(1,G,8,2),2&e){const n=_.GaO(3);_.C0Y(0,n.isFreshReservation()?0:1)}}function X(e,t){if(1&e&&(_.I0R(0,"p",0),_.aS0(1,16),_.wVc(2,"currency"),_.C$Y()),2&e){const n=_.GaO(4);_.yG2(2),_.oBb(_.kDX(2,1,n.reservation.payment.value)),_.Ylm(1)}}function h(e,t){1&e&&(_.I0R(0,"p",0),_.aS0(1,17),_.C$Y())}function Y(e,t){if(1&e&&_.yuY(0,X,3,3,"p",9)(1,h,2,0),2&e){const n=_.GaO(3);_.C0Y(0,n.reservation.payment.value?0:1)}}function K(e,t){if(1&e&&(_.I0R(0,"p",0),_.Mff(1,18),_.wVc(2,"currency"),_.wR5(3,"b",11),_.U7j(),_.C$Y()),2&e){const n=_.GaO(4);_.yG2(3),_.oBb(_.kDX(2,1,n.reservation.payment.value)),_.Ylm(1)}}function W(e,t){1&e&&(_.I0R(0,"p",0),_.Mff(1,19),_.wR5(2,"b",11),_.U7j(),_.C$Y())}function k(e,t){if(1&e&&_.yuY(0,K,4,3,"p",9)(1,W,3,0),2&e){const n=_.GaO(3);_.C0Y(0,n.reservation.payment.value?0:1)}}function j(e,t){if(1&e&&_.yuY(0,z,2,1)(1,Y,2,1)(2,k,2,1),2&e){const n=_.GaO(2);let i;_.C0Y(0,"todo"===(i=n.reservation.payment.status)?0:"paid"===i?1:"refunded"===i?2:-1)}}function w(e,t){1&e&&(_.I0R(0,"p",0),_.aS0(1,20),_.C$Y())}function H(e,t){1&e&&(_.SAx(0),_.aS0(1,21),_.k70())}function J(e,t){1&e&&_.wR5(0,"tui-loader",24)}function Q(e,t){1&e&&(_.SAx(0),_.aS0(1,25),_.k70())}function Z(e,t){if(1&e){const n=_.KQA();_.SAx(0),_.aS0(1,22),_.k70(),_.I0R(2,"span",23),_.qCj("click",function(){_.usT(n);const C=_.GaO(2);return _.CGJ(C.resendConfirmation())}),_.yuY(3,J,1,0,"tui-loader",24)(4,Q,2,0),_.C$Y()}if(2&e){const n=_.GaO(2);_.yG2(3),_.C0Y(3,n.resendingConfirmation()?3:4)}}function q(e,t){if(1&e&&(_.yuY(0,j,3,1)(1,w,2,0),_.I0R(2,"p",0),_.yuY(3,H,2,0,"ng-container")(4,Z,5,1),_.C$Y(),_.I0R(5,"p",0),_.SAx(6),_.aS0(7,1),_.k70(),_.OEk(8),_.wVc(9,"date"),_.wVc(10,"date"),_.C$Y(),_.wR5(11,"app-public-message",2),_.I0R(12,"div",3),_.SAx(13),_.aS0(14,4),_.k70(),_.I0R(15,"app-contact-us"),_.SAx(16),_.aS0(17,5),_.k70(),_.C$Y(),_.I0R(18,"span",6),_.OEk(19,"-"),_.C$Y(),_.I0R(20,"a",7),_.SAx(21),_.aS0(22,8),_.k70(),_.C$Y()()),2&e){const n=_.GaO();_.C0Y(0,n.reservation.payment?0:1),_.yG2(3),_.C0Y(3,n.isFreshReservation()?3:4),_.yG2(5),_.CAO(" ",_.g7$(9,6,n.reservation.datetime,"EEEE d MMMM y")," ",_.g7$(10,9,n.reservation.datetime,"HH:mm"),". "),_.yG2(3),_.E7m("location","existing-reservation-form"),_.yG2(9),_.CI5("routerLink","/cr/",n.reservation.secret,"")}}let __=(()=>{class e{constructor(){this.notifications=(0,_.uUt)($.E),this.reservations=(0,_.uUt)(L.G),this.destroy$=(0,_.uUt)(v.UF),this.localStorage=(0,_.uUt)(B.s),this.resendingConfirmation=(0,_.OCB)(!1)}isFreshReservation(){return this.reservation&&this.reservation.created_at?Date.now()-this.reservation.created_at.getTime()<3e5:(console.warn("isFreshReservation","missing reservation or created_at",this.reservation),!1)}resendConfirmation(){const n=this.reservation?.secret;n&&(this.resendingConfirmation.set(!0),this.reservations.resendConfirmation(n).pipe((0,D.a)(this.destroy$),(0,U.U)(()=>this.resendingConfirmation.set(!1))).subscribe({next:()=>{this.notifications.fireSnackBar("The email will arrive shortly.")},error:i=>{this.notifications.error(i instanceof m.gj?(0,p.mk)(i):g.a)}}))}static#_=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=_.In1({type:e,selectors:[["app-public-reservation-confirmation"]],inputs:{reservation:"reservation"},standalone:!0,features:[_.UHJ],decls:1,vars:1,consts:()=>{let n,i,C,s,R,N,T,I,c,M,u,d,S,F,A;return n="The reservation is set for",i="Forgot something?",C="Contact us",s="Cancel reservation",R="\n           The payment to confirm the reservation \n          " + "\ufffd#2\ufffd" + "\n           has not been successful \n          " + "\ufffd/#2\ufffd" + "\n           , but it may be necessary to wait a few minutes. Please try again\n          later. \n        ",N="\n           The payment to confirm the reservation \n          " + "\ufffd#2\ufffd" + "\n           has not been successful \n          " + "\ufffd/#2\ufffd" + "\n           . \n        ",T="Execute payment",I="\n           The payment of \n          " + "\ufffd0\ufffd" + "\n           for the reservation was successful and the reservation is confirmed. \n        ",c="\n           The payment for the reservation has been successfully completed and\n          the reservation is confirmed. \n        ",M="\n           The payment of \n          " + "\ufffd0\ufffd" + "\n           for the reservation has been \n          " + "\ufffd#3\ufffd" + "\n           refunded \n          " + "\ufffd/#3\ufffd" + "\n           . \n        ",u="\n           The payment for the reservation has been \n          " + "\ufffd#2\ufffd" + "\n           refunded \n          " + "\ufffd/#2\ufffd" + "\n           . \n        ",d="Your reservation has been created.",S="You will receive a confirmation email shortly.",F="You should have received a confirmation email. Has it not arrived?",A="Forward email",[[1,"text-xl","text-center","mb-3"],n,[1,"block","mb-3","text-center","text-xl",3,"location"],[1,"flex","items-center","justify-center","mb-3","text-xl"],i,C,[1,"mx-2"],["tuiLink","",3,"routerLink"],s,["class","text-xl text-center mb-3"],R,[1,"text-danger"],N,[1,"flex","items-center","justify-center","mb-3"],["size","m","tuiButton","","appearance","custom",1,"btn-primary","me-2",3,"href"],T,I,c,M,u,d,S,F,["type","button","role","button","size","m",1,"cursor-pointer","inline-flex","items-center","ms-2","underline",3,"click"],["size","xs"],A]},template:function(i,C){1&i&&_.yuY(0,q,23,12),2&i&&_.C0Y(0,C.reservation?0:-1)},dependencies:[O.y,E.CI,E.Kw,f.K,x.ER,r.w,r.C,V.Q,l.Sk,l.Cb,O.cf],changeDetection:0})}return e})()}}]);