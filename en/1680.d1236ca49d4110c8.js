"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[1680],{1680:(Y,R,o)=>{o.d(R,{I:()=>s_});var _=o(4496),s=o(7296),t=o(7048),I=o(8256),T=o(8392),c=o(4820),M=o(6616),O=o(1128),S=o(3480),N=o(3616),r=o(8824),l=o(1368),d=o(1236),u=o(8212),m=o(1512),A=o(7692),k=o(908),K=o(7708);function w(e,a){if(1&e&&(_.I0R(0,"p",5),_.aS0(1,14),_.C$Y(),_.I0R(2,"p",5),_.SAx(3),_.aS0(4,15),_.k70(),_.OEk(5),_.wVc(6,"date"),_.wVc(7,"date"),_.C$Y(),_.wR5(8,"app-public-message",16)),2&e){const n=_.GaO(2);_.yG2(5),_.CAO(" ",_.g7$(6,3,n.reservation.datetime,"EEEE d MMMM y")," ",_.g7$(7,6,n.reservation.datetime,"HH:mm"),". "),_.yG2(3),_.E7m("location","existing-reservation-form")}}function W(e,a){1&e&&(_.wR5(0,"app-public-message",16),_.I0R(1,"p",5),_.aS0(2,25),_.C$Y()),2&e&&_.E7m("location","existing-reservation-todo-payment")}function j(e,a){1&e&&(_.wR5(0,"app-public-message",16),_.I0R(1,"p",5),_.aS0(2,26),_.C$Y(),_.I0R(3,"p",5),_.aS0(4,27),_.C$Y()),2&e&&_.E7m("location","existing-reservation-todo-authorization")}function H(e,a){if(1&e&&(_.OEk(0),_.wVc(1,"currency")),2&e){const n=_.GaO(4);_.oRS(" ",_.kDX(1,1,n.reservation.payment.value)," ")}}function J(e,a){if(1&e&&(_.I0R(0,"p",5),_.Mff(1,17),_.wR5(2,"b",18),_.U7j(),_.C$Y(),_.yuY(3,W,3,1)(4,j,5,1),_.I0R(5,"p",19)(6,"span"),_.aS0(7,20),_.C$Y(),_.wR5(8,"app-terms-and-conditions-link",21),_.C$Y(),_.I0R(9,"div",22)(10,"a",23),_.SAx(11),_.aS0(12,24),_.k70(),_.yuY(13,H,2,3),_.C$Y()()),2&e){const n=_.GaO(3);_.yG2(3),_.C0Y(3,"html_nexi_payment"==n.reservation.payment.preorder_type?3:"html_nexi_authorization"==n.reservation.payment.preorder_type?4:-1),_.yG2(7),_._6D("href",n.reservation.payment.hpp_url,_.K6U),_.yG2(3),_.C0Y(13,n.reservation.payment.value?13:-1)}}function Q(e,a){1&e&&(_.I0R(0,"p",5),_.aS0(1,29),_.C$Y())}function Z(e,a){1&e&&(_.I0R(0,"p",5),_.aS0(1,30),_.C$Y())}function q(e,a){if(1&e&&(_.wR5(0,"app-public-message",16),_.yuY(1,Q,2,0,"p",28)(2,Z,2,0)),2&e){const n=_.GaO(3);_.E7m("location","existing-reservation-authorized-payment"),_.yG2(),_.C0Y(1,n.reservation.payment.value?1:2)}}function __(e,a){if(1&e&&(_.I0R(0,"p",5),_.aS0(1,31),_.wVc(2,"currency"),_.C$Y()),2&e){const n=_.GaO(4);_.yG2(2),_.oBb(_.kDX(2,1,n.reservation.payment.value)),_.Ylm(1)}}function e_(e,a){1&e&&(_.I0R(0,"p",5),_.aS0(1,32),_.C$Y())}function n_(e,a){if(1&e&&(_.wR5(0,"app-public-message",16),_.yuY(1,__,3,3,"p",28)(2,e_,2,0)),2&e){const n=_.GaO(3);_.E7m("location","existing-reservation-paid-payment"),_.yG2(),_.C0Y(1,n.reservation.payment.value?1:2)}}function o_(e,a){if(1&e&&(_.I0R(0,"p",5),_.Mff(1,33),_.wVc(2,"currency"),_.wR5(3,"b",18),_.U7j(),_.C$Y()),2&e){const n=_.GaO(4);_.yG2(3),_.oBb(_.kDX(2,1,n.reservation.payment.value)),_.Ylm(1)}}function t_(e,a){1&e&&(_.I0R(0,"p",5),_.Mff(1,34),_.wR5(2,"b",18),_.U7j(),_.C$Y())}function i_(e,a){if(1&e&&(_.yuY(0,o_,4,3,"p",28)(1,t_,3,0),_.wR5(2,"app-public-message",16)),2&e){const n=_.GaO(3);_.C0Y(0,n.reservation.payment.value?0:1),_.yG2(2),_.E7m("location","existing-reservation-refunded-payment")}}function a_(e,a){if(1&e&&_.yuY(0,J,14,3)(1,q,3,2)(2,n_,3,2)(3,i_,3,2),2&e){const n=_.GaO(2);let C;_.C0Y(0,"todo"===(C=n.reservation.payment.status)?0:"authorized"===C?1:"paid"===C?2:"refunded"===C?3:-1)}}function C_(e,a){1&e&&(_.SAx(0),_.aS0(1,35),_.k70())}function O_(e,a){1&e&&_.wR5(0,"tui-loader",38)}function r_(e,a){1&e&&(_.SAx(0),_.aS0(1,39),_.k70())}function N_(e,a){if(1&e){const n=_.KQA();_.SAx(0),_.aS0(1,36),_.k70(),_.I0R(2,"span",37),_.qCj("click",function(){_.usT(n);const E=_.GaO(2);return _.CGJ(E.resendConfirmation())}),_.yuY(3,O_,1,0,"tui-loader",38)(4,r_,2,0),_.C$Y()}if(2&e){const n=_.GaO(2);_.yG2(3),_.C0Y(3,n.resendingConfirmation()?3:4)}}function l_(e,a){if(1&e&&(_.I0R(0,"span",11),_.OEk(1,"-"),_.C$Y(),_.I0R(2,"a",12),_.SAx(3),_.aS0(4,40),_.k70(),_.C$Y()),2&e){const n=_.GaO(2);_.yG2(2),_.CI5("routerLink","/r/",n.reservation.secret,"")}}function E_(e,a){if(1&e&&(_.I0R(0,"div",1)(1,"h2",2),_.SAx(2),_.aS0(3,3),_.k70(),_.C$Y(),_.wR5(4,"hr",4),_.yuY(5,w,9,9)(6,a_,4,1),_.I0R(7,"p",5),_.yuY(8,C_,2,0,"ng-container")(9,N_,5,1),_.C$Y(),_.I0R(10,"div",6)(11,"p",7),_.aS0(12,8),_.C$Y(),_.I0R(13,"div",9)(14,"app-contact-us"),_.SAx(15),_.aS0(16,10),_.k70(),_.C$Y(),_.I0R(17,"span",11),_.OEk(18,"-"),_.C$Y(),_.I0R(19,"a",12),_.SAx(20),_.aS0(21,13),_.k70(),_.C$Y(),_.yuY(22,l_,5,1),_.C$Y()()()),2&e){const n=_.GaO();_.yG2(5),_.C0Y(5,n.reservation.payment&&"paid"!=n.reservation.payment.status&&"authorized"!=n.reservation.payment.status?-1:5),_.yG2(),_.C0Y(6,n.reservation.payment?6:-1),_.yG2(2),_.C0Y(8,n.isFreshReservation()?8:9),_.yG2(11),_.CI5("routerLink","/cr/",n.reservation.secret,""),_.yG2(3),_.C0Y(22,n.shareDetailsLinkShown?22:-1)}}let s_=(()=>{class e{constructor(){this.notifications=(0,_.uUt)(O.E),this.reservations=(0,_.uUt)(c.G),this.destroy$=(0,_.uUt)(S.UF),this.localStorage=(0,_.uUt)(M.s),this.resendingConfirmation=(0,_.OCB)(!1),this.shareDetailsLinkShown=!0}isFreshReservation(){return this.reservation&&this.reservation.created_at?Date.now()-this.reservation.created_at.getTime()<3e5:(console.warn("isFreshReservation","missing reservation or created_at",this.reservation),!1)}resendConfirmation(){const n=this.reservation?.secret;n&&(this.resendingConfirmation.set(!0),this.reservations.resendConfirmation(n).pipe((0,N.a)(this.destroy$),(0,r.U)(()=>this.resendingConfirmation.set(!1))).subscribe({next:()=>{this.notifications.fireSnackBar("The email will arrive shortly.")},error:C=>{this.notifications.error(C instanceof t.gj?(0,I.mk)(C):T.a)}}))}static#_=this.\u0275fac=function(C){return new(C||e)};static#e=this.\u0275cmp=_.In1({type:e,selectors:[["app-public-reservation-confirmation"]],inputs:{reservation:"reservation",shareDetailsLinkShown:"shareDetailsLinkShown"},standalone:!0,features:[_.UHJ],decls:1,vars:1,consts:()=>{let n,C,E,P,p,f,g,L,F,$,v,B,U,x,y,D,V,z,G,h,b,X;return n="Your reservation",C="Forgot something?",E="Contact us",P="Cancel reservation",p="Your reservation is confirmed.",f="The reservation is set for",g="\n           The reservation \n          " + "\ufffd#2\ufffd" + "\n           is not confirmed \n          " + "\ufffd/#2\ufffd" + "\n           . \n        ",L="For more information, including the cancellation policy, visit the",F="Confirm the reservation.",$="It is necessary to complete the payment to confirm the reservation.",v="A credit card is required for guarantee to make the reservation.",B="\n           No amount will be charged, and the information and entry of the\n          credit card will be retained only as a guarantee for the reservation.\n          Ristorante La Porta d\u2019Acqua will not have access to the provided data,\n          which will be handled exclusively by our partner processing the\n          payments (Nexi Payments S.p.A) and such information will be managed\n          according to their Privacy Policy. \n        ",U="The authorization has been completed.",x="\n           The payment confirming the reservation has been authorized and the\n          reservation is confirmed. \n        ",y="\n           The payment of \n          " + "\ufffd0\ufffd" + "\n           for the reservation was successful and the reservation is confirmed. \n        ",D="\n           The payment for the reservation has been successfully completed and\n          the reservation is confirmed. \n        ",V="\n           The payment of \n          " + "\ufffd0\ufffd" + "\n           for the reservation has been \n          " + "\ufffd#3\ufffd" + "\n           refunded \n          " + "\ufffd/#3\ufffd" + "\n           . \n        ",z="\n           The payment for the reservation has been \n          " + "\ufffd#2\ufffd" + "\n           refunded \n          " + "\ufffd/#2\ufffd" + "\n           . \n        ",G="You will receive a confirmation email shortly.",h="You should have received a confirmation email. Has it not arrived?",b="Forward email",X="Share details",[["class","mx-4 md:mx-8 lg:mx-12 my-3"],[1,"mx-4","md:mx-8","lg:mx-12","my-3"],[1,"text-5xl","text-center","text-primary","mb-2"],n,[1,"bg-primary","w-3/4","mx-auto","h-[1px]","mb-5"],[1,"text-xl","text-center","mb-3"],[1,"px-3","mb-3","text-xl"],[1,"block","mb-2","text-center"],C,[1,"flex","items-center","justify-center","md:flex-row","flex-col"],E,[1,"mx-2"],["tuiLink","",3,"routerLink"],P,p,f,[1,"block","text-center","text-xl",3,"location"],g,[1,"text-danger"],[1,"block","text-xl","mb-3","text-center"],L,[1,"ms-1"],[1,"flex","items-center","justify-center","mb-3"],["size","m","tuiButton","","appearance","custom",1,"btn-primary","me-2",3,"href"],F,$,v,B,["class","text-xl text-center mb-3"],U,x,y,D,V,z,G,h,["type","button","role","button","size","m",1,"cursor-pointer","inline-flex","items-center","ms-2","underline",3,"click"],["size","xs"],b,X]},template:function(C,E){1&C&&_.yuY(0,E_,23,5,"div",0),2&C&&_.C0Y(0,E.reservation?0:-1)},dependencies:[l.y,u.CI,u.Kw,s.K,d.ER,m.w,m.C,k.Q,A.Sk,A.Cb,l.cf,K.E],changeDetection:0})}return e})()},7708:(Y,R,o)=>{o.d(R,{E:()=>M});var _=o(1560),s=o(1236),t=o(4496);function I(O,S){1&O&&(t.SAx(0),t.aS0(1,4),t.k70())}function T(O,S){1&O&&(t.I0R(0,"mat-icon",5),t.OEk(1,"open_in_new"),t.C$Y())}const c=["*"];let M=(()=>{class O{constructor(){this.target="_blank",this.showIcon=!0}static#_=this.\u0275fac=function(r){return new(r||O)};static#e=this.\u0275cmp=t.In1({type:O,selectors:[["app-terms-and-conditions-link"]],inputs:{target:"target",showIcon:"showIcon"},standalone:!0,features:[t.UHJ],ngContentSelectors:c,decls:7,vars:3,consts:()=>{let N;return N="Terms and conditions",[["tuiLink","","routerLink","/terms-and-conditions",3,"target"],[1,"text-primary","whitespace-nowrap"],["content",""],["class","ms-1 inline align-middle"],N,[1,"ms-1","inline","align-middle"]]},template:function(r,l){if(1&r&&(t.kPM(),t.I0R(0,"a",0)(1,"span",1)(2,"span",null,2),t._Xx(4),t.C$Y(),t.yuY(5,I,2,0,"ng-container")(6,T,2,0,"mat-icon",3),t.C$Y()()),2&r){const d=t.Gew(3);t.E7m("target",l.target),t.yG2(5),t.C0Y(5,d.childNodes.length?-1:5),t.yG2(),t.C0Y(6,"_blank"==l.target&&l.showIcon?6:-1)}},dependencies:[s.qQ,s.ER,_.oB,_.qL],styles:["[_nghost-%COMP%]{display:inline}"]})}return O})()}}]);