"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[6124],{2368:(h,y,_)=>{_.d(y,{a:()=>It});var t=_(4496),g=_(6504),f=_(3480),p=_(580),d=_(1712),i=_(1040),r=_(5820),c=_(9052);const l=()=>[];function u(e,a){if(1&e&&(t.I0R(0,"div",1),t.wR5(1,"app-show-image",2),t.I0R(2,"span",3),t.OEk(3),t.C$Y(),t.I0R(4,"span",4),t.OEk(5),t.C$Y()()),2&e){const n=t.GaO();let o,s,C;t.yG2(),t.E7m("image",(null!==(o=null==(o=n.item())?null:o.images)&&void 0!==o?o:t.q4q(3,l))[0]),t.yG2(2),t.oRS(" #",null==(s=n.item())?null:s.id," "),t.yG2(2),t.oRS(" ",null==(C=n.item())?null:C.name," ")}}function m(e,a){1&e&&t.OEk(0," invalid input.\n")}let E=(()=>{class e{constructor(n){this.context=n,this.item=(0,t.OCB)(null);const o=n.data;o&&o instanceof r.Q?this.item.set(o):console.warn("invalid category. Please provide parm 'data' to context.",o)}static#t=this.\u0275fac=function(o){return new(o||e)(t.GI1(i.C0))};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-menu-category-select-option"]],standalone:!0,features:[t.UHJ],decls:2,vars:1,consts:[["class","flex items-center p-2"],[1,"flex","items-center","p-2"],[1,"max-h-[100px]","max-w-[100px]",3,"image"],[1,"ms-2","text-slate-400"],[1,"ms-2","text-lg"]],template:function(o,s){1&o&&t.yuY(0,u,6,4,"div",0)(1,m,1,0),2&o&&t.C0Y(0,s.item()?0:1)},dependencies:[c.y],encapsulation:2,changeDetection:0})}return e})();var T=_(1368),M=_(6096),Y=_(3797),A=_(6052),N=_(9604),x=_(8048),w=_(7936),S=_(4336),G=_(7692),D=_(6732),I=_(1560);function L(e,a){1&e&&(t.SAx(0),t.aS0(1,10),t.k70())}function P(e,a){if(1&e&&(t.SAx(0),t.OEk(1),t.k70()),2&e){const n=a.polymorpheusOutlet;t.yG2(),t.oRS(" ",n," ")}}function U(e,a){if(1&e&&t.yuY(0,P,2,1,"ng-container",11),2&e){const n=t.GaO(2);t.E7m("polymorpheusOutlet",n.optionTemplate$())}}function b(e,a){1&e&&t.C_f(0)}const $=(e,a)=>({$implicit:e,injector:a});function z(e,a){if(1&e&&t.yuY(0,b,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("polymorpheusOutlet",o.optionTemplate$())("polymorpheusOutletContext",t.IBC(2,$,n,o.injector))}}function k(e,a){1&e&&t.C_f(0)}const R=e=>({data:e});function B(e,a){if(1&e&&t.yuY(0,k,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("polymorpheusOutlet",o.optionTemplate$())("polymorpheusOutletContext",t.S45(2,R,n))}}function K(e,a){if(1&e&&t.wR5(0,"div",13),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("innerText",o.stringify(n))}}function J(e,a){if(1&e&&t.yuY(0,U,1,1)(1,z,1,5)(2,B,1,4)(3,K,1,1),2&e){const n=t.GaO();let o;t.C0Y(0,"text"===(o=n.optionTemplateType$())?0:"template"===o?1:"component"===o?2:3)}}function W(e,a){if(1&e&&(t.SAx(0),t.OEk(1),t.k70()),2&e){const n=a.polymorpheusOutlet;t.yG2(),t.oRS(" ",n," ")}}function j(e,a){if(1&e&&t.yuY(0,W,2,1,"ng-container",11),2&e){const n=t.GaO(2);t.E7m("polymorpheusOutlet",n.nativeOptionTemplate$())}}function F(e,a){1&e&&t.C_f(0)}function X(e,a){if(1&e&&t.yuY(0,F,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("polymorpheusOutlet",o.nativeOptionTemplate$())("polymorpheusOutletContext",t.IBC(2,$,n,o.injector))}}function H(e,a){1&e&&t.C_f(0)}function Q(e,a){if(1&e&&t.yuY(0,H,1,0,"ng-container",12),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("polymorpheusOutlet",o.nativeOptionTemplate$())("polymorpheusOutletContext",t.S45(2,R,n))}}function V(e,a){if(1&e&&t.wR5(0,"div",13),2&e){const n=t.GaO().$implicit,o=t.GaO();t.E7m("innerText",o.stringify(n))}}function Z(e,a){if(1&e&&t.yuY(0,j,1,1)(1,X,1,5)(2,Q,1,4)(3,V,1,1),2&e){const n=t.GaO();let o;t.C0Y(0,"text"===(o=n.nativeOptionTemplateType$())?0:"template"===o?1:"component"===o?2:3)}}function q(e,a){if(1&e&&(t.SAx(0),t.OEk(1),t.k70()),2&e){const n=t.GaO(2);t.yG2(),t.oRS(" ",n.placeholder," ")}}function tt(e,a){if(1&e&&(t.I0R(0,"span",null,14),t._Xx(2),t.C$Y(),t.yuY(3,q,2,1,"ng-container",15)),2&e){const n=t.Gew(1);t.yG2(3),t.E7m("ngIf",!n.hasChildNodes())}}function et(e,a){1&e&&(t.SAx(0),t.aS0(1,19),t.k70())}function nt(e,a){if(1&e&&(t.I0R(0,"span"),t.OEk(1),t.C$Y()),2&e){const n=t.GaO(2);t.yG2(),t.cNF(n.emptyContentString())}}function ot(e,a){1&e&&t.C_f(0)}function it(e,a){if(1&e&&(t.SAx(0),t.yuY(1,ot,1,0,"ng-container",8),t.k70()),2&e){const n=t.GaO(4);t.yG2(),t.E7m("ngTemplateOutlet",n.emptyContentTemplate())}}function at(e,a){if(1&e&&(t.SAx(0),t.yuY(1,it,2,1,"ng-container",20),t.k70()),2&e){t.GaO(2);const n=t.Gew(6),o=t.GaO();t.yG2(),t.E7m("ngIf",o.emptyContentTemplate())("ngIfElse",n)}}function _t(e,a){if(1&e&&(t.SAx(0),t.yuY(1,at,2,2,"ng-container",20),t.k70()),2&e){t.GaO();const n=t.Gew(4),o=t.GaO();t.yG2(),t.E7m("ngIf",o.emptyContent$())("ngIfElse",n)}}function ct(e,a){if(1&e&&(t.I0R(0,"span",null,16),t._Xx(2,1),t.C$Y(),t.yuY(3,et,2,0,"ng-template",null,17,t.gJz)(5,nt,2,1,"ng-template",null,18,t.gJz)(7,_t,2,2,"ng-container",15)),2&e){const n=t.Gew(1);t.yG2(7),t.E7m("ngIf",!n.hasChildNodes())}}function lt(e,a){1&e&&t.wR5(0,"tui-loader")}function st(e,a){1&e&&t.C_f(0)}function rt(e,a){if(1&e&&t.yuY(0,st,1,0,"ng-container",8),2&e){t.GaO(2);const n=t.Gew(9);t.E7m("ngTemplateOutlet",n)}}function mt(e,a){1&e&&t.C_f(0)}function pt(e,a){if(1&e&&(t.SAx(0),t.yuY(1,mt,1,0,"ng-container",8),t.k70()),2&e){t.GaO(2);const n=t.Gew(11);t.yG2(),t.E7m("ngTemplateOutlet",n)}}function ut(e,a){if(1&e&&t.yuY(0,rt,1,1,"ng-template",null,21,t.gJz)(2,pt,2,1,"ng-container",20),2&e){const n=t.Gew(1),o=t.GaO();t.yG2(2),t.E7m("ngIf",o.loading())("ngIfElse",n)}}function gt(e,a){1&e&&t.C_f(0)}function Ct(e,a){1&e&&t.C_f(0)}function ft(e,a){1&e&&t.C_f(0)}function dt(e,a){if(1&e&&(t.SAx(0),t.yuY(1,ft,1,0,"ng-container",8),t.k70()),2&e){t.GaO(4);const n=t.Gew(11);t.yG2(),t.E7m("ngTemplateOutlet",n)}}function yt(e,a){1&e&&t.C_f(0)}function Et(e,a){if(1&e){const n=t.KQA();t.I0R(0,"button",28)(1,"span",29),t.qCj("click",function(){t.usT(n);const s=t.GaO(4);return t.CGJ(s.loadMoreItems())}),t.yuY(2,yt,1,0,"ng-container",20),t.C$Y()()}if(2&e){const n=t.GaO(4),o=t.Gew(1);t.E7m("size",n.optionSize)("disabled",!0),t.yG2(2),t.E7m("ngIf",n.loadMore)("ngIfElse",o)}}function Ot(e,a){if(1&e&&(t.SAx(0),t.yuY(1,dt,2,1,"ng-container",15)(2,Et,3,4,"button",27),t.k70()),2&e){const n=t.GaO(3);t.yG2(),t.E7m("ngIf",n.loading),t.yG2(),t.E7m("ngIf",!n.loading)}}const Tt=e=>({$implicit:e});function ht(e,a){if(1&e){const n=t.KQA();t.SAx(0),t.I0R(1,"button",25),t.qCj("mouseenter",function(){const s=t.usT(n),C=s.index,O=s.last,v=t.GaO(2);return t.CGJ(v.optionMouseEnter(C,O))})("focus",function(){const s=t.usT(n),C=s.index,O=s.last,v=t.GaO(2);return t.CGJ(v.optionFocus(C,O))}),t.yuY(2,Ct,1,0,"ng-container",26),t.C$Y(),t.yuY(3,Ot,3,2,"ng-container",15),t.k70()}if(2&e){const n=a.$implicit,o=a.last,s=t.GaO(2),C=t.Gew(5);t.yG2(),t.E7m("size",s.optionSize)("value",n)("disabled",s.disabledItemHandler(n)),t.yG2(),t.E7m("ngTemplateOutlet",C)("ngTemplateOutletContext",t.S45(6,Tt,n)),t.yG2(),t.E7m("ngIf",o&&s.thereAreMoreItems)}}function St(e,a){if(1&e){const n=t.KQA();t.I0R(0,"span",33),t.qCj("click",function(){t.usT(n);const s=t.GaO(3);return t.CGJ(s.createNew.emit())}),t.I0R(1,"mat-icon"),t.OEk(2,"add"),t.C$Y(),t.I0R(3,"span"),t.aS0(4,34),t.C$Y()()}}function Mt(e,a){if(1&e&&(t.I0R(0,"button",30)(1,"span",null,31),t._Xx(3,2),t.C$Y(),t.yuY(4,St,5,0,"span",32),t.C$Y()),2&e){const n=t.Gew(2),o=t.GaO(2);t.E7m("size",o.optionSize)("value",null)("disabled",!0),t.yG2(4),t.E7m("ngIf",!n.hasChildNodes())}}function xt(e,a){if(1&e&&(t.I0R(0,"tui-data-list",22),t.yuY(1,ht,4,8,"ng-container",23)(2,Mt,5,4,"button",24),t.C$Y()),2&e){const n=t.GaO(),o=t.Gew(13);t.E7m("emptyContent",o),t.yG2(),t.E7m("ngForOf",n.items()),t.yG2(),t.E7m("ngIf",n.showCreateNew)}}const vt=["*",[["","empty-content",""]],[["","create-new",""]]],Gt=["*","[empty-content]","[create-new]"];let It=(()=>{class e extends p.m{constructor(){super(),this.stringify=n=>n.name??"",this.service=(0,t.uUt)(d.S),this.nativeOptionTemplate$.set(new i.WO(E))}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-menu-category-select"]],inputs:{outputType:"outputType",multiple:"multiple",service:"service",stringify:"stringify",query:"query",autofocus:"autofocus",placeholder:"placeholder",optionTemplate:"optionTemplate",stringifyOption:"stringifyOption",inputSize:"inputSize",page:"page",per_page:"per_page",optionSize:"optionSize",disabledItemHandler:"disabledItemHandler",loadMoreOnLastItem:"loadMoreOnLastItem",emptyContent:"emptyContent",showCreateNew:"showCreateNew",nativeOptionTemplate:"nativeOptionTemplate",filters:"filters",showCleaner:"showCleaner"},outputs:{httpError:"httpError",pageChange:"pageChange",queryChange:"queryChange",per_pageChange:"per_pageChange",createNew:"createNew"},standalone:!0,features:[t.M5G([{provide:g.Y6,useExisting:(0,t.wd)(()=>e),multi:!0},f.UF]),t.eg9,t.UHJ],ngContentSelectors:Gt,decls:17,vars:6,consts:()=>{let n,o,s;return n="Load more",o="We found nothing.",s="Create new",[["loadMoreDefault",""],["valueContent",""],["nativeOptionTemplate",""],["placeholderTemplate",""],["nativeEmptyContentTemplate",""],["loadingTemplate",""],["loadingOrEmptyContent",""],[3,"tuiTextfieldCleaner","stringify","tuiTextfieldSize","formControl","valueContent","searchChange"],[4,"ngTemplateOutlet"],[3,"emptyContent",4,"tuiDataList"],n,[4,"polymorpheusOutlet"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"innerText"],["customContent",""],[4,"ngIf"],["customEmptyContent",""],["defaultEmptyContent",""],["emptyContentCustomString",""],o,[4,"ngIf","ngIfElse"],["empty",""],[3,"emptyContent"],[4,"ngFor","ngForOf"],["tuiOption","",3,"size","value","disabled",4,"ngIf"],["tuiOption","",3,"size","value","disabled","mouseenter","focus"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tuiOption","",3,"size","disabled",4,"ngIf"],["tuiOption","",3,"size","disabled"],["role","button",3,"click"],["tuiOption","",3,"size","value","disabled"],["createNewCustomTemplate",""],["role","button","class","d-flex align-items-center",3,"click",4,"ngIf"],["role","button",1,"d-flex","align-items-center",3,"click"],s]},template:function(o,s){if(1&o&&(t.kPM(vt),t.yuY(0,L,2,0,"ng-template",null,0,t.gJz)(2,J,4,1,"ng-template",null,1,t.gJz)(4,Z,4,1,"ng-template",null,2,t.gJz)(6,tt,4,1,"ng-template",null,3,t.gJz)(8,ct,8,1,"ng-template",null,4,t.gJz)(10,lt,1,0,"ng-template",null,5,t.gJz)(12,ut,3,2,"ng-template",null,6,t.gJz),t.I0R(14,"tui-combo-box",7),t.qCj("searchChange",function(O){return s.onSearchChange(O)}),t.yuY(15,gt,1,0,"ng-container",8)(16,xt,3,3,"tui-data-list",9),t.C$Y()),2&o){const C=t.Gew(3),O=t.Gew(7);t.yG2(14),t.E7m("tuiTextfieldCleaner",s.showCleaner)("stringify",s.stringify)("tuiTextfieldSize",s.inputSize)("formControl",s.control)("valueContent",C),t.yG2(),t.E7m("ngTemplateOutlet",O)}},dependencies:[T.MD,T.ay,T.u_,T.XV,M.uk,M.i_,M.qI,x.aS,x.es,x.rD,w.KA,Y.CQ,S.A$,S.yi,S.sP,S.Ux,A.q8,g.sl,g.ue,g.ug,D.kR,N.CA,G.Sk,G.Cb,i.Ux,i.Af,I.oB,I.qL],changeDetection:0})}return e})()},9052:(h,y,_)=>{_.d(y,{y:()=>c});var t=_(4496),g=_(7760),f=_(6700),p=_(7368),d=_(2700),i=_(1368);function r(l,u){if(1&l&&(t.wR5(0,"img",1),t.wVc(1,"async")),2&l){const m=t.GaO();t.m8U(m.imgClass),t._6D("src",t.kDX(1,5,m.imageSrc$),t.K6U),t.E7m("draggable",!1)}}let c=(()=>{class l{constructor(){this.noImage="/assets/img/no-image.jpg",this.imagesService=(0,t.uUt)(g.U),this.imgClass="block rounded",this.image$=new f.g(null),this.imageSrc$=this.image$.pipe((0,p.G)(m=>m instanceof Blob?(0,d.of)(URL.createObjectURL(m)):m&&m.id?this.imagesService.downloadUrl(m.id):(0,d.of)(this.noImage)))}set image(m){this.image$.next(m??null)}static#t=this.\u0275fac=function(E){return new(E||l)};static#e=this.\u0275cmp=t.In1({type:l,selectors:[["app-show-image"]],inputs:{imgClass:"imgClass",image:"image"},standalone:!0,features:[t.UHJ],decls:2,vars:3,consts:[[3,"draggable","class","src"],[3,"draggable","src"]],template:function(E,T){1&E&&(t.yuY(0,r,2,7,"img",0),t.wVc(1,"async")),2&E&&t.C0Y(0,t.kDX(1,1,T.imageSrc$)?0:-1)},dependencies:[i.a],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;min-height:100px}"],changeDetection:0})}return l})()},5820:(h,y,_)=>{_.d(y,{Q:()=>p});var t=_(8400);class g extends t.w{constructor(i){super(i),this.public_visible=i.public_visible,this.public_from=i.public_from?new Date(i.public_from):void 0,this.public_to=i.public_to?new Date(i.public_to):void 0,this.private_visible=i.private_visible,this.daily_from=i.daily_from?new Date(i.daily_from):void 0,this.daily_to=i.daily_to?new Date(i.daily_to):void 0}}var f=_(2264);class p extends t.w{constructor(i){super(i),this.name=i.name,this.description=i.description,this.status=i.status,this.price=i.price,this.parent_id=i.parent_id,this.index=i.index,this.secret=i.secret,this.secret_desc=i.secret_desc,this.visibility_id=i.visibility_id,this.visibility=i.visibility?new g(i.visibility):void 0,this.parent=i.parent?new p(i.parent):void 0,this.children=i.children?i.children.map(r=>new p(r)):[],this.images=i.images?i.images.map(r=>new f.W(r)):[],this.translations=i.translations,this.stats=i.stats}}},9088:(h,y,_)=>{_.d(y,{S:()=>f});var t=_(4496);const g={menuCategory:{show:"/admin/menu/{itemId}",duplicate:"/admin/menu/{itemId}/duplicate",export:"/admin/menu/{itemId}/export",createChild:"/admin/menu/{itemId}/create-category",linkCategory:"/admin/menu/{itemId}/link-category",createDish:"/admin/menu/{itemId}/create-dish",linkDish:"/admin/menu/{itemId}/link-dish",private:"/menu/{itemId}",public:"/menu/{itemId}"},dish:{show:"/admin/menu/{categoryId}/dish/{itemId}"}};let f=(()=>{class p{transform(i,r){const c=g[r.split(".")[0]];if(!c)throw new Error(`Resource not found: ${r} (resouce: ${r.split(".")[0]})`);const l=r.split(".")[1];if(!c[l])throw new Error(`Action not found: ${r} (action: ${l})`);if(typeof i>"u"||null===i)return null;if("number"==typeof i&&(i=i.toString()),"object"==typeof i&&null!==i&&!Array.isArray(i)){let u=c[l];if(Object.keys(i).forEach(m=>{const E=i[m];void 0!==E&&u.includes(`{${m}}`)&&(u=u.replace(`{${m}}`,E??""))}),u.includes("{{"))throw new Error(`Unresolved interpolation: ${u}`);return u}if("string"!=typeof i)throw new Error(`Invalid itemId: ${i} (type: ${typeof i})`);return c[l].replace("{itemId}",i)}static#t=this.\u0275fac=function(r){return new(r||p)};static#e=this.\u0275pipe=t.UTH({name:"urlTo",type:p,pure:!0,standalone:!0})}return p})()},7760:(h,y,_)=>{_.d(y,{U:()=>p});var t=_(6012),g=_(2264),f=_(4496);let p=(()=>{class d extends t.s{constructor(){super(g.W,"images")}removeFromRecord(r,c){return this.patch(`${r}/remove_from_record`,{record_type:c.record_type,record_id:c.record_id})}updateRecord(r,c){return this.patch("record",{image_ids:c,record_type:r.record_type,record_id:r.record_id})}downloadUrl(r){return this.url(`${r}/download`)}static#t=this.\u0275fac=function(c){return new(c||d)};static#e=this.\u0275prov=f.wxM({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},1712:(h,y,_)=>{_.d(y,{S:()=>d});var t=_(6012),g=_(5820),f=_(4704),p=_(4496);let d=(()=>{class i extends t.s{constructor(){super(g.Q,"admin/menu/categories")}addCategory(c,l,u={}){return this.post(`${c}/add_category/${l}`,u)}addDish(c,l){return this.post(`${c}/dishes/${l}`,{})}removeDish(c,l){return this.delete(`${c}/dishes/${l}`,{})}orderDishes(c,l){return this.patch(`${c}/order_dishes`,{field:l})}dashboardData(c){return this.get(`${c}/dashboard_data`)}updateVisibility(c,l){return this.patch(`${c}/visibility`,l).pipe((0,f.k)(u=>this.mapItem(u)))}copy(c,l){return this.post(`${c}/copy`,l).pipe((0,f.k)(u=>this.mapItem(u)))}move(c,l){return this.patch(`${c}/move/${l}`,{}).pipe((0,f.k)(u=>this.mapItem(u)))}static#t=this.\u0275fac=function(l){return new(l||i)};static#e=this.\u0275prov=p.wxM({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()}}]);