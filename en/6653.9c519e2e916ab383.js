"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[6653],{6653:(S,r,s)=>{s.r(r),s.d(r,{NewModule:()=>v});var i=s(1236),l=s(7552),t=s(4496),c=s(2192),m=s(1128),a=s(3480),d=s(1260),f=s(3616),g=s(4476);let p=(()=>{class n{constructor(){this.router=(0,t.uUt)(i.E5),this.route=(0,t.uUt)(i.gV),this.destroy$=(0,t.uUt)(a.UF),this.notifications=(0,t.uUt)(m.E),this.service=(0,t.uUt)(d.U),this._=(0,t.uUt)(g.OY).setTitle("New message to the reservation | La Porta D'Acqua")}submit(o){this.service.create({from_date:o.from_date?o.from_date.toString("YMD"):void 0,to_date:o.to_date?o.to_date.toString("YMD"):void 0,message:o.translations,turn_ids:(o.turns||[]).map(e=>e.id).filter(e=>"number"==typeof e&&e>0)}).pipe((0,f.a)(this.destroy$)).subscribe({next:e=>{this.router.navigate(["../",e.id],{relativeTo:this.route})},error:()=>{this.notifications.error("messages.error")}})}close(){this.router.navigate(["../"],{relativeTo:this.route})}static#t=this.\u0275fac=function(e){return new(e||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-new"]],standalone:!0,features:[t.M5G([a.UF]),t.UHJ],decls:3,vars:0,consts:()=>{let o;return o="New message to the reservation",[o,[3,"onSubmit","onCancel"]]},template:function(e,u){1&e&&(t.I0R(0,"h1"),t.aS0(1,0),t.C$Y(),t.I0R(2,"app-reservation-turn-message-form",1),t.qCj("onSubmit",function(h){return u.submit(h)})("onCancel",function(){return u.close()}),t.C$Y())},dependencies:[c.c],encapsulation:2,changeDetection:0})}return n})(),v=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#e=this.\u0275mod=t.a4G({type:n});static#o=this.\u0275inj=t.s3X({imports:[i.qQ.forChild([(0,l.VV)(p,{path:"",closeable:!0,dismissible:!0,size:"l"})])]})}return n})()}}]);