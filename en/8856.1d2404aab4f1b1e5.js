"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[8856],{8856:(A,O,o)=>{o.r(O),o.d(O,{MenuComponent:()=>Jt});var t=o(4496),f=o(7048),g=o(1236),u=o(8256),r=o(8392),l=o(5820),P=o(6012);let p=(()=>{class n extends P.s{constructor(){super(l.Q,"menu/categories")}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=t.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var T=o(4824);let U=(()=>{class n extends P.s{constructor(){super(T.o,"menu/allergens")}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=t.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var v=o(5891);let R=(()=>{class n extends P.s{constructor(){super(v.S,"menu/dishes")}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=t.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var E=o(532);let N=(()=>{class n extends P.s{constructor(){super(E.e,"menu/ingredients")}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=t.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),G=(()=>{class n{constructor(){this.allergens=(0,t.uUt)(U),this.categories=(0,t.uUt)(p),this.dishes=(0,t.uUt)(R),this.ingredients=(0,t.uUt)(N),this.searchAllergens=this.allergens.search.bind(this.allergens),this.searchCategories=this.categories.search.bind(this.categories),this.searchDishes=this.dishes.search.bind(this.dishes),this.searchIngredients=this.ingredients.search.bind(this.ingredients),this.showAllergen=this.allergens.show.bind(this.allergens),this.showCategory=this.categories.show.bind(this.categories),this.showDish=this.dishes.show.bind(this.dishes),this.showIngredient=this.ingredients.show.bind(this.ingredients)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=t.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var L=o(1128),m=o(3480),S=o(8016),s=o(7692),C=o(1512),M=o(8212),I=o(3616),F=o(8824),$=o(9212),H=o(2700),W=o(4704),q=o(4e3),z=o(1560),Z=o(1040),K=o(1368),X=o(9052);const lt=(n,a)=>a.id;function tt(n,a){if(1&n&&(t.I0R(0,"div",1)(1,"div",2),t.wR5(2,"app-show-image",3),t.OEk(3),t.C$Y()()),2&n){const e=a.$implicit;t.aUe("border-color: ",e.color,""),t.yG2(2),t.E7m("image",e.image),t.yG2(),t.oRS(" ",e.name," ")}}const et=()=>[];let nt=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-public-menu-show-tags"]],inputs:{tags:"tags"},standalone:!0,features:[t.UHJ],decls:3,vars:1,consts:[[1,"block"],[1,"inline-flex","rounded","h-[50px]","overflow-hidden","border","p-2","me-1","mb-1"],[1,"flex","items-center"],[1,"max-w-[30px]","max-h-[30px]","me-1",3,"image"],["class","inline-flex rounded h-[50px] overflow-hidden border p-2 me-1 mb-1",3,"style"]],template:function(i,c){if(1&i&&(t.I0R(0,"div",0),t.c53(1,tt,4,5,"div",4,lt),t.C$Y()),2&i){let h;t.yG2(),t.oho(null!==(h=c.tags)&&void 0!==h?h:t.q4q(0,et))}},dependencies:[X.y],changeDetection:0})}return n})();const it=(n,a)=>a.id;function _(n,a){1&n&&(t.I0R(0,"div",7),t.wR5(1,"hr",8),t.C$Y())}function y(n,a){if(1&n&&(t.wR5(0,"app-show-image",3),t.I0R(1,"div",4)(2,"p",5),t.OEk(3),t.C$Y()(),t.yuY(4,_,2,0,"div",6)),2&n){const e=a.$implicit,i=a.$index,c=a.$count;t.E7m("image",e.image),t.yG2(3),t.cNF(e.name),t.yG2(),t.C0Y(4,i!==c-1?4:-1)}}const d=()=>[];let x=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-public-menu-show-allergens"]],inputs:{allergens:"allergens"},standalone:!0,features:[t.UHJ],decls:5,vars:1,consts:()=>{let e;return e="Allergens",[[1,"text-3xl","mb-3"],e,[1,"grid","grid-cols-[minmax(20px,_50px)_auto]","gap-y-3","gap-x-2","mb-3"],[1,"max-h-[50x]",3,"image"],[1,"flex","items-center"],[1,"text-lg"],["class","col-span-2"],[1,"col-span-2"],[1,"mb-3","h-[1px]","w-75","mx-auto"]]},template:function(i,c){if(1&i&&(t.I0R(0,"h3",0),t.aS0(1,1),t.C$Y(),t.I0R(2,"div",2),t.c53(3,y,5,3,null,null,it),t.C$Y()),2&i){let h;t.yG2(3),t.oho(null!==(h=c.allergens)&&void 0!==h?h:t.q4q(0,d))}},dependencies:[X.y],changeDetection:0})}return n})();const w=(n,a)=>a.id;function j(n,a){1&n&&(t.I0R(0,"div",7),t.wR5(1,"hr",8),t.C$Y())}function ot(n,a){if(1&n&&(t.wR5(0,"app-show-image",3),t.I0R(1,"div",4)(2,"p",5),t.OEk(3),t.C$Y()(),t.yuY(4,j,2,0,"div",6)),2&n){const e=a.$implicit,i=a.$index,c=a.$count;t.E7m("image",e.image),t.yG2(3),t.cNF(e.name),t.yG2(),t.C0Y(4,i!==c-1?4:-1)}}const st=()=>[];let Q=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-public-menu-show-ingredients"]],inputs:{ingredients:"ingredients"},standalone:!0,features:[t.UHJ],decls:5,vars:1,consts:()=>{let e;return e="Ingredients",[[1,"text-3xl","mb-3"],e,[1,"grid","grid-cols-[minmax(20px,_50px)_auto]","gap-y-3","gap-x-2","mb-3"],[1,"max-h-[50x]",3,"image"],[1,"flex","items-center"],[1,"text-lg"],["class","col-span-2"],[1,"col-span-2"],[1,"mb-3","h-[1px]","w-75","mx-auto"]]},template:function(i,c){if(1&i&&(t.I0R(0,"h3",0),t.aS0(1,1),t.C$Y(),t.I0R(2,"div",2),t.c53(3,ot,5,3,null,null,w),t.C$Y()),2&i){let h;t.yG2(3),t.oho(null!==(h=c.ingredients)&&void 0!==h?h:t.q4q(0,st))}},dependencies:[X.y],changeDetection:0})}return n})();var at=o(3688);const dt=(n,a)=>a.id;function ht(n,a){1&n&&(t.I0R(0,"div",8),t.wR5(1,"hr",9),t.C$Y())}function gt(n,a){if(1&n&&(t.wR5(0,"app-public-show-images",4),t.I0R(1,"div",5)(2,"p",6),t.OEk(3),t.C$Y()(),t.yuY(4,ht,2,0,"div",7)),2&n){const e=a.$implicit,i=a.$index,c=a.$count;t.E7m("images",e.images),t.yG2(3),t.cNF(e.name),t.yG2(),t.C0Y(4,i!==c-1?4:-1)}}const mt=()=>[];let pt=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-public-menu-show-suggestions"]],inputs:{dishes:"dishes"},standalone:!0,features:[t.UHJ],decls:7,vars:1,consts:()=>{let e;return e="Winning pairs",[[1,"text-3xl","mb-2"],e,[1,"text-xl","mb-3","text-slate-400"],[1,"grid","grid-cols-[minmax(100px,_25%)_auto]","gap-y-3","gap-x-2","mb-3"],[1,"block",3,"images"],[1,"flex","items-center"],[1,"text-lg"],["class","col-span-2"],[1,"col-span-2"],[1,"mb-3","h-[1px]","w-75","mx-auto"]]},template:function(i,c){if(1&i&&(t.I0R(0,"h3",0),t.aS0(1,1),t.C$Y(),t.I0R(2,"p",2),t.OEk(3,"Altri clienti assieme a questo piatto prendono:"),t.C$Y(),t.I0R(4,"div",3),t.c53(5,gt,5,3,null,null,dt),t.C$Y()),2&i){let h;t.yG2(5),t.oho(null!==(h=c.dishes)&&void 0!==h?h:t.q4q(0,mt))}},dependencies:[at.s],changeDetection:0})}return n})();const B=()=>[];function Ct(n,a){if(1&n&&t.wR5(0,"app-public-menu-show-tags",12),2&n){const e=t.GaO(2);let i;t.E7m("tags",null!==(i=null==(i=e.dish())?null:i.tags)&&void 0!==i?i:t.q4q(1,B))}}function ft(n,a){if(1&n&&(t.I0R(0,"p",13),t.OEk(1),t.C$Y()),2&n){const e=t.GaO(2);let i;t.yG2(),t.cNF(null==(i=e.dish())?null:i.description)}}function Et(n,a){if(1&n&&(t.I0R(0,"div",14),t.OEk(1),t.wVc(2,"currency"),t.C$Y()),2&n){const e=t.GaO(2);let i;t.yG2(),t.oRS(" ",t.kDX(2,1,null==(i=e.dish())?null:i.price)," ")}}function Mt(n,a){if(1&n&&t.wR5(0,"app-public-menu-show-allergens",15),2&n){const e=t.GaO(2);let i;t.E7m("allergens",null!==(i=null==(i=e.dish())?null:i.allergens)&&void 0!==i?i:t.q4q(1,B))}}function vt(n,a){if(1&n&&t.wR5(0,"app-public-menu-show-ingredients",10),2&n){const e=t.GaO(2);let i;t.E7m("ingredients",null!==(i=null==(i=e.dish())?null:i.ingredients)&&void 0!==i?i:t.q4q(1,B))}}function Ot(n,a){if(1&n&&t.wR5(0,"app-public-menu-show-suggestions",11),2&n){const e=t.GaO(2);let i;t.E7m("dishes",null!==(i=null==(i=e.dish())?null:i.suggestions)&&void 0!==i?i:t.q4q(1,B))}}function Pt(n,a){if(1&n){const e=t.KQA();t.wR5(0,"app-public-show-images",0),t.I0R(1,"div",1)(2,"button",2),t.qCj("click",function(){t.usT(e);const c=t.GaO();return t.CGJ(c.close())}),t.I0R(3,"span",3)(4,"mat-icon"),t.OEk(5,"arrow_back"),t.C$Y(),t.I0R(6,"span"),t.aS0(7,4),t.C$Y()()()(),t.yuY(8,Ct,1,2,"app-public-menu-show-tags",5),t.I0R(9,"h2",6),t.OEk(10),t.C$Y(),t.yuY(11,ft,2,1,"p",7)(12,Et,3,3,"div",8)(13,Mt,1,2,"app-public-menu-show-allergens",9)(14,vt,1,2,"app-public-menu-show-ingredients",10)(15,Ot,1,2,"app-public-menu-show-suggestions",11)}if(2&n){const e=t.GaO();let i,c,h,b,D,k,J,V;t.E7m("images",null==(i=e.dish())?null:i.images),t.yG2(8),t.C0Y(8,((null==(c=e.dish())?null:c.tags)||t.q4q(8,B)).length>0?8:-1),t.yG2(2),t.cNF(null==(h=e.dish())?null:h.name),t.yG2(),t.C0Y(11,null!=(b=e.dish())&&b.description?11:-1),t.yG2(),t.C0Y(12,e.showPrice()&&(null!==(D=null==(D=e.dish())?null:D.price)&&void 0!==D?D:0)>0?12:-1),t.yG2(),t.C0Y(13,((null==(k=e.dish())?null:k.allergens)||t.q4q(9,B)).length>0?13:-1),t.yG2(),t.C0Y(14,((null==(J=e.dish())?null:J.ingredients)||t.q4q(10,B)).length>0?14:-1),t.yG2(),t.C0Y(15,(null!==(V=null==(V=e.dish())?null:V.suggestions)&&void 0!==V?V:t.q4q(11,B)).length>0?15:-1)}}let It=(()=>{class n{constructor(e){this.context=e,this.dish=(0,t.OCB)(null),this.showPrice=(0,t.OCB)(!1),this.dish.set(this.context.data.dish),this.showPrice.set(this.context.data.showPrice)}close(){this.context.completeWith(null)}static#t=this.\u0275fac=function(i){return new(i||n)(t.GI1(Z.C0))};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-public-dish-modal"]],standalone:!0,features:[t.UHJ],decls:1,vars:1,consts:()=>{let e;return e="Back",[[1,"block","mb-3",3,"images"],[1,"block","my-3"],["type","button","tuiLink","",3,"click"],[1,"flex"],e,["class","block mb-3",3,"tags"],[1,"text-4xl","mb-3"],["class","text-xl text-slate-400 mb-3"],["class","text-lg w-fit text-success-dark rounded border border-success-dark py-2 px-4 mb-3"],["class","block mb-3",3,"allergens"],[3,"ingredients"],[3,"dishes"],[1,"block","mb-3",3,"tags"],[1,"text-xl","text-slate-400","mb-3"],[1,"text-lg","w-fit","text-success-dark","rounded","border","border-success-dark","py-2","px-4","mb-3"],[1,"block","mb-3",3,"allergens"]]},template:function(i,c){1&i&&t.yuY(0,Pt,16,12),2&i&&t.C0Y(0,c.dish()?0:-1)},dependencies:[K.cf,nt,x,Q,pt,at.s,z.oB,z.qL],changeDetection:0})}return n})();var ct=o(8088);const rt=(n,a)=>a.id,Tt=()=>[".."];function yt(n,a){1&n&&(t.I0R(0,"div",5)(1,"a",6)(2,"span",7)(3,"mat-icon"),t.OEk(4,"arrow_back"),t.C$Y(),t.I0R(5,"span"),t.aS0(6,8),t.C$Y()()()()),2&n&&(t.yG2(),t.E7m("routerLink",t.q4q(1,Tt)))}function xt(n,a){if(1&n&&t.yuY(0,yt,7,2,"div",4),2&n){const e=t.GaO();t.C0Y(0,e.selectedCategory()?0:-1)}}function Nt(n,a){if(1&n&&(t.I0R(0,"p",17),t.OEk(1),t.C$Y()),2&n){const e=t.GaO(2);let i;t.yG2(),t.cNF(null==(i=e.selectedCategory())?null:i.description)}}function Dt(n,a){if(1&n&&(t.I0R(0,"div",18),t.SAx(1),t.aS0(2,19),t.k70(),t.OEk(3),t.wVc(4,"currency"),t.C$Y()),2&n){const e=t.GaO(2);let i;t.yG2(3),t.oRS(" : ",t.kDX(4,1,null==(i=e.selectedCategory())?null:i.price)," ")}}const _t=n=>[n];function St(n,a){if(1&n&&(t.I0R(0,"a",20),t.OEk(1),t.C$Y(),t.I0R(2,"mat-icon",15),t.OEk(3,"chevron_right"),t.C$Y()),2&n){const e=a.$implicit,i=a.$index,c=t.GaO(2);t.E7m("routerLink",t.S45(2,_t,c.breadcrumbUrls()[i])),t.yG2(),t.oRS(" ",e.name," ")}}function Lt(n,a){1&n&&t.C_f(0)}function Rt(n,a){if(1&n&&(t.I0R(0,"p",9),t.OEk(1),t.C$Y(),t.yuY(2,Nt,2,1,"p",10)(3,Dt,5,3,"div",11),t.I0R(4,"div",12)(5,"div",13)(6,"a",14),t.OEk(7," Menu "),t.C$Y(),t.I0R(8,"mat-icon",15),t.OEk(9,"chevron_right"),t.C$Y(),t.c53(10,St,4,4,null,null,rt),t.I0R(12,"span",16),t.OEk(13),t.C$Y()()(),t.yuY(14,Lt,1,0,"ng-container",3)),2&n){const e=t.GaO(),i=t.Gew(1);let c,h,b,D;t.yG2(),t.cNF(null==(c=e.selectedCategory())?null:c.name),t.yG2(),t.C0Y(2,null!=(h=e.selectedCategory())&&null!=h.description&&h.description.length?2:-1),t.yG2(),t.C0Y(3,null!=(b=e.selectedCategory())&&b.price?3:-1),t.yG2(7),t.oho(e.breadcrumbs()),t.yG2(3),t.oRS(" ",null==(D=e.selectedCategory())?null:D.name," "),t.yG2(),t.E7m("ngTemplateOutlet",i)}}function bt(n,a){1&n&&(t.I0R(0,"h1",9),t.aS0(1,21),t.C$Y(),t.I0R(2,"p",17),t.aS0(3,22),t.C$Y())}function At(n,a){1&n&&(t.SAx(0),t.aS0(1,23),t.k70())}function wt(n,a){1&n&&(t.SAx(0),t.aS0(1,24),t.k70())}function Ut(n,a){if(1&n&&t.yuY(0,At,2,0,"ng-container")(1,wt,2,0),2&n){const e=t.GaO();t.C0Y(0,e.loading()?0:1)}}function Gt(n,a){if(1&n&&(t.I0R(0,"div",35),t.SAx(1),t.aS0(2,36),t.k70(),t.OEk(3),t.wVc(4,"currency"),t.C$Y()),2&n){const e=t.GaO().$implicit;t.yG2(3),t.oRS(" : ",t.kDX(4,1,e.price),"")}}function $t(n,a){1&n&&t.wR5(0,"hr",37)}function Bt(n,a){if(1&n&&(t.I0R(0,"a",25)(1,"div",13)(2,"div",26),t.wR5(3,"app-public-show-images",27),t.C$Y(),t.I0R(4,"div",28)(5,"p",29),t.OEk(6),t.C$Y(),t.I0R(7,"p",30),t.OEk(8),t.C$Y(),t.yuY(9,Gt,5,3,"div",31),t.C$Y()(),t.I0R(10,"div")(11,"button",32),t.SAx(12),t.aS0(13,33),t.k70(),t.C$Y()()(),t.yuY(14,$t,1,0,"hr",34)),2&n){const e=a.$implicit,i=a.$index,c=a.$count;t.E7m("routerLink",t.S45(6,_t,e.id)),t.yG2(3),t.E7m("images",null==e?null:e.images),t.yG2(3),t.cNF(e.name),t.yG2(2),t.cNF(e.description),t.yG2(),t.C0Y(9,e.price?9:-1),t.yG2(5),t.C0Y(14,i!==c-1?14:-1)}}function kt(n,a){if(1&n&&(t.I0R(0,"span",50),t.OEk(1),t.C$Y()),2&n){const e=t.GaO().$implicit;t.yG2(),t.oRS(" ",e.description," ")}}function Vt(n,a){1&n&&(t.SAx(0),t.OEk(1,"-"),t.k70())}function Yt(n,a){if(1&n&&(t.OEk(0),t.wVc(1,"currency")),2&n){const e=t.GaO().$implicit;t.oRS(" ",t.kDX(1,1,e.price)," ")}}function Ft(n,a){1&n&&t.wR5(0,"hr",37)}const Wt=n=>({dishId:n});function Ht(n,a){if(1&n&&(t.I0R(0,"a",38)(1,"div",39)(2,"div",40),t.wR5(3,"app-public-show-images",27),t.C$Y(),t.I0R(4,"div",28)(5,"p",41),t.OEk(6),t.C$Y(),t.I0R(7,"p",42),t.yuY(8,kt,2,1,"ng-template",null,43,t.gJz),t.wR5(10,"tui-line-clamp",44),t.C$Y()(),t.I0R(11,"div",45),t.yuY(12,Vt,2,0,"ng-container")(13,Yt,2,3),t.C$Y(),t.I0R(14,"div",46)(15,"button",47)(16,"span",7)(17,"mat-icon"),t.OEk(18,"visibility"),t.C$Y(),t.I0R(19,"span",48),t.aS0(20,49),t.C$Y()()()()()(),t.yuY(21,Ft,1,0,"hr",34)),2&n){const e=a.$implicit,i=a.$index,c=a.$count,h=t.Gew(9),b=t.GaO();t.E7m("routerLink",".")("queryParams",t.S45(9,Wt,e.id)),t.yG2(3),t.E7m("images",null==e?null:e.images),t.yG2(3),t.cNF(e.name),t.yG2(4),t.E7m("lineHeight",28)("linesLimit",8)("content",h),t.yG2(2),t.C0Y(12,0==e.price?12:b.showDishPrice()?13:-1),t.yG2(9),t.C0Y(21,i!==c-1?21:-1)}}function zt(n,a){1&n&&t.C_f(0)}let Kt=(()=>{class n{constructor(){this.destroy=(0,t.uUt)(m.UF),this.notifications=(0,t.uUt)(L.E),this.route=(0,t.uUt)(g.gV),this.router=(0,t.uUt)(g.E5),this.menuService=(0,t.uUt)(G),this.dialogs=(0,t.uUt)(S._k),this.injector=(0,t.uUt)(t.zZn),this.categoriesData=(0,t.OCB)(null),this.categories=(0,t.S6b)(()=>this.categoriesData()?.items||[]),this.loadingCategories=(0,t.OCB)(!0),this.dishesData=(0,t.OCB)(null),this.dishes=(0,t.S6b)(()=>this.dishesData()?.items||[]),this.loadingDishes=(0,t.OCB)(!1),this.categoriesByIdCache={},this.dishesByIdCache={},this.loading=(0,t.S6b)(()=>this.loadingCategories()||this.loadingDishes()),this.selectedCategory=(0,t.OCB)(null),this.breadcrumbs=(0,t.OCB)([]),this.breadcrumbUrls=(0,t.OCB)([]),this.showDishPrice=(0,t.OCB)(!0)}ngOnInit(){this.listenRouteParamsAndPopulateBreadcrumb(),this.listenQueryParamsAndShowDishDetail(),setInterval(()=>{this.categoriesByIdCache={},this.dishesByIdCache={}},18e4)}showDishDetail(e){this.closeDishDetailModal(),this.dishDetailSub=this.dialogs.open(new Z.WO(It,this.injector),{data:{dish:e,showPrice:this.showDishPrice()},dismissible:!0,closeable:!0,label:void 0}).pipe((0,I.a)(this.destroy)).subscribe({complete:()=>{this.router.navigate([],{relativeTo:this.route,queryParams:{dishId:null},queryParamsHandling:"merge"})},error:i=>console.error(i)})}closeDishDetailModal(){this.dishDetailSub&&this.dishDetailSub.unsubscribe()}selectCategory(e){this.selectedCategory.set(e),e&&e.id?(this.loadCategories({parent_id:e.id}),this.loadDishes({category_id:e.id})):(this.dishesData.set(null),this.loadRootCategories())}loadRootCategories(){this.loadCategories({root:!0,per_page:100})}loadCategories(e={}){this.loadingCategories.set(!0),e||={},e.skip_empty_categories=!0,e.per_page=1e3,this.menuService.searchCategories(e).pipe((0,I.a)(this.destroy),(0,F.U)(()=>this.loadingCategories.set(!1)),(0,$.y)(i=>this.writeCategoriesCache(i.items))).subscribe({next:i=>{this.categoriesData.set(i)},error:i=>{this.notifications.error(i instanceof f.gj?(0,u.mk)(i):r.a)}})}loadDishes(e={}){this.loadingDishes.set(!0),e||={},e.include_all=!0,e.per_page=1e3,this.menuService.searchDishes(e).pipe((0,I.a)(this.destroy),(0,F.U)(()=>this.loadingDishes.set(!1)),(0,$.y)(i=>this.writeDishesCache(i.items))).subscribe({next:i=>{this.dishesData.set(i)},error:i=>{this.notifications.error(i instanceof f.gj?(0,u.mk)(i):r.a)}})}findAndShowDish(e){if("string"==typeof e&&(e=Number(e)),"number"!=typeof e)return void console.error(`Invalid dish id: ${e}`,e);const i=e,c=D=>{this.showDishDetail(D)},h=this.readDishesCache(i);(h?(0,H.of)(h):this.menuService.showDish(i)).pipe((0,I.a)(this.destroy),(0,$.y)(D=>this.writeDishesCache([D]))).subscribe({next:D=>c(D),error:D=>{this.notifications.error(D instanceof f.gj?(0,u.mk)(D):r.a)}})}listenQueryParamsAndShowDishDetail(){this.route.queryParams.pipe((0,I.a)(this.destroy)).subscribe({next:e=>{e.dishId?this.findAndShowDish(e.dishId):this.closeDishDetailModal()}})}listenRouteParamsAndPopulateBreadcrumb(){this.route.params.pipe((0,I.a)(this.destroy),(0,W.k)(e=>this.parseParamsToCategoryIds(e)),(0,$.y)(e=>{let i="/menu",c=[];e.forEach(h=>{i+=`/${h}`,c.push(i)}),this.breadcrumbUrls.set(c)}),(0,q.a)()).subscribe({next:e=>{this.loadAndSetBreadcrumb(e)}})}parseParamsToCategoryIds(e){return e&&e.categoryIds&&"string"==typeof e.categoryIds?e.categoryIds.split(",").filter(i=>"string"==typeof i&&i.length>0):[]}loadAndSetBreadcrumb(e){const i=c=>{this.selectCategory(0===c.length?null:c[c.length-1]),this.breadcrumbs.set(c.splice(0,c.length-1)),this.showDishPrice.set(this.calcShowDishPrice())};if(0===e.length)return i([]),void((0,t.sPQ)()&&console.debug("No category ids found in route params."));this.loadCategoriesByIds(e).pipe((0,I.a)(this.destroy)).subscribe({next:c=>{const h=[];e.forEach(b=>{const D=c.find(k=>k.id===Number(b)||k.secret==b);D?h.push(D):console.error(`Category with id ${b} not found.`)}),i(h)}})}loadCategoriesByIds(e){const i=[];e.forEach(h=>{this.readCategoriesCache(h)||i.push(h)});const c=i.length>0?this.menuService.searchCategories({ids:i.join(",")}).pipe((0,W.k)(h=>h.items)):(0,H.of)([]);return(0,t.sPQ)()&&console.debug("categories ids cache:",{categoryIds:e,idsToLoad:i,cache:this.categoriesByIdCache}),c.pipe((0,$.y)(this.writeCategoriesCache.bind(this)),(0,W.k)(()=>e.map(h=>this.readCategoriesCache(h))))}writeDishesCache(e){Object.keys(this.dishesByIdCache).length>100&&(this.dishesByIdCache={}),e.forEach(i=>{i.id&&(this.dishesByIdCache[i.id]=i)})}writeCategoriesCache(e){Object.keys(this.categoriesByIdCache).length>100&&(this.categoriesByIdCache={}),e.forEach(i=>{i.id&&(this.categoriesByIdCache["string"==typeof i.id?i.id:`${i.id}`]=i),i.secret&&(this.categoriesByIdCache["string"==typeof i.secret?i.secret:`${i.secret}`]=i)})}readCategoriesCache(e){return this.categoriesByIdCache["string"==typeof e?e:`${e}`]||null}readDishesCache(e){return this.dishesByIdCache[e]||null}calcShowDishPrice(){let e=this.breadcrumbs()[0]||this.selectedCategory();return!e||!("number"==typeof e.price&&e.price>0)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-public-navigate-menu-v1"]],standalone:!0,features:[t.M5G([m.UF]),t.UHJ],decls:12,vars:5,consts:()=>{let e,i,c,h,b,D,k,J,V;return e="Back",i="Fixed-price menu",c="Menu",h="Browse the menu by clicking on the dishes to view their details.",b="\n           We are loading the best dishes from all over Venice, just a moment of\n          patience... \n        ",D="We found nothing.",k="Open",J="Fixed-price menu",V="Details",[["navigateBackBtn",""],[1,"max-w-[800px]","md:mx-auto","mx-2"],[3,"showLoader","overlay"],[4,"ngTemplateOutlet"],["class","block my-3"],[1,"block","my-3"],["type","button","tuiLink","",3,"routerLink"],[1,"flex"],e,[1,"text-5xl","block","mb-3"],["class","text-xl block mb-2 text-slate-400"],["class","text-lg w-fit text-primary rounded mb-2"],[1,"block","mb-3"],[1,"flex","items-center"],["role","button","routerLink","/menu",1,"text-lg","like-anchor","me-1"],[1,"me-1"],[1,"me-1","text-lg","text-slate-600"],[1,"text-xl","block","mb-2","text-slate-400"],[1,"text-lg","w-fit","text-primary","rounded","mb-2"],i,[1,"text-lg","like-anchor","me-1",3,"routerLink"],c,h,b,D,["role","button",1,"hover-transition","justify-between","cursor-pointer","flex","items-center","py-3",3,"routerLink"],[1,"min-w-[20vw]","max-w-[20vw]","justify-center","align-center","me-3"],[1,"block",3,"images"],[1,"justify-center","align-center"],[1,"text-xl"],[1,"text-lg","text-slate-400"],["class","text-lg w-fit text-primary rounded"],["type","button","size","m","tuiButton","","appearance","flat"],k,["style","height: 1px","class","border-slate-200 mb-5"],[1,"text-lg","w-fit","text-primary","rounded"],J,[1,"border-slate-200","mb-5",2,"height","1px"],["role","button",1,"hover-transition","md:justify-between","cursor-pointer","flex","items-center","py-3","justify-center",3,"routerLink","queryParams"],[1,"flex","md:flex-row","flex-col","items-center"],[1,"min-w-[20vw]","max-w-[50vw]","md:max-w-[20vw]","justify-center","align-center","me-3"],[1,"text-xl","md:text-start","text-center"],[1,"text-lg","md:text-start","text-center","text-slate-400"],["dishDesc",""],[3,"lineHeight","linesLimit","content"],[1,"text-lg","w-fit","text-primary","rounded","py-2","px-4"],[1,"md:hidden"],["type","button","tuiLink",""],[1,"ms-1"],V,[2,"line-height","28px"]]},template:function(i,c){if(1&i&&(t.yuY(0,xt,1,1,"ng-template",null,0,t.gJz),t.I0R(2,"div",1)(3,"tui-loader",2),t.yuY(4,Rt,15,5)(5,bt,4,0)(6,Ut,2,1),t.c53(7,Bt,15,8,null,null,rt),t.c53(9,Ht,22,11,null,null,rt),t.yuY(11,zt,1,0,"ng-container",3),t.C$Y()()),2&i){const h=t.Gew(1);t.yG2(3),t.E7m("showLoader",c.loading())("overlay",!0),t.yG2(),t.C0Y(4,c.selectedCategory()?4:5),t.yG2(2),t.C0Y(6,0==c.categories().length&&0==c.dishes().length?6:-1),t.yG2(),t.oho(c.categories()),t.yG2(2),t.oho(c.dishes()),t.yG2(2),t.E7m("ngTemplateOutlet",h)}},dependencies:[s.Sk,s.Cb,C.w,C.C,M.CI,M.Kw,z.oB,z.qL,K.cf,at.s,K.XV,ct.sN,ct.Og,g.qQ,g.ER],styles:["[_nghost-%COMP%]   .hover-transition[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}[_nghost-%COMP%]   .hover-transition[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}"],changeDetection:0})}return n})();var Xt=o(4476),jt=o(6308),Qt=o(6076),ut=o(9880);let Jt=(()=>{class n extends Qt.G{constructor(){super(...arguments),this._=(0,t.uUt)(Xt.OY).setTitle("Menu | La Porta D'Acqua"),this.destroy$=(0,t.uUt)(m.UF),this.route=(0,t.uUt)(g.gV),this.showTitle=(0,t.OCB)(!0)}ngOnInit(){super.ngOnInit(),this.route.params.pipe((0,I.a)(this.destroy$),(0,W.k)(e=>e.categoryIds)).subscribe({next:e=>{this.showTitle.set(!("string"==typeof e&&e.length>0))}})}static#t=this.\u0275fac=(()=>{let e;return function(c){return(e||(e=t.otF(n)))(c||n)}})();static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-menu"]],standalone:!0,features:[t.M5G([m.UF]),t.eg9,t.UHJ],decls:5,vars:2,consts:()=>{let e;return e="Our menu",[[3,"expanded"],[3,"image"],e]},template:function(i,c){1&i&&(t.I0R(0,"tui-expand",0)(1,"app-public-image-header",1),t.SAx(2),t.aS0(3,2),t.k70(),t.C$Y()(),t.wR5(4,"app-public-navigate-menu-v1")),2&i&&(t.E7m("expanded",c.showTitle()),t.yG2(),t.E7m("image","/assets/img/public-menu-landing.webp"))},dependencies:[Kt,jt.I,ut.kh,ut.st],encapsulation:2})}return n})()},6076:(A,O,o)=>{o.d(O,{G:()=>f});var t=o(4496);let f=(()=>{class g{ngOnInit(){}static#t=this.\u0275fac=function(l){return new(l||g)};static#e=this.\u0275cmp=t.In1({type:g,selectors:[["___"]],standalone:!0,features:[t.UHJ],decls:1,vars:0,template:function(l,P){1&l&&t.OEk(0,"./view-reservation.component.html")},encapsulation:2,changeDetection:0})}return g})()},3688:(A,O,o)=>{o.d(O,{s:()=>E});var t=o(4496),f=o(8212),g=o(7692),u=o(668),r=o(6376),l=o(8896),P=o(9052),p=o(1588);function T(N,G){if(1&N&&t.wR5(0,"app-show-image",3),2&N){const L=t.GaO().$implicit;t.E7m("image",L)}}function U(N,G){1&N&&t.yuY(0,T,1,1,"app-show-image",2)}function v(N,G){if(1&N){const L=t.KQA();t.I0R(0,"tui-carousel",1),t.qCj("indexChange",function(S){t.usT(L);const s=t.GaO();return t.CGJ(s.cIndex.set(S))}),t.c53(1,U,1,0,"app-show-image",4,t.oxv),t.C$Y()}if(2&N){const L=t.GaO();t.E7m("draggable",!0)("index",L.cIndex())("duration",L.duration),t.yG2(),t.oho(L.images)}}function R(N,G){1&N&&t.wR5(0,"app-show-image",5),2&N&&t.E7m("image",null)}let E=(()=>{class N{constructor(){this.duration=5e3,this.cIndex=(0,t.OCB)(0)}nextImage(){this.images&&this.images.length>0&&this.cIndex()!=this.images.length-1?this.cIndex.set(this.cIndex()+1):this.cIndex.set(0)}static#t=this.\u0275fac=function(m){return new(m||N)};static#e=this.\u0275cmp=t.In1({type:N,selectors:[["app-public-show-images"]],inputs:{images:"images",duration:"duration"},standalone:!0,features:[t.UHJ],decls:2,vars:1,consts:[["class","w-full h-full",3,"draggable","index","duration"],[1,"w-full","h-full",3,"draggable","index","duration","indexChange"],["class","w-full h-full",3,"image",4,"tuiItem"],[1,"w-full","h-full",3,"image"],["class","w-full h-full",3,"image"],[2,"max-width","100px",3,"image"]],template:function(m,S){1&m&&t.yuY(0,v,3,3,"tui-carousel",0)(1,R,1,1),2&m&&t.C0Y(0,S.images&&S.images.length>0?0:1)},dependencies:[u.uG,u.iy,u.Ep,p.S,f.CI,r.k,g.Sk,l.g,P.y],styles:["[_nghost-%COMP%]{overflow:hidden}[_nghost-%COMP%]     tui-carousel div.t-scroller fieldset.t-item{padding:0}"],changeDetection:0})}return N})()},9052:(A,O,o)=>{o.d(O,{y:()=>p});var t=o(4496),f=o(7760),g=o(6700),u=o(7368),r=o(2700),l=o(1368);function P(T,U){if(1&T&&(t.wR5(0,"img",1),t.wVc(1,"async")),2&T){const v=t.GaO();t.uQ9("max-w-[100%] h-auto min-h-[50px] md:min-h-[100px] ",v.imgClass,""),t._6D("src",t.kDX(1,5,v.imageSrc$),t.K6U),t.E7m("draggable",!1)}}let p=(()=>{class T{constructor(){this.noImage="/assets/img/no-image.jpg",this.imagesService=(0,t.uUt)(f.U),this.imgClass="block rounded",this.image$=new g.g(null),this.imageSrc$=this.image$.pipe((0,u.G)(v=>v instanceof Blob?(0,r.of)(URL.createObjectURL(v)):v&&v.id?this.imagesService.downloadUrl(v.id):(0,r.of)(this.noImage)))}set image(v){this.image$.next(v??null)}static#t=this.\u0275fac=function(R){return new(R||T)};static#e=this.\u0275cmp=t.In1({type:T,selectors:[["app-show-image"]],inputs:{imgClass:"imgClass",image:"image"},standalone:!0,features:[t.UHJ],decls:2,vars:3,consts:[[3,"draggable","class","src"],[3,"draggable","src"]],template:function(R,E){1&R&&(t.yuY(0,P,2,7,"img",0),t.wVc(1,"async")),2&R&&t.C0Y(0,t.kDX(1,1,E.imageSrc$)?0:-1)},dependencies:[l.a],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}"],changeDetection:0})}return T})()},4824:(A,O,o)=>{o.d(O,{o:()=>g});var t=o(8400),f=o(2264);class g extends t.w{constructor(r){super(r),this.name=r.name,this.description=r.description,this.status=r.status,this.other=r.other,this.translations={...r.translations},r.image&&(this.image=new f.W(r.image))}}},5891:(A,O,o)=>{o.d(O,{S:()=>l});var t=o(8400),f=o(2264),g=o(355),u=o(4824),r=o(532);class l extends t.w{constructor(p){super(p),this.name=p.name,this.description=p.description,this.status=p.status,this.price=p.price,this.translations=p.translations,this.images=p.images?p.images.map(T=>new f.W(T)):[],this.suggestions=p.suggestions?p.suggestions.map(T=>new l(T)):[],this.tags=p.tags?p.tags.map(T=>new g.E(T)):[],this.allergens=p.allergens?p.allergens.map(T=>new u.o(T)):[],this.ingredients=p.ingredients?p.ingredients.map(T=>new r.e(T)):[]}}},2264:(A,O,o)=>{o.d(O,{W:()=>f});var t=o(8400);class f extends t.w{constructor(u){super(u),this.filename=u.filename,this.status=u.status,this.key=u.key,this.original_id=u.original_id,this.tag=u.tag,this.url=u.url}}},532:(A,O,o)=>{o.d(O,{e:()=>g});var t=o(8400),f=o(2264);class g extends t.w{constructor(r){super(r),this.name=r.name,this.description=r.description,this.status=r.status,this.other=r.other,this.translations={...r.translations},r.image&&(this.image=new f.W(r.image))}}},5820:(A,O,o)=>{o.d(O,{Q:()=>u});var t=o(8400);class f extends t.w{constructor(l){super(l),this.public_visible=l.public_visible,this.public_from=l.public_from?new Date(l.public_from):void 0,this.public_to=l.public_to?new Date(l.public_to):void 0,this.private_visible=l.private_visible,this.daily_from=l.daily_from?new Date(l.daily_from):void 0,this.daily_to=l.daily_to?new Date(l.daily_to):void 0}}var g=o(2264);class u extends t.w{constructor(l){super(l),this.name=l.name,this.description=l.description,this.status=l.status,this.price=l.price,this.parent_id=l.parent_id,this.index=l.index,this.secret=l.secret,this.secret_desc=l.secret_desc,this.visibility_id=l.visibility_id,this.visibility=l.visibility?new f(l.visibility):void 0,this.parent=l.parent?new u(l.parent):void 0,this.children=l.children?l.children.map(P=>new u(P)):[],this.images=l.images?l.images.map(P=>new g.W(P)):[],this.translations=l.translations,this.public_visible=l.public_visible,this.stats=l.stats}}},355:(A,O,o)=>{o.d(O,{E:()=>g});var t=o(8400),f=o(2264);class g extends t.w{constructor(r){super(r),this.name=r.name,this.description=r.description,this.status=r.status,this.other=r.other,this.translations={...r.translations},this.color=r.color,r.image&&(this.image=new f.W(r.image))}}},7760:(A,O,o)=>{o.d(O,{U:()=>u});var t=o(6012),f=o(2264),g=o(4496);let u=(()=>{class r extends t.s{constructor(){super(f.W,"images")}removeFromRecord(P,p){return this.patch(`${P}/remove_from_record`,{record_type:p.record_type,record_id:p.record_id})}updateRecord(P,p){return this.patch("record",{image_ids:p,record_type:P.record_type,record_id:P.record_id})}downloadUrl(P){return this.url(`${P}/download`)}static#t=this.\u0275fac=function(p){return new(p||r)};static#e=this.\u0275prov=g.wxM({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()},1588:(A,O,o)=>{o.d(O,{S:()=>f,s:()=>g});var t=o(4496);let f=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275dir=t.Sc5({type:u,selectors:[["","tuiItem",""]]}),u})(),g=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=t.a4G({type:u}),u.\u0275inj=t.s3X({}),u})()},9880:(A,O,o)=>{o.d(O,{kP:()=>R,kh:()=>L,st:()=>G});var t=o(4496),f=o(3480),g=o(4392),u=o(3120),r=o(3616),l=o(7692),P=o(1368);const p=["wrapper"];function T(m,S){if(1&m&&(t.I0R(0,"tui-loader",4),t.C_f(1,5),t.C$Y()),2&m){const s=t.GaO(2);t.E7m("overlay",!0)("showLoader",s.loading),t.yG2(),t.E7m("ngTemplateOutlet",s.content)}}function U(m,S){if(1&m&&(t.SAx(0),t._Xx(1),t.yuY(2,T,2,3,"tui-loader",3),t.k70()),2&m){const s=t.GaO();t.yG2(2),t.E7m("ngIf",s.async)("ngIfElse",s.content)}}const v=["*"];let R=(()=>{class m{}return m.\u0275fac=function(s){return new(s||m)},m.\u0275dir=t.Sc5({type:m,selectors:[["","tuiExpandContent",""]]}),m})();let G=(()=>{class m{constructor(s,C){this.cdr=s,this.destroy$=C,this.state=0,this.async=!1,this.content=null,this.expanded=null}set expandedSetter(s){if(null!==this.expanded)return 0!==this.state?(this.expanded=s,void(this.state=3)):(this.expanded=s,void this.retrigger(this.async&&s?1:3));this.expanded=s}get overflow(){return 0!==this.state}get loading(){return!!this.expanded&&this.async&&1===this.state}get height(){const{expanded:s,state:C,contentWrapper:M}=this;return s&&2===C||!s&&3===C?0:M&&(!s&&2===C||s&&3===C)?M.nativeElement.offsetHeight:M&&s&&1===C?Math.max(M.nativeElement.offsetHeight,48):null}get contentVisible(){return this.expanded||0!==this.state}onTransitionEnd({propertyName:s}){"opacity"===s&&3===this.state&&(this.state=0)}onExpandLoaded(s){s.stopPropagation(),1===this.state&&this.retrigger(3)}retrigger(s){this.state=2,(0,u.k)(0).pipe((0,r.a)(this.destroy$)).subscribe(()=>{2===this.state&&(this.state=s,this.cdr.markForCheck())})}}return m.\u0275fac=function(s){return new(s||m)(t.GI1(t.kD9),t.GI1(f.UF,2))},m.\u0275cmp=t.In1({type:m,selectors:[["tui-expand"]],contentQueries:function(s,C,M){if(1&s&&t.szK(M,R,5,t.Yw2),2&s){let I;t.wto(I=t.Gqi())&&(C.content=I.first)}},viewQuery:function(s,C){if(1&s&&t.CC$(p,5),2&s){let M;t.wto(M=t.Gqi())&&(C.contentWrapper=M.first)}},hostVars:9,hostBindings:function(s,C){1&s&&t.qCj("transitionend.self",function(I){return C.onTransitionEnd(I)})("tui-expand-loaded",function(I){return C.onExpandLoaded(I)}),2&s&&(t.e48("aria-expanded",C.expanded),t.m4B("height",C.height,"px"),t.eAK("_expanded",C.expanded)("_overflow",C.overflow)("_loading",C.loading))},inputs:{async:"async",expandedSetter:[t.Wk5.None,"expanded","expandedSetter"]},features:[t.M5G([f.UF])],ngContentSelectors:v,decls:3,vars:3,consts:[[1,"t-wrapper"],["wrapper",""],[4,"ngIf"],["size","l",3,"overlay","showLoader",4,"ngIf","ngIfElse"],["size","l",3,"overlay","showLoader"],[3,"ngTemplateOutlet"]],template:function(s,C){1&s&&(t.kPM(),t.I0R(0,"div",0,1),t.yuY(2,U,3,2,"ng-container",2),t.C$Y()),2&s&&(t.E7m("@tuiParentAnimation",void 0)("@.disabled",C.overflow),t.yG2(2),t.E7m("ngIf",C.contentVisible))},dependencies:[l.Cb,P.u_,P.XV],styles:['[_nghost-%COMP%]{transition-property:opacity,height,visibility;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:block;opacity:0;transition-delay:1ms}._overflow[_nghost-%COMP%]{overflow:hidden}._expanded[_nghost-%COMP%]{opacity:1;transform:translate(0)}._loading[_nghost-%COMP%]{opacity:.99}.t-wrapper[_ngcontent-%COMP%]:before, .t-wrapper[_ngcontent-%COMP%]:after{content:"";display:table}'],data:{animation:[g.cI]},changeDetection:0}),m})(),L=(()=>{class m{}return m.\u0275fac=function(s){return new(s||m)},m.\u0275mod=t.a4G({type:m}),m.\u0275inj=t.s3X({imports:[[P.MD,l.Sk]]}),m})()},1512:(A,O,o)=>{o.d(O,{C:()=>m,w:()=>S});var t=o(4496),f=o(900),g=o(4392),u=o(4164),r=o(3480),l=o(4680),P=o(3972),p=o(5944),T=o(3412),U=o(4704),v=o(3656),R=o(1368);const E=["tuiLink",""];function N(s,C){if(1&s&&t.wR5(0,"tui-svg",3),2&s){const M=t.GaO();t.E7m("src",M.icon||"")}}function G(s,C){if(1&s&&t.wR5(0,"tui-svg",4),2&s){const M=t.GaO();t.E7m("src",M.icon||"")}}const L=["*"];let m=(()=>{class s{constructor(M,I,F){this.el=M,this.mode$=I,this.pseudo=!1,this.icon="",this.iconAlign="right",this.iconRotated=!1,this.mode=null,this.focusVisible=!1,this.focusedChange=(0,T.U)((0,f.Ax)(this.el.nativeElement,"focusin").pipe((0,U.k)(g.Ml)),(0,f.Ax)(this.el.nativeElement,"focusout").pipe((0,U.k)(g.so))),F.subscribe($=>{this.focusVisible=$})}get nativeFocusableElement(){return this.el.nativeElement}get focused(){return(0,u.ER)(this.nativeFocusableElement)}get hasIcon(){return!!this.icon}get iconAlignLeft(){return this.hasIcon&&"left"===this.iconAlign}get iconAlignRight(){return this.hasIcon&&"right"===this.iconAlign}}return s.\u0275fac=function(M){return new(M||s)(t.GI1(t.GMv),t.GI1(p.Yx),t.GI1(r.MF))},s.\u0275cmp=t.In1({type:s,selectors:[["a","tuiLink",""],["button","tuiLink",""]],hostVars:7,hostBindings:function(M,I){1&M&&t.qCj("$.data-mode.attr",function(){return I.mode$}),2&M&&(t.e48("data-host-mode",I.mode),t.eAK("_pseudo",I.pseudo)("_icon-rotated",I.iconRotated)("_focus-visible",I.focusVisible))},inputs:{pseudo:"pseudo",icon:"icon",iconAlign:"iconAlign",iconRotated:"iconRotated",mode:"mode"},exportAs:["tuiLink"],features:[t.M5G([(0,l.NK)(s),r.MF,r.UF,P.Ir])],attrs:E,ngContentSelectors:L,decls:4,vars:2,consts:[["class","t-icon t-icon_left",3,"src",4,"ngIf"],[1,"t-content"],["class","t-icon t-icon_right",3,"src",4,"ngIf"],[1,"t-icon","t-icon_left",3,"src"],[1,"t-icon","t-icon_right",3,"src"]],template:function(M,I){1&M&&(t.kPM(),t.yuY(0,N,1,1,"tui-svg",0),t.I0R(1,"span",1),t._Xx(2),t.C$Y(),t.yuY(3,G,1,1,"tui-svg",2)),2&M&&(t.E7m("ngIf",I.iconAlignLeft),t.yG2(3),t.E7m("ngIf",I.iconAlignRight))},dependencies:[v.Wu,R.u_],styles:["[_nghost-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;color:var(--tui-link);text-align:left;text-transform:inherit;font-weight:inherit;cursor:pointer;outline:none}[_nghost-%COMP%]:hover{color:var(--tui-link-hover)}[_nghost-%COMP%]:disabled{opacity:var(--tui-disabled-opacity);cursor:default}[data-mode=onLight][_nghost-%COMP%]{color:var(--tui-text-02)}[data-mode=onLight][_nghost-%COMP%]:hover, [data-mode=onLight]._active[_nghost-%COMP%]{color:var(--tui-text-01)}[data-mode=onLight]._pseudo[_nghost-%COMP%]{color:var(--tui-text-01)}[data-mode=onLight]._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{-webkit-text-decoration-color:rgba(0,0,0,.48);text-decoration-color:#0000007a}[data-mode=onLight]._pseudo[_nghost-%COMP%]:hover, [data-mode=onLight]._pseudo._active[_nghost-%COMP%]{color:var(--tui-text-03)}[data-mode=onLight][data-host-mode=negative][_nghost-%COMP%]{color:var(--tui-negative-night)}[data-mode=onLight][data-host-mode=negative][_nghost-%COMP%]:hover, [data-mode=onLight][data-host-mode=negative][_nghost-%COMP%]:active, [data-mode=onLight][data-host-mode=negative]._active[_nghost-%COMP%]{color:var(--tui-negative-night-hover)}[data-mode=onDark][_nghost-%COMP%]{color:var(--tui-text-03-night)}[data-mode=onDark][_nghost-%COMP%]:hover, [data-mode=onDark][_nghost-%COMP%]:active, [data-mode=onDark]._active[_nghost-%COMP%]{color:var(--tui-text-01-night)}[data-mode=onDark]._pseudo[_nghost-%COMP%]{color:var(--tui-text-01-night)}[data-mode=onDark]._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{-webkit-text-decoration-color:rgba(255,255,255,.48);text-decoration-color:#ffffff7a}[data-mode=onDark]._pseudo[_nghost-%COMP%]:hover, [data-mode=onDark]._pseudo[_nghost-%COMP%]:active, [data-mode=onDark]._pseudo._active[_nghost-%COMP%]{color:var(--tui-text-03-night)}[data-mode=onDark][data-host-mode=positive][_nghost-%COMP%]{color:var(--tui-positive-night)}[data-mode=onDark][data-host-mode=positive][_nghost-%COMP%]:hover, [data-mode=onDark][data-host-mode=positive][_nghost-%COMP%]:active, [data-mode=onDark][data-host-mode=positive]._active[_nghost-%COMP%]{color:var(--tui-positive-night-hover)}[data-host-mode=negative][_nghost-%COMP%]{color:var(--tui-negative)}[data-host-mode=negative][_nghost-%COMP%]:hover{color:var(--tui-negative-hover)}[data-host-mode=negative]._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{-webkit-text-decoration-color:rgba(222,76,30,.48);text-decoration-color:#de4c1e7a}[data-host-mode=positive][_nghost-%COMP%]{color:var(--tui-positive)}[data-host-mode=positive][_nghost-%COMP%]:hover{color:var(--tui-positive-hover)}[data-host-mode=positive]._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{-webkit-text-decoration-color:rgba(58,169,129,.48);text-decoration-color:#3aa9817a}._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-selection)}[data-mode=onLight]._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-clear);color:var(--tui-text-01)}[data-mode=onDark]._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-clear-inverse);color:var(--tui-text-01-night)}[data-host-mode=positive]._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-success-bg)}[data-host-mode=negative]._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-error-bg)}._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding-bottom:.15em;-webkit-text-decoration:underline dashed rgba(51,111,238,.48);text-decoration:underline dashed rgba(51,111,238,.48);text-underline-offset:.2em;text-decoration-thickness:.7px}.t-icon[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;width:var(--tui-link-icon-size, 1.5rem);height:var(--tui-link-icon-size, 1.5rem);margin-top:-.125rem}.t-icon_left[_ngcontent-%COMP%]{margin-right:.25rem}.t-icon_right[_ngcontent-%COMP%]{margin-left:.25rem}._icon-rotated[_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}"],changeDetection:0}),s})(),S=(()=>{class s{}return s.\u0275fac=function(M){return new(M||s)},s.\u0275mod=t.a4G({type:s}),s.\u0275inj=t.s3X({imports:[[R.MD,v.Yt]]}),s})()},8088:(A,O,o)=>{o.d(O,{Og:()=>nt,sN:()=>it});var t=o(4496),f=o(6732),g=o(3480);let u=(()=>{class _{constructor(d){this.tuiResize=d}}return _.\u0275fac=function(d){return new(d||_)(t.GI1(g.I$))},_.\u0275dir=t.Sc5({type:_,selectors:[["","tuiResize",""]],outputs:{tuiResize:"tuiResize"},features:[t.M5G([g.UF,g.I$])]}),_})(),r=(()=>{class _{}return _.\u0275fac=function(d){return new(d||_)},_.\u0275mod=t.a4G({type:_}),_.\u0275inj=t.s3X({}),_})();var l=o(2528),P=o(3905),p=o(900),T=o(8987),U=o(6604),v=o(5656),R=o(696),E=o(9371),N=o(7012),G=o(6700),L=o(5657),m=o(2700),S=o(3120),s=o(4e3),C=o(5568),M=o(7036),I=o(7368),F=o(6684),$=o(4704),H=o(1040),W=o(1368);function q(_,y){if(1&_&&(t.SAx(0),t.OEk(1),t.k70()),2&_){const d=y.polymorpheusOutlet;t.yG2(),t.cNF(d)}}function z(_,y){if(1&_&&(t.SAx(0),t.OEk(1),t.k70()),2&_){const d=y.polymorpheusOutlet;t.yG2(),t.oRS(" ",d," ")}}function Z(_,y){if(1&_){const d=t.KQA();t.I0R(0,"div",1),t.qCj("mouseenter",function(){t.usT(d);const w=t.GaO();return t.CGJ(w.updateView())})("tuiResize",function(){t.usT(d);const w=t.GaO();return t.CGJ(w.updateView())}),t.yuY(1,z,2,1,"ng-container",2),t.C$Y()}if(2&_){const d=y.tuiLet,x=t.GaO();t.m4B("-webkit-line-clamp",d)("word-break",(d||0)>1?"break-word":"break-all"),t.E7m("tuiHint",x.computedContent),t.yG2(),t.E7m("polymorpheusOutlet",x.content)}}const X=(0,l.AL)({showHint:!0});let tt=(()=>{class _ extends v.op{get width(){return this.accessor.getClientRect().width}}return _.\u0275fac=(()=>{let y;return function(x){return(y||(y=t.otF(_)))(x||_)}})(),_.\u0275cmp=t.In1({type:_,selectors:[["tui-line-clamp-box"]],hostVars:2,hostBindings:function(d,x){2&d&&t.m4B("min-width",x.width,"px")},features:[t.M5G([g.UF,R.G2,P.ae,(0,E.aD)("hint"),(0,E.WM)("hint",v.lh)]),t.eg9],decls:1,vars:1,consts:[[4,"polymorpheusOutlet"]],template:function(d,x){1&d&&t.yuY(0,q,2,1,"ng-container",0),2&d&&t.E7m("polymorpheusOutlet",x.content)},dependencies:[H.Af],styles:["[_nghost-%COMP%]{position:absolute;box-shadow:var(--tui-shadow-dropdown);width:-webkit-min-content;width:min-content;padding:.75rem 1rem;margin-left:calc(-1px - 1rem);margin-top:calc(-1px - .75rem);border-radius:var(--tui-radius-l);box-sizing:content-box;border:1px solid var(--tui-base-03);background:var(--tui-base-01);color:var(--tui-text-01);word-wrap:break-word}"],data:{animation:[N.K2]},changeDetection:0}),_})(),et=(()=>{class _ extends E.es{constructor(d){super(),this.accessor=d,this.type="hint"}getPosition(){const{top:d,left:x}=this.accessor.getClientRect();return[d,x]}}return _.\u0275fac=function(d){return new(d||_)(t.GI1(v.lh))},_.\u0275dir=t.Sc5({type:_,selectors:[["","tuiHintCustomPosition",""]],features:[t.M5G([(0,E.A8)(_)]),t.eg9]}),_})(),nt=(()=>{class _{constructor(d,x,w,j,ot){this.el=d,this.renderer=x,this.cd=w,this.zone=j,this.options=ot,this.linesLimit$=new G.g(1),this.isOverflown$=new L.E,this.initialized=!1,this.lineHeight=24,this.overflownChange=this.isOverflown$.pipe((0,s.a)()),this.lineClamp$=this.linesLimit$.pipe((0,C.W)(1),(0,M.c)(),(0,I.G)(([st,Q])=>Q>=st?(0,m.of)(Q):(0,p.Ax)(this.el.nativeElement,"transitionend").pipe((0,F.I)(T.C),(0,$.k)(()=>Q)))),this.skipInitialTransition()}set linesLimit(d){this.linesLimit$.next(d)}get overflown(){if(!this.outlet)return!1;const{scrollHeight:d,scrollWidth:x}=this.outlet.nativeElement,{clientHeight:w,clientWidth:j}=this.el.nativeElement;return d-w>4||x-j>0}get computedContent(){return this.options.showHint&&this.overflown?this.content:""}updateView(){this.cd.detectChanges()}ngDoCheck(){this.update(),this.isOverflown$.next(this.overflown)}ngAfterViewInit(){this.initialized=!0}skipInitialTransition(){(0,S.k)(0).pipe((0,p.Uv)(this.zone)).subscribe(()=>{this.renderer.addClass(this.el.nativeElement,"_initialized"),this.cd.detectChanges()})}update(){this.outlet&&this.renderer.setStyle(this.el.nativeElement,"height",(0,U.c)(this.outlet.nativeElement.scrollHeight+4)),this.initialized&&this.renderer.setStyle(this.el.nativeElement,"max-height",(0,U.c)(this.lineHeight*this.linesLimit$.value))}}return _.\u0275fac=function(d){return new(d||_)(t.GI1(t.GMv),t.GI1(t.q87),t.GI1(t.kD9),t.GI1(t.WW2),t.GI1(X))},_.\u0275cmp=t.In1({type:_,selectors:[["tui-line-clamp"]],viewQuery:function(d,x){if(1&d&&t.CC$(v.lh,5,t.GMv),2&d){let w;t.wto(w=t.Gqi())&&(x.outlet=w.first)}},hostBindings:function(d,x){1&d&&t.qCj("transitionend",function(){return x.updateView()})},inputs:{linesLimit:"linesLimit",lineHeight:"lineHeight",content:"content"},outputs:{overflownChange:"overflownChange"},features:[t.M5G([{provide:v.is,useValue:tt}])],decls:2,vars:3,consts:[["tuiHintCustomPosition","","class","t-wrapper",3,"-webkit-line-clamp","word-break","tuiHint","mouseenter","tuiResize",4,"tuiLet"],["tuiHintCustomPosition","",1,"t-wrapper",3,"tuiHint","mouseenter","tuiResize"],[4,"polymorpheusOutlet"]],template:function(d,x){1&d&&(t.yuY(0,Z,2,6,"div",0),t.wVc(1,"async")),2&d&&t.E7m("tuiLet",t.kDX(1,1,x.lineClamp$))},dependencies:[f.ew,et,v.lh,v.SL,v.i6,u,H.Af,W.a],styles:["[_nghost-%COMP%]{position:relative;display:block;overflow:hidden}._initialized[_nghost-%COMP%]{transition-property:max-height;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.t-wrapper[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;overflow-wrap:anywhere}.t-wrapper[_ngcontent-%COMP%]    >*{white-space:initial}"],changeDetection:0}),_})(),it=(()=>{class _{}return _.\u0275fac=function(d){return new(d||_)},_.\u0275mod=t.a4G({type:_}),_.\u0275inj=t.s3X({imports:[[W.MD,H.Ux,v.WY,r,f.kR]]}),_})()}}]);