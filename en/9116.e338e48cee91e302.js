"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[9116],{1524:(z,P,s)=>{s.d(P,{s:()=>rn});var e=s(4496),g=s(8212),v=s(1512),c=s(1316),u=s(6504),_=s(9852),l=s(4392),p=s(900),O=s(2528),T=s(8987),d=s(4164),E=s(3480),D=s(9392),B=s(3656),U=s(5944),K=s(696),H=s(528),Q=s(1192),S=s(3616),h=s(6684),I=s(1368);function N(n,i){1&n&&e.C_f(0)}const G=["*"],Z=["tuiStep",""];function ge(n,i){if(1&n&&e.wR5(0,"tui-svg",4),2&n){const t=e.GaO();e.E7m("src",t.icon)}}let ie=(()=>{class n{constructor(t,o,r,a,C,M){this.cdr=t,this.el=o,this.scrollService=r,this.duration=C,this.destroy$=M,this.steps=l.Jh,this.orientation="horizontal",this.activeItemIndexChange=new e._w7,this.activeItemIndex=0,a.subscribe(()=>this.scrollIntoView(this.activeItemIndex))}set activeIndex(t){this.activeItemIndex=t,this.scrollIntoView(t)}get changes$(){return(0,p.jv)(this.steps).pipe((0,Q.o)(0))}onHorizontal(t,o){"horizontal"!==this.orientation||!t.target||(t.preventDefault(),this.moveFocus(t.target,o))}onVertical(t,o){"vertical"!==this.orientation||!t.target||(t.preventDefault(),this.moveFocus(t.target,o))}indexOf(t){return(0,O.SQ)(this.steps).findIndex(({nativeElement:o})=>o===t)}isActive(t){return t===this.activeItemIndex}activate(t){this.activeItemIndex!==t&&(this.activeItemIndex=t,this.activeItemIndexChange.emit(t),this.cdr.markForCheck(),this.scrollIntoView(t))}getNativeElements(t){return t.map(({nativeElement:o})=>o)}moveFocus(t,o){if(!(0,T.CK)(t))return;const r=this.getNativeElements(this.steps),a=r.findIndex(C=>C===t);(0,d.uO)(a,r,o)}scrollIntoView(t){const o=this.getNativeElements(this.steps)[t];if(!o)return;const{nativeElement:r}=this.el,{clientHeight:a,clientWidth:C,offsetTop:M,offsetLeft:$}=r,{offsetHeight:b,offsetWidth:Y,offsetTop:me,offsetLeft:he}=o,Ee=he-$-C/2+Y/2;this.scrollService.scroll$(r,Math.max(0,me-M-a/2+b/2),Math.max(0,Ee),this.duration/3).pipe((0,S.a)(this.destroy$)).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.GI1(e.kD9),e.GI1(e.GMv),e.GI1(E.IL),e.GI1(E.I$),e.GI1(U._u),e.GI1(E.UF,2))},n.\u0275cmp=e.In1({type:n,selectors:[["tui-stepper"],["nav","tuiStepper",""]],contentQueries:function(t,o,r){if(1&t&&e.szK(r,re,4,e.GMv),2&t){let a;e.wto(a=e.Gqi())&&(o.steps=a)}},hostVars:1,hostBindings:function(t,o){1&t&&e.qCj("keydown.arrowRight",function(a){return o.onHorizontal(a,1)})("keydown.arrowLeft",function(a){return o.onHorizontal(a,-1)})("keydown.arrowDown",function(a){return o.onVertical(a,1)})("keydown.arrowUp",function(a){return o.onVertical(a,-1)}),2&t&&e.e48("data-orientation",o.orientation)},inputs:{orientation:"orientation",activeIndex:[e.Wk5.None,"activeItemIndex","activeIndex"]},outputs:{activeItemIndexChange:"activeItemIndexChange"},features:[e.M5G([E.I$,E.UF])],ngContentSelectors:G,decls:3,vars:3,consts:[[4,"ngIf"]],template:function(t,o){1&t&&(e.kPM(),e.yuY(0,N,1,0,"ng-container",0),e.wVc(1,"async"),e._Xx(2)),2&t&&e.E7m("ngIf",e.kDX(1,1,o.changes$))},dependencies:[I.u_,I.a],styles:["[_nghost-%COMP%]{scrollbar-width:none;-ms-overflow-style:none;scroll-behavior:smooth;display:flex;overflow:auto;counter-reset:steps}[_nghost-%COMP%]::-webkit-scrollbar, [_nghost-%COMP%]::-webkit-scrollbar-thumb{display:none}tui-root._reduced-motion   [_nghost-%COMP%]{scroll-behavior:auto}[data-orientation=vertical][_nghost-%COMP%]{flex-direction:column}"],changeDetection:0}),(0,c.UN)([D.w7],n.prototype,"changes$",null),(0,c.UN)([D.w7],n.prototype,"getNativeElements",null),n})(),re=(()=>{class n{constructor(t,o,r,a,C){this.stepper=r,this.el=a,this.icons=C,this.stepState="normal",this.icon="",this.focusVisible=!1,o.pipe((0,h.I)(H.Z)).subscribe(()=>{this.activate()}),t.subscribe(M=>{this.focusVisible=M})}get isActive(){return this.stepper.isActive(this.index)}get isVertical(){return"vertical"===this.stepper.orientation}get tabIndex(){return this.isActive?0:-1}get index(){return this.stepper.indexOf(this.el.nativeElement)}activate(){this.stepper.activate(this.index)}}return n.\u0275fac=function(t){return new(t||n)(e.GI1(E.MF),e.GI1(K.oj),e.GI1(ie),e.GI1(e.GMv),e.GI1(U.QJ))},n.\u0275cmp=e.In1({type:n,selectors:[["button","tuiStep",""],["a","tuiStep","",3,"routerLink",""],["a","tuiStep","","routerLink","","routerLinkActive",""]],hostAttrs:["type","button"],hostVars:8,hostBindings:function(t,o){1&t&&e.qCj("click",function(){return o.activate()}),2&t&&(e.SoX("tabIndex",o.tabIndex),e.e48("data-state",o.stepState),e.eAK("_focus-visible",o.focusVisible)("_active",o.isActive)("_vertical",o.isVertical))},inputs:{stepState:"stepState",icon:"icon"},features:[e.M5G([E.UF,K.oj,E.MF])],attrs:Z,ngContentSelectors:G,decls:5,vars:3,consts:[["class","t-marker t-marker_custom",3,"src",4,"ngIf"],[1,"t-marker","t-marker_error",3,"src"],[1,"t-marker","t-marker_pass",3,"src"],[1,"t-marker","t-marker_index"],[1,"t-marker","t-marker_custom",3,"src"]],template:function(t,o){1&t&&(e.kPM(),e.yuY(0,ge,1,1,"tui-svg",0),e.wR5(1,"tui-svg",1)(2,"tui-svg",2)(3,"div",3),e._Xx(4)),2&t&&(e.E7m("ngIf",o.icon),e.yG2(),e.E7m("src",o.icons.error),e.yG2(),e.E7m("src",o.icons.check))},dependencies:[B.Wu,I.u_],styles:['[_nghost-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;position:relative;display:flex;align-items:center;flex-shrink:0;color:var(--tui-link);margin-right:1.5rem;outline:none;cursor:pointer;counter-increment:steps}[_nghost-%COMP%]:disabled{pointer-events:none;color:var(--tui-base-07)}[_nghost-%COMP%]:hover{color:var(--tui-link-hover)}[_nghost-%COMP%]:not(:last-of-type)._vertical{margin-bottom:1.25rem}._active[_nghost-%COMP%], ._active[_nghost-%COMP%]:hover{color:var(--tui-text-01);cursor:default}._focus-visible[_nghost-%COMP%]:before{content:"";position:absolute;left:2.75rem;right:0;top:50%;height:1.5rem;margin-top:-.75rem;background:var(--tui-selection)}.t-marker[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:flex;width:2rem;height:2rem;border-radius:100%;margin-right:.75rem;flex-shrink:0;align-items:center;justify-content:center;background:var(--tui-secondary);color:var(--tui-link)}[_nghost-%COMP%]:disabled   .t-marker[_ngcontent-%COMP%]{background:var(--tui-base-03);color:var(--tui-base-07)}.t-marker_index[_ngcontent-%COMP%]:before{content:counter(steps)}[_nghost-%COMP%]:hover   .t-marker_index[_ngcontent-%COMP%]{color:var(--tui-link-hover);background:var(--tui-secondary-hover)}._active[_nghost-%COMP%]   .t-marker_index[_ngcontent-%COMP%]{color:var(--tui-primary-text);background:var(--tui-primary)}[_nghost-%COMP%]:not([data-state="normal"]):not(._active)   .t-marker_index[_ngcontent-%COMP%], [_nghost-%COMP%]:not(._active)   .t-marker_custom[_ngcontent-%COMP%] ~ .t-marker_index[_ngcontent-%COMP%]{display:none}.t-marker_error[_ngcontent-%COMP%]{background:var(--tui-error-bg);color:var(--tui-error-fill)}[_nghost-%COMP%]:hover   .t-marker_error[_ngcontent-%COMP%]{background:var(--tui-error-bg-hover);color:var(--tui-error-fill)}[_nghost-%COMP%]:not([data-state="error"])   .t-marker_error[_ngcontent-%COMP%], ._active[_nghost-%COMP%]   .t-marker_error[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]:not([data-state="pass"])   .t-marker_pass[_ngcontent-%COMP%], ._active[_nghost-%COMP%]   .t-marker_pass[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]:not([data-state="normal"])   .t-marker_custom[_ngcontent-%COMP%], ._active[_nghost-%COMP%]   .t-marker_custom[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]:hover   .t-marker_custom[_ngcontent-%COMP%]{color:var(--tui-link-hover);background:var(--tui-secondary-hover)}'],changeDetection:0}),n})(),fe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.a4G({type:n}),n.\u0275inj=e.s3X({imports:[[I.MD,B.Yt]]}),n})();var q=s(668),m=s(3797),y=s(3044),f=s(9104),R=s(1800),V=s(4680),se=s(6732),w=s(466),L=s(7936),X=s(4336),ee=s(8976),te=s(5656),F=s(8048),ne=s(4108),A=s(2500),ae=s(3840),k=s(1343),ye=s(7176),oe=s(4532),Ae=s(6572),We=s(9371),xe=s(796),Fe=s(5900),Le=s(5620);const je=["*",[["input"]]],Je=["*","input"],Ue=(0,O.AL)({phoneMaskAfterCountryCode:"### ###-##-##",allowText:!1,countryCode:"+7"}),Ge=n=>n.replace(/\D/g,"").length;function Ze(n,i){const t=(n+i).replace(/[^#\d]+/g,"").length,o=r=>r.replace("+7"===n?/^(\+?7?\s?8?)\s?/:new RegExp(`^(\\+?${n.replace("+","")}?)\\s?`),"");return({elementState:r,data:a})=>{const{value:C,selection:M}=r;return{elementState:{selection:M,value:Ge(C)>t?o(C):C},data:Ge(a)>=t?o(a):a}}}function ue(n){return Number.isNaN(parseInt(n.replace(ae.mM,""),10))}let be=(()=>{class n extends R._y{constructor(t,o,r,a,C){super(t,o),this.textfieldCleaner=r,this.options=a,this.textfieldSize=C,this.phoneMaskAfterCountryCode=this.options.phoneMaskAfterCountryCode,this.allowText=this.options.allowText,this.search="",this.searchChange=new e._w7,this.countryCode=this.options.countryCode,this.open=!1}set countryCodeSetter(t){const o=this.countryCode;this.countryCode=t,this.updateValueWithNewCountryCode(o,t)}get size(){return this.textfieldSize.size}get nativeFocusableElement(){return!this.textfield||this.computedDisabled?null:this.textfield.nativeFocusableElement}get focused(){return(0,d.ER)(this.nativeFocusableElement)||!!this.dropdown&&this.dropdown.focused}get nativeValue(){var t;return(null===(t=this.nativeFocusableElement)||void 0===t?void 0:t.value)||(0,oe.qq)(this.value,this.maskOptions)}set nativeValue(t){this.nativeFocusableElement&&(this.nativeFocusableElement.value=t)}get inputMode(){return this.allowText?"text":"numeric"}get canOpen(){return this.interactive&&!!this.datalist}get canClean(){return this.nativeValue!==this.nonRemovablePrefix&&this.textfieldCleaner.cleaner}get maskOptions(){return this.calculateMask(this.countryCode,this.phoneMaskAfterCountryCode,this.nonRemovablePrefix,this.allowText)}onActiveZone(t){return this.updateFocused(t),!t||this.nativeValue||this.readOnly||this.allowText?this.nativeValue===this.nonRemovablePrefix||this.isTextValue?(this.updateSearch(""),void(this.nativeValue="")):void(!t&&!this.allowText&&this.nativeFocusableElement&&(this.nativeValue=this.nativeValue.replace(/\D$/,""))):(this.updateSearch(this.nonRemovablePrefix),void(this.nativeValue=this.nonRemovablePrefix))}onValueChange(t){const o=ue(t)?t:t.replace(ae.mM,"").slice(0,this.maxPhoneLength);this.updateSearch(o),this.value=o===this.countryCode||ue(o)?"":o,this.open=!0,!this.value&&!this.allowText&&(this.nativeValue=this.nonRemovablePrefix)}handleOption(t){this.focusInput(),this.value=t,this.nativeValue=(0,oe.qq)(this.value,this.maskOptions),this.updateSearch(""),this.open=!1}setDisabledState(){super.setDisabledState(),this.open=!1}writeValue(t){super.writeValue(t),this.nativeValue=(0,oe.qq)(t||"",this.maskOptions),this.updateSearch("")}getFallbackValue(){return""}get nonRemovablePrefix(){return`${this.countryCode} `}get maxPhoneLength(){return this.countryCode.length+this.phoneMaskAfterCountryCode.replace(/[^#]+/g,"").length}get isTextValue(){return!!this.search&&ue(this.search)}calculateMask(t,o,r,a){const C=function qe(n,i){return[...n.split("")," ",...i.replace(/[^#\- ()]+/g,"").split("").map(t=>"#"===t?/\d/:t)]}(t,o),M=[Ze(t,o)];return a?{mask:({value:$})=>ue($)&&"+"!==$?oe.Se.mask:C,preprocessors:M}:{mask:C,preprocessors:M,postprocessors:[(0,Ae.G)(r)],plugins:[(0,Ae.yu)(($,[b,Y])=>[b===Y?r.length:0,$.length])]}}focusInput(){this.nativeFocusableElement&&this.nativeFocusableElement.focus({preventScroll:!0})}updateSearch(t){this.search!==t&&(this.search=t,this.searchChange.emit(t))}updateValueWithNewCountryCode(t,o){this.isTextValue||(this.value=this.value.replace(t,o),this.nativeValue=(0,oe.qq)(this.value,this.maskOptions))}}return n.\u0275fac=function(t){return new(t||n)(e.GI1(u.eq,10),e.GI1(e.kD9),e.GI1(F.CU),e.GI1(Ue),e.GI1(F.$K))},n.\u0275cmp=e.In1({type:n,selectors:[["tui-input-phone"]],contentQueries:function(t,o,r){if(1&t&&e.szK(r,X.Ux,5,e.Yw2),2&t){let a;e.wto(a=e.Gqi())&&(o.datalist=a.first)}},viewQuery:function(t,o){if(1&t&&(e.CC$(w.Qw,5),e.CC$(L.y_,5)),2&t){let r;e.wto(r=e.Gqi())&&(o.dropdown=r.first),e.wto(r=e.Gqi())&&(o.textfield=r.first)}},hostVars:1,hostBindings:function(t,o){2&t&&e.e48("data-size",o.size)},inputs:{countryCodeSetter:[e.Wk5.None,"countryCode","countryCodeSetter"],phoneMaskAfterCountryCode:"phoneMaskAfterCountryCode",allowText:"allowText",search:"search"},outputs:{searchChange:"searchChange"},features:[e.M5G([(0,V.NK)(n),(0,R.q4)(n),(0,U.UH)(n)],[xe.YL]),e.eg9],ngContentSelectors:Je,decls:4,vars:13,consts:[[1,"t-hosted",3,"canOpen","content","open","openChange","tuiActiveZoneChange"],["tuiValueAccessor","",1,"t-textfield",3,"disabled","focusable","invalid","maskito","nativeId","pseudoFocus","pseudoHover","readOnly","tuiTextfieldCleaner","value","valueChange"]],template:function(t,o){1&t&&(e.kPM(je),e.I0R(0,"tui-hosted-dropdown",0),e.iHE("openChange",function(a){return e.kNx(o.open,a)||(o.open=a),a}),e.qCj("tuiActiveZoneChange",function(a){return o.onActiveZone(a)}),e.I0R(1,"tui-primitive-textfield",1),e.iHE("valueChange",function(a){return e.kNx(o.nativeValue,a)||(o.nativeValue=a),a}),e.qCj("valueChange",function(a){return o.onValueChange(a)}),e._Xx(2),e._Xx(3,1,["ngProjectAs","input",5,["input"]]),e.C$Y()()),2&t&&(e.E7m("canOpen",o.canOpen)("content",o.datalist||""),e.OKB("open",o.open),e.yG2(),e.E7m("disabled",o.computedDisabled)("focusable",o.focusable)("invalid",o.computedInvalid)("maskito",o.maskOptions)("nativeId",o.nativeId)("pseudoFocus",o.computedFocused)("pseudoHover",o.pseudoHover)("readOnly",o.readOnly)("tuiTextfieldCleaner",o.canClean),e.OKB("value",o.nativeValue))},dependencies:[w.Qw,L.y_,y.M,L.KQ,Fe.a,Le.sD,F.es],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:left}._disabled[_nghost-%COMP%]{pointer-events:none}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}"],changeDetection:0}),(0,c.UN)([D.w7],n.prototype,"calculateMask",null),n})(),et=(()=>{class n extends We.Cm{get value(){return this.host.nativeValue}onValueChange(t){this.host.onValueChange(t)}process(t){this.input=t}ngDoCheck(){this.input&&(this.input.type="tel",this.input.inputMode=this.host.inputMode)}}return n.\u0275fac=(()=>{let i;return function(o){return(i||(i=e.otF(n)))(o||n)}})(),n.\u0275dir=e.Sc5({type:n,selectors:[["tui-input-phone"]],features:[e.M5G([(0,U.iu)(n)]),e.eg9]}),n})(),tt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.a4G({type:n}),n.\u0275inj=e.s3X({imports:[[Le.S,L.KA,w.GE,F.aS,y.L,Fe.i]]}),n})();var Ie=s(3012),nt=s(812);function le(n,i){return n[i].replace(/[()\- ]/g,"").length}function _e(n,i){return n[i].replace(nt.mU,"")}function De(n){const i=Number(n.slice(1,4));return i<600||i>799}let Ve=(()=>{class n{constructor(t){this.countriesMasks=t}transform(t,o){return o.find(r=>{if(r===k.q.RU&&/^[78]/.test(t)&&/^(?!880[1-9 ])/.test(t)&&t.length+1===le(this.countriesMasks,k.q.RU)||t.startsWith(_e(this.countriesMasks,r).replace(l.qs,""))&&t.length+1===le(this.countriesMasks,r))switch(r){case k.q.RU:return De(t);case k.q.KZ:return!De(t);default:return!0}return!1})}}return n.\u0275fac=function(t){return new(t||n)(e.GI1(Ie.gu,16))},n.\u0275pipe=e.UTH({name:"tuiToCountryCode",type:n,pure:!0}),n})();var Be=s(1040);function ot(n,i){if(1&n){const t=e.KQA();e.I0R(0,"button",10),e.qCj("click",function(){const a=e.usT(t).$implicit,C=e.GaO(3);return e.CGJ(C.onItemClick(a))}),e.wR5(1,"img",11),e.wVc(2,"tuiFlag"),e.I0R(3,"span",12),e.OEk(4),e.C$Y(),e.I0R(5,"span",13),e.OEk(6),e.wVc(7,"tuiMapper"),e.C$Y()()}if(2&n){const t=i.$implicit,o=e.GaO(2).ngIf,r=e.GaO();e.yG2(),e.E7m("src",e.kDX(2,3,t),e.K6U),e.yG2(3),e.oRS(" ",o[t]," "),e.yG2(2),e.oRS(" ",e.g7$(7,5,t,r.isoToCountryCodeMapper)," ")}}function it(n,i){if(1&n&&(e.I0R(0,"tui-data-list"),e.yuY(1,ot,8,8,"button",9),e.C$Y()),2&n){const t=e.GaO(2);e.yG2(),e.E7m("ngForOf",t.countries)}}function rt(n,i){if(1&n&&(e.wR5(0,"img",14),e.wVc(1,"tuiFlag")),2&n){const t=e.GaO().ngIf,o=e.GaO();e.E7m("alt",t[o.countryIsoCode])("src",e.kDX(1,2,o.countryIsoCode),e.K6U)}}function st(n,i){1&n&&e.C_f(0)}function at(n,i){if(1&n&&(e.I0R(0,"div",15),e.yuY(1,st,1,0,"ng-container",16),e.C$Y()),2&n){const t=e.GaO(2);e.yG2(),e.E7m("polymorpheusOutlet",t.arrow)}}function ut(n,i){if(1&n){const t=e.KQA();e.I0R(0,"tui-hosted-dropdown",1),e.iHE("openChange",function(r){e.usT(t);const a=e.GaO();return e.kNx(a.open,r)||(a.open=r),e.CGJ(r)}),e.qCj("tuiActiveZoneChange",function(r){e.usT(t);const a=e.GaO();return e.CGJ(a.onActiveZone(r))}),e.I0R(1,"div",2),e.wR5(2,"tui-primitive-textfield",3),e.I0R(3,"tui-input-phone",4),e.iHE("ngModelChange",function(r){e.usT(t);const a=e.GaO();return e.kNx(a.value,r)||(a.value=r),e.CGJ(r)}),e._Xx(4),e.wR5(5,"input",5),e.C$Y()(),e.yuY(6,it,2,1,"ng-template",null,6,e.gJz)(8,rt,2,4,"ng-template",null,7,e.gJz)(10,at,2,1,"ng-template",null,8,e.gJz),e.C$Y()}if(2&n){const t=e.Gew(7),o=e.Gew(9),r=e.Gew(11),a=e.GaO();e.E7m("canOpen",!a.readOnly)("content",t),e.OKB("open",a.open),e.yG2(2),e.E7m("disabled",a.disabled)("editable",!1)("focusable",a.focusable)("pseudoFocus",a.open||null)("readOnly",a.readOnly)("tuiTextfieldCustomContent",o)("tuiTextfieldIcon",r)("tuiTextfieldLabelOutside",!0),e.yG2(),e.E7m("countryCode",a.inputPhoneCountryCode)("disabled",a.disabled)("focusable",a.focusable)("phoneMaskAfterCountryCode",a.phoneMaskAfterCountryCode)("pseudoFocus",a.pseudoFocus)("pseudoHover",a.pseudoHover)("pseudoInvalid",a.computedInvalid)("readOnly",a.readOnly),e.OKB("ngModel",a.value)}}const lt=["*"],ke=(0,O.AL)({countries:[],countryIsoCode:k.q.RU});let ct=(()=>{class n extends R._y{constructor(t,o,r,a,C,M,$,b){super(t,o),this.countriesNames$=r,this.countriesMasks=a,this.options=C,this.flagPipe=M,this.extractCountryCodePipe=$,this.textfieldSize=b,this.countries=this.options.countries,this.countryIsoCodeChange=new e._w7,this.countryIsoCode=this.options.countryIsoCode,this.open=!1,this.arrow=ye.ie,this.isoToCountryCodeMapper=Y=>_e(this.countriesMasks,Y)}set isoCode(t){var o;this.countryIsoCode!==t&&(null===(o=this.inputPhoneComponent)||void 0===o||o.writeValue(this.value),this.countryIsoCode=t)}get size(){return this.textfieldSize.size}get nativeFocusableElement(){return this.inputPhoneComponent&&!this.computedDisabled?this.inputPhoneComponent.nativeFocusableElement:null}get focused(){return!!this.primitiveTextfield&&this.primitiveTextfield.focused||!!this.inputPhoneComponent&&this.inputPhoneComponent.focused}get inputPhoneCountryCode(){return _e(this.countriesMasks,this.countryIsoCode)}get phoneMaskAfterCountryCode(){return this.calculateMaskAfterCountryCode(this.countriesMasks[this.countryIsoCode],this.inputPhoneCountryCode)}get countryFlagPath(){return this.getFlagPath(this.countryIsoCode)}onPaste(t){let o=function _t(n){var i;return"dataTransfer"in n?(null===(i=n.dataTransfer)||void 0===i?void 0:i.getData("text/plain"))||"":(0,T.WM)(n)}(t).replace(ae.Go,"");const r=this.extractCountryCodePipe.transform(o,this.countries);r?(r===k.q.RU&&(o=o.replace(/^8/,"7")),this.updateCountryIsoCode(r),this.value=`${l.qs}${o}`):this.value=`${this.inputPhoneCountryCode}${o}`.replace(ae.mM,"").slice(0,le(this.countriesMasks,this.countryIsoCode))}getFlagPath(t){return this.flagPipe.transform(t)}onItemClick(t){this.open=!1,this.updateCountryIsoCode(t),this.cdr.detectChanges();const o=le(this.countriesMasks,t);this.value.length>o&&(this.value=this.value.slice(0,o)),this.nativeFocusableElement&&this.nativeFocusableElement.focus()}setDisabledState(){super.setDisabledState(),this.close()}isoToCountryCode(t){return _e(this.countriesMasks,t)}onModelChange(t){this.value=t}onActiveZone(t){this.updateFocused(t)}getFallbackValue(){return""}calculateMaskAfterCountryCode(t,o){return t.replace(o,"").trim()}close(){this.open=!1}updateCountryIsoCode(t){this.countryIsoCode=t,this.countryIsoCodeChange.emit(t)}}return n.\u0275fac=function(t){return new(t||n)(e.GI1(u.eq,10),e.GI1(e.kD9),e.GI1(Ie.cV),e.GI1(Ie.gu),e.GI1(ke),e.GI1(A.i),e.GI1(Ve),e.GI1(F.$K))},n.\u0275cmp=e.In1({type:n,selectors:[["tui-input-phone-international"]],viewQuery:function(t,o){if(1&t&&(e.CC$(be,5),e.CC$(L.y_,5)),2&t){let r;e.wto(r=e.Gqi())&&(o.inputPhoneComponent=r.first),e.wto(r=e.Gqi())&&(o.primitiveTextfield=r.first)}},hostVars:1,hostBindings:function(t,o){1&t&&e.qCj("paste.capture.prevent.stop",function(a){return o.onPaste(a)})("drop.capture.prevent.stop",function(a){return o.onPaste(a)}),2&t&&e.e48("data-size",o.size)},inputs:{isoCode:[e.Wk5.None,"countryIsoCode","isoCode"],countries:"countries"},outputs:{countryIsoCodeChange:"countryIsoCodeChange"},features:[e.M5G([(0,V.NK)(n),(0,R.q4)(n),A.i,Ve],[xe.YL]),e.eg9],ngContentSelectors:lt,decls:2,vars:3,consts:[["class","t-hosted-dropdown",3,"canOpen","content","open","openChange","tuiActiveZoneChange",4,"ngIf"],[1,"t-hosted-dropdown",3,"canOpen","content","open","openChange","tuiActiveZoneChange"],["tuiGroup",""],["tuiHintContent","","tuiTextfieldPostfix","","tuiTextfieldPrefix","",1,"t-country-select","tui-group__auto-width-item",3,"disabled","editable","focusable","pseudoFocus","readOnly","tuiTextfieldCustomContent","tuiTextfieldIcon","tuiTextfieldLabelOutside"],[1,"t-input-phone","tui-group__auto-width-item",3,"countryCode","disabled","focusable","phoneMaskAfterCountryCode","pseudoFocus","pseudoHover","pseudoInvalid","readOnly","ngModel","ngModelChange"],["autocomplete","new-password","tuiTextfield",""],["dropdown",""],["countryValueContent",""],["icon",""],["tuiOption","",3,"click",4,"ngFor","ngForOf"],["tuiOption","",3,"click"],["alt","",1,"t-country-item-flag",3,"src"],[1,"t-country-item-name"],[1,"t-country-item-code"],[1,"t-flag",3,"alt","src"],["appearance","icon","tuiWrapper",""],[4,"polymorpheusOutlet"]],template:function(t,o){1&t&&(e.kPM(),e.yuY(0,ut,12,20,"tui-hosted-dropdown",0),e.wVc(1,"async")),2&t&&e.E7m("ngIf",e.kDX(1,1,o.countriesNames$))},dependencies:[w.Qw,L.y_,be,L.b,X.yi,X.sP,I.u_,y.M,ee.Ko,L.KQ,te.cb,F.We,F.Id,F.a4,F.uU,F.E9,et,u.ue,u._G,I.ay,ne.S,Be.Af,I.a,A.i,f.M],styles:["[_nghost-%COMP%]{display:block}._disabled[_nghost-%COMP%]{pointer-events:none}.t-hosted-dropdown[_ngcontent-%COMP%]{display:block}.t-country-select[_ngcontent-%COMP%]{width:5.625rem}.t-country-select[_ngcontent-%COMP%]:not(._readonly)     input:not(:disabled){cursor:pointer}.t-country-select._readonly[_ngcontent-%COMP%]     input{cursor:default}.t-country-select[data-size=m][_ngcontent-%COMP%]{width:5.5rem}.t-country-select[data-size=s][_ngcontent-%COMP%]{width:2rem}.t-country-select[data-size=s][_ngcontent-%COMP%]   .t-flag[_ngcontent-%COMP%]{margin-left:-1rem}.t-arrow-icon[_ngcontent-%COMP%]{position:relative;display:flex;width:1.5rem;height:1.5rem;align-items:center;justify-content:center;box-sizing:border-box;cursor:pointer;pointer-events:none;pointer-events:auto}._readonly[_nghost-%COMP%]   .t-arrow-icon[_ngcontent-%COMP%], ._disabled[_nghost-%COMP%]   .t-arrow-icon[_ngcontent-%COMP%]{pointer-events:none}.t-arrow-icon_open[_ngcontent-%COMP%]{transform:rotate(180deg)}.t-input-phone[_ngcontent-%COMP%]{flex:1}.t-flag[_ngcontent-%COMP%]{width:1.75rem;height:1.25rem;margin-left:-.5rem}.t-country-item-flag[_ngcontent-%COMP%]{width:1.75rem;height:1.25rem}.t-country-item-name[_ngcontent-%COMP%]{margin-left:.75rem;margin-right:auto}.t-country-item-code[_ngcontent-%COMP%]{color:var(--tui-text-02);margin-right:.25rem}"],changeDetection:0}),(0,c.UN)([D.w7],n.prototype,"calculateMaskAfterCountryCode",null),n})(),dt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.a4G({type:n}),n.\u0275inj=e.s3X({imports:[[I.MD,u.y,Be.Ux,B.Yt,tt,ee.Gy,L.KA,F.aS,te.WY,w.GE,X.A$,ye.S2,ne.g,se.kR,f.E,y.L,A.y]]}),n})();var Te=s(8588),Re=s(9888),ce=s(3273),Ye=s(5e3),pt=s(908);const Ct=(n,i,t)=>({"bg-primary text-bold text-white":n,"border-t":i,"border-s":t});function mt(n,i){if(1&n){const t=e.KQA();e.I0R(0,"div",5),e.qCj("click",function(){const a=e.usT(t).$implicit,C=e.GaO();return e.CGJ(C.control.setValue(a))}),e.OEk(1),e.C$Y()}if(2&n){const t=i.$implicit,o=e.GaO();e.E7m("ngClass",e.uAc(2,Ct,o.control.value===t,t<o.perRow+1,(t-1)%o.perRow==0)),e.yG2(),e.oRS(" ",t," ")}}const ht=(n,i)=>({"grid-template-rows":n,"grid-template-columns":i}),Ot=["*"];let Et=(()=>{class n{constructor(){this.cd=(0,e.uUt)(e.kD9),this.control=new u.Ku(null),this.maxPeople=10,this.perRow=2,this.options=[]}ngOnInit(){this.recalculatePerRow(),this.recalculateOptions()}ngOnChanges(){this.recalculatePerRow(),this.recalculateOptions()}writeValue(t){if("string"==typeof t&&t.length>0&&t.match(/^\d+$/)&&(t=Number(t)),null==typeof t&&(t=null),null===t||"number"==typeof t)return this.control.setValue(t),void this.cd.detectChanges();console.warn(`PeopleCountInputComponent: invalid value ${t}`)}registerOnChange(t){this.control.valueChanges.subscribe(t)}registerOnTouched(t){this.control.valueChanges.subscribe(t)}setDisabledState(t){t?this.control.disable():this.control.enable()}recalculatePerRow(){let t=5;for(;t>2;){if(this.maxPeople%t==0)return void(this.perRow=t);t--}this.perRow=t}recalculateOptions(){this.options=Array.from({length:this.maxPeople},(t,o)=>o+1)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-people-count-input"]],inputs:{maxPeople:"maxPeople"},standalone:!0,features:[e.M5G([E.UF,{provide:u.Y6,useExisting:n,multi:!0}]),e.SYr,e.UHJ],ngContentSelectors:Ot,decls:8,vars:5,consts:()=>{let t;return t="\n           For larger bookings of \n          " + "\ufffd0\ufffd" + "\n           people, \n          " + "\ufffd#7\ufffd" + "\n           contact us \n          " + "\ufffd/#7\ufffd" + "\n           . \n        ",[[1,"flex","items-center","justify-center","mb-5"],[1,"grid","border-primary","text-2xl",3,"ngStyle"],[1,"text-center","text-lg"],t,[1,"ms-1"],[1,"cursor-pointer","flex","items-center","justify-center","border-primary","border-e","border-b",3,"ngClass","click"],["class","cursor-pointer flex items-center justify-center border-primary border-e border-b",3,"ngClass"]]},template:function(o,r){1&o&&(e.kPM(),e._Xx(0),e.I0R(1,"div",0)(2,"div",1),e.c53(3,mt,2,6,"div",6,e.oxv),e.C$Y()(),e.I0R(5,"p",2),e.Mff(6,3),e.wR5(7,"app-contact-us",4),e.U7j(),e.C$Y()),2&o&&(e.yG2(2),e.E7m("ngStyle",e.IBC(2,ht,"repeat("+r.options.length/r.perRow+", 5rem)","repeat("+r.options.length/(r.options.length/r.perRow)+", 5rem)")),e.yG2(),e.oho(r.options),e.yG2(4),e.oBb(r.maxPeople),e.Ylm(6))},dependencies:[I.QF,I.Qt,v.w,pt.Q],changeDetection:0})}return n})();var Me=s(8824),ve=s(400),de=s(9880),ze=s(1673),Ke=s(7692),gt=s(3412),ft=s(9212),It=s(7368),pe=s(964),Xe=s(9772),Tt=s(1560),Ne=s(4388),Ce=s(7048),Pe=s(8256),W=s(8392),Se=s(4820);function Rt(n,i){if(1&n){const t=e.KQA();e.I0R(0,"p",7),e.SAx(1),e.aS0(2,8),e.k70(),e.I0R(3,"span",9),e.qCj("click",function(){e.usT(t);const r=e.GaO();return e.CGJ(r.date.reset())}),e.OEk(4),e.wVc(5,"date"),e.I0R(6,"mat-icon",10),e.OEk(7,"edit"),e.C$Y()()()}if(2&n){const t=e.GaO();e.yG2(4),e.oRS(" ",e.g7$(5,1,t.date.value.toLocalNativeDate(),"EEEE d MMMM y")," ")}}function Mt(n,i){1&n&&e.wR5(0,"tui-loader",6),2&n&&e.E7m("showLoader",!0)}const vt=(n,i)=>({"btn-primary":n,"btn-primary-outline":i});function Nt(n,i){if(1&n){const t=e.KQA();e.I0R(0,"button",13),e.qCj("click",function(){const a=e.usT(t).$implicit,C=e.GaO(3);return e.CGJ(C.onTimeClick(a))}),e.OEk(1),e.C$Y()}if(2&n){const t=i.$implicit,o=e.GaO(3);e.E7m("ngClass",e.IBC(2,vt,o.time.value&&o.time.value.hours==t.hours&&o.time.value.minutes==t.minutes,!(o.time.value&&o.time.value.hours==t.hours&&o.time.value.minutes==t.minutes))),e.yG2(),e.oRS(" ",t," ")}}function Pt(n,i){if(1&n&&(e.I0R(0,"tui-checkbox-block",14)(1,"div",15),e.OEk(2),e.C$Y()()),2&n){const t=e.GaO(3);let o;e.E7m("formControl",t.paymentAccepted),e.yG2(2),e.cNF((null==(o=t.group())?null:o.message)||t.defaultMessage)}}function St(n,i){if(1&n&&(e.I0R(0,"div",11),e.c53(1,Nt,2,5,"button",16,e.oxv),e.C$Y(),e.yuY(3,Pt,3,2,"tui-checkbox-block",12)),2&n){const t=e.GaO(2);e.yG2(),e.oho(t.validTimes()),e.yG2(2),e.C0Y(3,t.group()?3:-1)}}function yt(n,i){1&n&&(e.I0R(0,"div")(1,"p",17),e.aS0(2,18),e.C$Y()())}function At(n,i){if(1&n&&e.yuY(0,St,4,1)(1,yt,3,0),2&n){const t=e.GaO();e.C0Y(0,t.validTimes().length>0?0:1)}}let xt=(()=>{class n{constructor(){this.cd=(0,e.uUt)(e.kD9),this.reservationsService=(0,e.uUt)(Se.G),this.notifications=(0,e.uUt)(Ne.E),this.destroy$=(0,e.uUt)(E.UF),this.valueChanged=new e._w7,this.inputTouch=new e._w7,this.lastEmitted=null,this.date=new u.Ku(null,[u.AQ.required]),this.time=new u.Ku(null,[u.AQ.required]),this.group=(0,e.OCB)(null),this.paymentAccepted=new u.Ku(!1),this.groups=(0,e.OCB)({}),this.validTimes=(0,e.OCB)([]),this.loadingTimes=(0,e.OCB)(!1),this.today=(0,e.OCB)(ve.EK.currentLocal()),this.disabledDates=t=>!(!t.dayBefore(this.today())&&!t.dayAfter(this.today().append({day:this.maxDaysInAdvance}))),this.maxDaysInAdvance=300,this.defaultMessage="\n           To secure one of our tables, a payment will be required that will be\n          deducted from the final bill at the restaurant. \n        "}ngOnInit(){this.time.valueChanges.pipe((0,S.a)(this.destroy$)).subscribe({next:t=>{this.paymentAccepted.setValue(!1);const o={...this.groups()};if(t){const r=o[t.toString()];this.group.set(r)}else this.group.set(null)}}),(0,gt.U)(this.date.valueChanges.pipe((0,S.a)(this.destroy$),(0,h.I)(()=>this.date.valid)),this.time.valueChanges.pipe((0,S.a)(this.destroy$),(0,h.I)(()=>this.time.valid)),this.paymentAccepted.valueChanges.pipe((0,S.a)(this.destroy$),(0,h.I)(()=>!0===this.paymentAccepted.value))).subscribe({next:()=>{this.touched();const t=this.date.value,o=this.time.value;t&&o&&(!this.group()||this.paymentAccepted.value)&&this.emit((0,pe.Qx)(t,o))}}),this.date.valueChanges.pipe((0,S.a)(this.destroy$),(0,h.I)(t=>t instanceof ve.EK),(0,ft.y)(()=>this.loadingTimes.set(!0)),(0,It.G)(t=>this.reservationsService.getValidTimes(t).pipe((0,Me.U)(()=>this.loadingTimes.set(!1))))).subscribe({next:t=>{const o=t.map(r=>r.valid_times).filter(r=>Array.isArray(r)&&r.length>0).flat();this.validTimes.set(o.map(r=>ve.uc.fromString((0,Xe.CU)(r)))),this.groups.set(t.reduce((r,a)=>(a.valid_times?.forEach(C=>{a.preorder_reservation_group&&(r[(0,Xe.CU)(C)]=a.preorder_reservation_group)}),r),{}))},error:t=>{this.notifications.error(t instanceof Ce.gj?(0,Pe.mk)(t):W.a)}})}writeValue(t){return null==t?(this.date.reset(),void this.time.reset()):"string"==typeof t?(this.date.setValue((0,pe.ay)(t)),this.time.setValue((0,pe.QX)(t)),void setTimeout(()=>this.cd.detectChanges())):void console.warn("Invalid parameter provided to writeValue",{obj:t})}registerOnChange(t){this.valueChanged.subscribe(t)}registerOnTouched(t){this.inputTouch.subscribe(t)}setDisabledState(t){t?(this.date.disable(),this.time.disable()):(this.date.enable(),this.time.enable())}onDayClick(t){this.date.setValue(t)}touched(){this.inputTouch.emit()}emit(t){this.lastEmitted=t,this.valueChanged.emit(t)}onTimeClick(t){this.time.setValue(t)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-datetime-input"]],inputs:{maxDaysInAdvance:"maxDaysInAdvance"},outputs:{valueChanged:"valueChanged",inputTouch:"inputTouch"},standalone:!0,features:[e.M5G([E.UF,{provide:u.Y6,useExisting:n,multi:!0}]),e.UHJ],decls:10,vars:6,consts:()=>{let t,o,r;return t="Choose the date.",o="Select the time for the day.",r="\n           We are sorry, there are no available times for the selected date.\n          Please change the date and try again. \n        ",[[3,"expanded"],[1,"text-xl","text-center","mb-3"],t,[1,"flex","items-center","justify-center"],[3,"disabledItemHandler","value","touchend","dayClick"],["class","text-xl"],[3,"showLoader"],[1,"text-xl"],o,[1,"cursor-pointer","inline-flex","items-center","ms-2","underline",3,"click"],[1,"ms-1"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","gap-3"],["class","w-full my-5",3,"formControl"],["type","button","size","m","tuiButton","","appearance","custom",3,"ngClass","click"],[1,"w-full","my-5",3,"formControl"],[1,"w-full","text-pretty","my-3"],["type","button","size","m","tuiButton","","appearance","custom",3,"ngClass"],[1,"text-xl","text-danger"],r]},template:function(o,r){1&o&&(e.I0R(0,"tui-expand",0)(1,"p",1),e.SAx(2),e.aS0(3,2),e.k70(),e.C$Y(),e.I0R(4,"div",3)(5,"tui-calendar",4),e.qCj("touchend",function(){return r.touched()})("dayClick",function(C){return r.onDayClick(C)}),e.C$Y()()(),e.I0R(6,"tui-expand",0),e.yuY(7,Rt,8,4,"p",5)(8,Mt,1,1,"tui-loader",6)(9,At,2,1),e.C$Y()),2&o&&(e.E7m("expanded",r.date.invalid),e.yG2(5),e.E7m("disabledItemHandler",r.disabledDates)("value",r.today()),e.yG2(),e.E7m("expanded",r.date.valid),e.yG2(),e.C0Y(7,r.date.value?7:-1),e.yG2(),e.C0Y(8,r.loadingTimes()?8:9))},dependencies:[de.kh,de.st,ze.y,ze.I,g.CI,g.Kw,I.QF,I.y,Tt.qL,Ke.Sk,Ke.Cb,ce.i,ce.I,u.sl,u.ue,u.ug],changeDetection:0})}return n})();var Lt=s(1676),j=s(9938),$t=s(9956),Ut=s(3468),Gt=s(1588);function bt(n,i){if(1&n&&(e.OEk(0),e.SAx(1),e.aS0(2,7),e.k70()),2&n){const t=e.GaO();e.oRS(" ",t.people.value," ")}}function Dt(n,i){1&n&&(e.SAx(0),e.aS0(1,8),e.k70())}function Vt(n,i){if(1&n&&(e.OEk(0),e.wVc(1,"date")),2&n){const t=e.GaO();e.oRS(" ",e.g7$(1,1,t.datetime.value,"EEEE d MMMM y HH:mm")," ")}}function Bt(n,i){1&n&&(e.SAx(0),e.aS0(1,9),e.k70())}function wt(n,i){if(1&n&&e.wR5(0,"app-errors",15),2&n){const t=e.GaO(2);e.E7m("errors",t.people.errors)}}function kt(n,i){if(1&n){const t=e.KQA();e.I0R(0,"div",10)(1,"div",11)(2,"app-people-count-input",12)(3,"span",13),e.aS0(4,14),e.C$Y()(),e.yuY(5,wt,1,1,"app-errors",15),e.I0R(6,"tui-expand",16)(7,"button",17),e.qCj("click",function(){e.usT(t);const r=e.GaO();return e.CGJ(r.nextStep())}),e.SAx(8),e.aS0(9,18),e.k70(),e.C$Y()()()()}if(2&n){const t=e.GaO();e.yG2(2),e.E7m("maxPeople",t.maxPeople())("formControl",t.people),e.yG2(3),e.C0Y(5,t.showErrorsFor(0)?5:-1),e.yG2(),e.E7m("expanded",t.people.valid||t.maxIndex()>0)}}function Yt(n,i){if(1&n&&e.wR5(0,"app-errors",15),2&n){const t=e.GaO(2);e.E7m("errors",t.datetime.errors)}}function zt(n,i){if(1&n){const t=e.KQA();e.I0R(0,"div",10)(1,"div",11),e.wR5(2,"app-datetime-input",19),e.yuY(3,Yt,1,1,"app-errors",15),e.I0R(4,"tui-expand",16)(5,"button",17),e.qCj("click",function(){e.usT(t);const r=e.GaO();return e.CGJ(r.nextStep())}),e.SAx(6),e.aS0(7,20),e.k70(),e.C$Y()()()()}if(2&n){const t=e.GaO();e.yG2(2),e.E7m("maxDaysInAdvance",t.maxDaysInAdvance())("formControl",t.datetime),e.yG2(),e.C0Y(3,t.showErrorsFor(1)?3:-1),e.yG2(),e.E7m("expanded",t.datetime.valid||t.maxIndex()>1)}}function Kt(n,i){if(1&n&&e.wR5(0,"app-errors",15),2&n){const t=e.GaO(2);e.E7m("errors",t.contacts.controls.firstName.errors)}}function Xt(n,i){if(1&n&&e.wR5(0,"app-errors",15),2&n){const t=e.GaO(2);e.E7m("errors",t.contacts.controls.lastName.errors)}}function Ht(n,i){if(1&n&&e.wR5(0,"app-errors",15),2&n){const t=e.GaO(2);e.E7m("errors",t.contacts.controls.email.errors)}}function Qt(n,i){if(1&n&&e.wR5(0,"app-errors",15),2&n){const t=e.GaO(2);e.E7m("errors",t.contacts.controls.phone.errors)}}function Wt(n,i){if(1&n){const t=e.KQA();e.I0R(0,"div",21)(1,"form",22),e.qCj("ngSubmit",function(){e.usT(t);const r=e.GaO();return e.CGJ(r.nextStep())}),e.I0R(2,"div",23)(3,"div",24)(4,"tui-input",25),e.SAx(5),e.aS0(6,26),e.k70(),e.wR5(7,"input",27),e.C$Y(),e.yuY(8,Kt,1,1,"app-errors",15),e.C$Y(),e.I0R(9,"div",24)(10,"tui-input",28),e.SAx(11),e.aS0(12,29),e.k70(),e.wR5(13,"input",30),e.C$Y(),e.yuY(14,Xt,1,1,"app-errors",15),e.C$Y()(),e.I0R(15,"div",31)(16,"tui-input",25),e.SAx(17),e.aS0(18,32),e.k70(),e.wR5(19,"input",33),e.C$Y(),e.yuY(20,Ht,1,1,"app-errors",15),e.C$Y(),e.I0R(21,"div",31)(22,"tui-input-phone-international",34),e.iHE("countryIsoCodeChange",function(r){e.usT(t);const a=e.GaO();return e.kNx(a.countryIsoCode,r)||(a.countryIsoCode=r),e.CGJ(r)}),e.SAx(23),e.aS0(24,35),e.k70(),e.C$Y(),e.yuY(25,Qt,1,1,"app-errors",15),e.C$Y(),e.I0R(26,"tui-expand",16)(27,"button",36),e.SAx(28),e.aS0(29,37),e.k70(),e.C$Y()()()()}if(2&n){const t=e.GaO();e.yG2(),e.E7m("formGroup",t.contacts),e.yG2(3),e.E7m("tuiAutoFocus",!0)("formControlName","firstName"),e.yG2(4),e.C0Y(8,t.showErrorsFor(2)?8:-1),e.yG2(2),e.E7m("formControlName","lastName"),e.yG2(4),e.C0Y(14,t.showErrorsFor(2)?14:-1),e.yG2(2),e.E7m("tuiAutoFocus",!0)("formControlName","email"),e.yG2(4),e.C0Y(20,t.showErrorsFor(2)?20:-1),e.yG2(2),e.E7m("countries",t.countries),e.OKB("countryIsoCode",t.countryIsoCode),e.E7m("formControlName","phone"),e.yG2(3),e.C0Y(25,t.showErrorsFor(2)?25:-1),e.yG2(),e.E7m("expanded",t.contacts.valid)}}function jt(n,i){if(1&n){const t=e.KQA();e.I0R(0,"div",21)(1,"form",22),e.qCj("ngSubmit",function(){e.usT(t);const r=e.GaO();return e.CGJ(r.nextStep())}),e.I0R(2,"div",31)(3,"tui-input-number",38),e.OEk(4," Quanti bambini ci saranno con voi? "),e.C$Y()(),e.I0R(5,"div",31)(6,"tui-textarea",39),e.SAx(7),e.aS0(8,40),e.k70(),e.C$Y()(),e.I0R(9,"div",31)(10,"tui-checkbox-block",41),e.SAx(11),e.aS0(12,42),e.k70(),e.C$Y()(),e.I0R(13,"button",43),e.SAx(14),e.aS0(15,44),e.k70(),e.C$Y()()()}if(2&n){const t=e.GaO();e.yG2(),e.E7m("formGroup",t.notesForm),e.yG2(2),e.E7m("decimal","never")("min",0)("step",1)("max",t.people.value),e.yG2(10),e.E7m("showLoader",t.submitting())("disabled",t.notesForm.invalid)}}class J{constructor(){this.destroy$=(0,e.uUt)(E.UF),this.reservations=(0,e.uUt)(Se.G),this.notifications=(0,e.uUt)(Ne.E),this.publicDataService=(0,e.uUt)(Lt.s),this.cd=(0,e.uUt)(e.kD9),this.createdReservation=new e._w7,this.currentIndex=(0,e.OCB)(0),this.lastMaxIndex=0,this.maxIndex=(0,e.S6b)(()=>{const i=this.currentIndex();return this.lastMaxIndex<i&&(this.lastMaxIndex=i),this.lastMaxIndex}),this.maxPeople=(0,e.OCB)(10),this.maxDaysInAdvance=(0,e.OCB)(300),this.submitting=(0,e.OCB)(!1),this.submitted=(0,e.OCB)(!1),this.people=new u.Ku(null,[u.AQ.required,_.S.min(0)]),this.datetime=new u.Ku(null,[u.AQ.required,_.S.pattern(pe.e6)]),this.contacts=new u.WC({firstName:new u.Ku(null,[u.AQ.required,u.AQ.minLength(2)]),lastName:new u.Ku(null,[u.AQ.required,u.AQ.minLength(2)]),email:new u.Ku(null,[u.AQ.required,u.AQ.email]),phone:new u.Ku(null,[u.AQ.required,u.AQ.minLength(6)])}),this.notesForm=new u.WC({notes:new u.Ku(null),children:new u.Ku(0,[u.AQ.required,_.S.min(0)]),acceptTerms:new u.Ku(!1,[u.AQ.requiredTrue])}),this.countries=Object.values(k.q),this.configs=(0,e.uUt)(Ut.m),this.countryIsoCode=k.q.IT,this.locale="en",this.steps={0:{form:this.people,submitted:!1,viewed:!1},1:{form:this.datetime,submitted:!1,viewed:!1},2:{form:this.contacts,submitted:!1,viewed:!1},3:{form:this.notesForm,submitted:!1,viewed:!1}}}ngOnInit(){this.configs.locale$.pipe((0,S.a)(this.destroy$)).subscribe(i=>{this.locale=i}),this.people.valueChanges.pipe((0,S.a)(this.destroy$),(0,h.I)(i=>"number"==typeof i&&i>0),(0,h.I)(()=>0===this.currentIndex())).subscribe({next:()=>{setTimeout(()=>this.nextStep(),10)}}),this.datetime.valueChanges.pipe((0,S.a)(this.destroy$),(0,h.I)(i=>this.datetime.valid),(0,h.I)(()=>1===this.currentIndex())).subscribe({next:()=>{setTimeout(()=>this.nextStep(),10)}}),this.publicDataService.data$.pipe((0,S.a)(this.destroy$),(0,h.I)(i=>null!==i)).subscribe({next:i=>{const t=i.settings.max_people_per_reservation??null;this.maxPeople.set(t?Number(t):this.maxPeople());const o=i.settings.reservation_max_days_in_advance??null;this.maxDaysInAdvance.set(o?Number(o):this.maxDaysInAdvance())}})}nextStep(){this.currentStep().submitted=!0,!this.currentStep().form.invalid&&(this.steps[this.currentIndex()+1]?(this.currentIndex.update(i=>i+1),this.currentStep().viewed=!0):this.submitForm())}setState(i){this.currentIndex.set(i)}getState(i){const t=this.steps[i];if(!t)return"normal";const o=t.form;return!o||i>this.currentIndex()?"normal":o.invalid&&o.dirty?"error":o.valid?"pass":"normal"}showErrorsFor(i){if(this.submitted())return!0;const t=this.steps[i];return!t||t.submitted}currentStep(){return this.steps[this.currentIndex()]}loadPrevious(i){let t=0;i.adults&&(t+=i.adults),i.children&&(t+=i.children),this.people.setValue(t||null),this.datetime.setValue(i.datetime?i.datetime:null),i.firstName&&this.contacts.get("firstName")?.setValue(i.firstName),i.lastName&&this.contacts.get("lastName")?.setValue(i.lastName),i.email&&this.contacts.get("email")?.setValue(i.email),i.phone&&this.contacts.get("phone")?.setValue(i.phone),i.phoneCountry&&(this.countryIsoCode=i.phoneCountry),i.notes&&this.notesForm.patchValue({notes:i.notes}),i.children&&this.notesForm.patchValue({children:i.children})}formatOutput(){const i=this.contacts.get("email")?.value,t=this.contacts.get("phone")?.value,o=this.contacts.get("firstName")?.value,r=this.contacts.get("lastName")?.value,a=this.datetime.value,C=this.notesForm.get("children")?.value,M=this.people.value,$=this.notesForm.get("notes")?.value;let b=M||0;return C&&(b-=C),function Ft(n){const i=(t,o)=>(console.warn(`Invalid field ${t}`,o),null);return"string"==typeof n.lang&&n.lang.length>0?"string"==typeof n.email&&n.email.length>0?"string"==typeof n.phone&&n.phone.length>0?"string"==typeof n.firstName&&n.firstName.length>0?"string"==typeof n.lastName&&n.lastName.length>0?"string"==typeof n.datetime&&n.datetime.length>0?null===n.notes||"string"==typeof n.notes&&n.notes.length>0?"number"==typeof n.children&&n.children>=0?"number"==typeof n.adults&&n.adults>0?{lang:n.lang,email:n.email,phone:n.phone,datetime:n.datetime,children:n.children,notes:n.notes,adults:n.adults,first_name:n.firstName,last_name:n.lastName}:i("adults",n.adults):i("children",n.children):i("notes",n.notes):i("datetime",n.datetime):i("lastName",n.lastName):i("firstName",n.firstName):i("phone",n.phone):i("email",n.email):i("lang",n.lang)}({email:i,phone:t,datetime:a,children:C,notes:$,adults:b,lang:this.locale,firstName:o,lastName:r})}reset(){this.currentIndex.set(0),Object.values(this.steps).forEach(i=>i.form.reset())}submitForm(){this.submitted.set(!0);const i=this.formatOutput();if(!i)return void this.notifications.error(W.a);let t=setTimeout(()=>this.submitting.set(!0),500);this.reservations.create(i).pipe((0,S.a)(this.destroy$),(0,Me.U)(()=>clearTimeout(t)),(0,Me.U)(()=>this.submitting.set(!1))).subscribe({next:o=>{o.payment?.hpp_url?window.location.href=o.payment.hpp_url:(this.createdReservation.emit(o),this.notifications.success("\n           Your reservation has been created. We will send you a confirmation\n          email shortly. \n        "),this.reset())},error:o=>{o instanceof Ce.gj&&422===o.status?this.manageUnprocessableEntity(o):this.notifications.error(o instanceof Ce.gj?(0,Pe.mk)(o):W.a)}})}manageUnprocessableEntity(i){if(!(i instanceof Ce.gj))return void this.notifications.error(W.a);if(!(422==i.status&&"object"==typeof i.error&&null!==i.error&&"object"==typeof i.error&&Object.keys(i.error.details).length>0))return console.warn("expected response to have status 422 and error { details: { <field>: <error> } } but did not ",i),void this.notifications.error(W.a);const t=i.error.details;console.warn("manageUnprocessableEntity()",{error:t,response:i}),t.people&&(j.y.assignErrorsToFormFromArray(this.people,t.people),delete t.adults,delete t.children,delete t.people),t.datetime&&(j.y.assignErrorsToFormFromArray(this.datetime,t.datetime),delete t.datetime),t.first_name&&(j.y.assignErrorsToFormFromArray(this.contacts.controls.firstName,t.first_name),delete t.first_name),t.last_name&&(j.y.assignErrorsToFormFromArray(this.contacts.controls.lastName,t.last_name),delete t.last_name),t.phone&&(j.y.assignErrorsToFormFromArray(this.contacts.controls.phone,t.phone),delete t.phone),t.email&&(j.y.assignErrorsToFormFromArray(this.contacts.controls.email,t.email),delete t.email),Object.keys(t).length>0&&this.notifications.error((0,Pe.Yj)(Object.values(t).flat())??W.a);const o=Object.keys(this.steps).find(r=>this.steps[Number(r)].form.invalid);o&&!isNaN(Number(o))&&Number(o)>=0&&this.currentIndex.set(Number(o)),this.cd.detectChanges()}static#e=this.\u0275fac=function(t){return new(t||J)};static#t=this.\u0275cmp=e.In1({type:J,selectors:[["app-public-reservation-form"]],outputs:{createdReservation:"createdReservation"},standalone:!0,features:[e.M5G([E.UF]),e.UHJ],decls:18,vars:9,consts:()=>{let i,t,o,r,a,C,M,$,b,Y,me,he,Oe,Ee,He,Qe;return i="Contacts",t="Summary",o="guests",r="How many people?",a="When?",C="Select the number of guests.",M="Continue",$="Continue",b="Name",Y="Surname",me="Email",he="Cell phone",Oe="Continue",Ee="Additional information, if necessary, should be added here!",He="I accept the terms and conditions.",Qe="Booking confirmation",[[1,"justify-around",3,"activeItemIndex"],["tuiStep","",3,"stepState","click"],i,t,[1,"w-full","h-full",3,"draggable","index","indexChange"],["class","p-3 flex items-center justify-center",4,"tuiItem"],["class","p-3",4,"tuiItem"],o,r,a,[1,"p-3","flex","items-center","justify-center"],[1,"max-w-[500px]"],[3,"maxPeople","formControl"],[1,"text-xl","text-center"],C,[3,"errors"],[3,"expanded"],["tuiButton","","appearance","custom","type","button",1,"btn-primary",3,"click"],M,[1,"block","mb-3",3,"maxDaysInAdvance","formControl"],$,[1,"p-3"],[1,"mx-auto","max-w-[500px]",3,"formGroup","ngSubmit"],[1,"flex","items-center","mb-3"],[1,"grow"],[1,"grow","me-2",3,"tuiAutoFocus","formControlName"],b,["tuiTextfield","","autocomplete","first_name"],[1,"grow","ms-2",3,"formControlName"],Y,["tuiTextfield","","autocomplete","last_name"],[1,"mb-3"],me,["tuiTextfield","","autocomplete","email"],[3,"countries","countryIsoCode","formControlName","countryIsoCodeChange"],he,["tuiButton","","appearance","custom","type","submit",1,"btn-primary"],Oe,["formControlName","children",3,"decimal","min","step","max"],["formControlName","notes"],Ee,["formControlName","acceptTerms"],He,["tuiButton","","appearance","custom","type","submit",1,"btn-primary",3,"showLoader","disabled"],Qe]},template:function(t,o){1&t&&(e.I0R(0,"tui-stepper",0)(1,"button",1),e.qCj("click",function(){return o.setState(0)}),e.yuY(2,bt,3,1,"ng-container")(3,Dt,2,0),e.C$Y(),e.I0R(4,"button",1),e.qCj("click",function(){return o.setState(1)}),e.yuY(5,Vt,2,4)(6,Bt,2,0),e.C$Y(),e.I0R(7,"button",1),e.qCj("click",function(){return o.setState(2)}),e.SAx(8),e.aS0(9,2),e.k70(),e.C$Y(),e.I0R(10,"button",1),e.qCj("click",function(){return o.setState(3)}),e.SAx(11),e.aS0(12,3),e.k70(),e.C$Y()(),e.I0R(13,"tui-carousel",4),e.iHE("indexChange",function(a){return e.kNx(o.currentIndex,a)||(o.currentIndex=a),a}),e.yuY(14,kt,10,4,"div",5)(15,zt,8,4,"div",5)(16,Wt,30,14,"div",6)(17,jt,16,7,"div",6),e.C$Y()),2&t&&(e.E7m("activeItemIndex",o.currentIndex()),e.yG2(),e.E7m("stepState",o.getState(0)),e.yG2(),e.C0Y(2,o.people.value&&o.people.valid&&o.currentIndex()>0?2:3),e.yG2(2),e.E7m("stepState",o.getState(1)),e.yG2(),e.C0Y(5,o.datetime.value&&o.datetime.valid&&o.currentIndex()>1?5:6),e.yG2(2),e.E7m("stepState",o.getState(2)),e.yG2(3),e.E7m("stepState",o.getState(3)),e.yG2(3),e.E7m("draggable",!1),e.OKB("index",o.currentIndex))},dependencies:[fe,ie,re,Et,u.sl,u.sz,u.ue,u.u,u.ug,u.uW,u.Wo,q.uG,q.iy,q.Ep,Gt.S,xt,m.CQ,m.Oo,m.cP,L.b,g.CI,g.Kw,I.y,Ye.m6,Ye.gJ,dt,ct,Te.Y3,Te.wp,Te.kd,Re.Q7,Re.mi,Re.Qj,ce.i,ce.I,de.kh,de.st,$t.g],styles:["[_nghost-%COMP%]     tui-stepper{--tui-primary: var(--first-color);--tui-link: var(--first-color);--tui-secondary: var(--second-color);--tui-link-hover: var(--second-color);--tui-secondary-hover: var(--first-color)}"],changeDetection:0})}(0,c.UN)([D.w7],J.prototype,"getState",null),(0,c.UN)([D.w7],J.prototype,"showErrorsFor",null);var Jt=s(6616),Zt=s(7296),qt=s(1680);function en(n,i){1&n&&(e.SAx(0),e.aS0(1,4),e.k70())}function tn(n,i){1&n&&(e.SAx(0),e.aS0(1,5),e.k70())}function nn(n,i){if(1&n&&e.wR5(0,"app-public-reservation-confirmation",3),2&n){const t=e.GaO();e.E7m("reservation",t.createdReservation())}}function on(n,i){1&n&&(e.I0R(0,"p",6),e.SAx(1),e.aS0(2,7),e.k70(),e.C$Y(),e.wR5(3,"app-public-message",8)(4,"app-public-reservation-form")),2&n&&(e.yG2(3),e.E7m("location","new-reservation-form"))}let rn=(()=>{class n{constructor(){this.notifications=(0,e.uUt)(Ne.E),this.reservations=(0,e.uUt)(Se.G),this.destroy$=(0,e.uUt)(E.UF),this.localStorage=(0,e.uUt)(Jt.s),this.createdReservation=(0,e.OCB)(null),this.resendingConfirmation=(0,e.OCB)(!1)}ngOnInit(){this.reservations.created.pipe((0,S.a)(this.destroy$)).subscribe({next:t=>{this.createdReservation.set(t)}})}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-public-home-reserve"]],standalone:!0,features:[e.M5G([E.UF]),e.UHJ],decls:7,vars:2,consts:()=>{let t,o,r;return t="Booking confirmed!",o="Book now",r="Reserve your spot at one of our tables and secure our exclusive experience.",[[1,"mx-4","md:mx-8","lg:mx-12"],[1,"text-5xl","text-center","text-primary","mb-2"],[1,"bg-primary","w-3/4","mx-auto","h-[1px]","mb-5"],[3,"reservation"],t,o,[1,"text-xl","text-center","mb-3"],r,[1,"block","mb-3","text-center","text-xl",3,"location"]]},template:function(o,r){1&o&&(e.I0R(0,"div",0)(1,"h2",1),e.yuY(2,en,2,0,"ng-container")(3,tn,2,0),e.C$Y(),e.wR5(4,"hr",2),e.yuY(5,nn,1,1,"app-public-reservation-confirmation",3)(6,on,5,1),e.C$Y()),2&o&&(e.yG2(2),e.C0Y(2,r.createdReservation()?2:3),e.yG2(3),e.C0Y(5,r.createdReservation()?5:6))},dependencies:[g.CI,J,Zt.K,v.w,qt.I],styles:["[_nghost-%COMP%]{background-color:var(--sixth-color)}"],changeDetection:0})}return n})()},1680:(z,P,s)=>{s.d(P,{I:()=>q});var e=s(4496),g=s(7296),v=s(7048),c=s(8256),u=s(8392),_=s(4820),l=s(6616),p=s(4388),O=s(3480),T=s(3616),d=s(8824),E=s(1368),D=s(2992),B=s(8212),U=s(1512),K=s(7692),H=s(908);function Q(m,y){1&m&&(e.I0R(0,"p",0),e.aS0(1,9),e.C$Y())}function S(m,y){if(1&m&&(e.I0R(0,"p",0),e.aS0(1,10),e.C$Y(),e.I0R(2,"div",11)(3,"a",12),e.SAx(4),e.aS0(5,13),e.k70(),e.C$Y()()),2&m){const f=e.GaO(4);e.yG2(3),e._6D("href",f.reservation.payment.hpp_url,e.K6U)}}function h(m,y){if(1&m&&e.yuY(0,Q,2,0,"p",8)(1,S,6,1),2&m){const f=e.GaO(3);e.C0Y(0,f.isFreshReservation()?0:1)}}function I(m,y){1&m&&(e.I0R(0,"p",0),e.aS0(1,14),e.C$Y())}function N(m,y){if(1&m&&e.yuY(0,h,2,1)(1,I,2,0),2&m){const f=e.GaO(2);let R;e.C0Y(0,"todo"===(R=f.reservation.payment.status)?0:"paid"===R?1:-1)}}function G(m,y){1&m&&(e.I0R(0,"p",0),e.aS0(1,15),e.C$Y())}function Z(m,y){1&m&&(e.SAx(0),e.aS0(1,16),e.k70())}function ge(m,y){1&m&&e.wR5(0,"tui-loader",19)}function ie(m,y){1&m&&(e.SAx(0),e.aS0(1,20),e.k70())}function re(m,y){if(1&m){const f=e.KQA();e.SAx(0),e.aS0(1,17),e.k70(),e.I0R(2,"span",18),e.qCj("click",function(){e.usT(f);const V=e.GaO(2);return e.CGJ(V.resendConfirmation())}),e.yuY(3,ge,1,0,"tui-loader",19)(4,ie,2,0),e.C$Y()}if(2&m){const f=e.GaO(2);e.yG2(3),e.C0Y(3,f.resendingConfirmation()?3:4)}}function fe(m,y){if(1&m&&(e.yuY(0,N,2,1)(1,G,2,0),e.I0R(2,"p",0),e.yuY(3,Z,2,0,"ng-container")(4,re,5,1),e.C$Y(),e.I0R(5,"p",0),e.SAx(6),e.aS0(7,1),e.k70(),e.OEk(8),e.wVc(9,"date"),e.wVc(10,"date"),e.C$Y(),e.wR5(11,"app-public-message",2),e.I0R(12,"div",3),e.SAx(13),e.aS0(14,4),e.k70(),e.I0R(15,"app-contact-us"),e.OEk(16,"Contattaci"),e.C$Y(),e.I0R(17,"span",5),e.OEk(18,"-"),e.C$Y(),e.I0R(19,"a",6),e.SAx(20),e.aS0(21,7),e.k70(),e.C$Y()()),2&m){const f=e.GaO();e.C0Y(0,f.reservation.payment?0:1),e.yG2(3),e.C0Y(3,f.isFreshReservation()?3:4),e.yG2(5),e.CAO(" ",e.g7$(9,6,f.reservation.datetime,"EEEE d MMMM y")," ",e.g7$(10,9,f.reservation.datetime,"HH:mm"),". "),e.yG2(3),e.E7m("location","existing-reservation-form"),e.yG2(8),e.CI5("routerLink","/cr/",f.reservation.secret,"")}}let q=(()=>{class m{constructor(){this.notifications=(0,e.uUt)(p.E),this.reservations=(0,e.uUt)(_.G),this.destroy$=(0,e.uUt)(O.UF),this.localStorage=(0,e.uUt)(l.s),this.resendingConfirmation=(0,e.OCB)(!1)}isFreshReservation(){return this.reservation&&this.reservation.created_at?this.reservation.created_at.getTime()-Date.now()<3e5:(console.warn("isFreshReservation","missing reservation or created_at",this.reservation),!1)}resendConfirmation(){const f=this.reservation?.secret;f&&(this.resendingConfirmation.set(!0),this.reservations.resendConfirmation(f).pipe((0,T.a)(this.destroy$),(0,d.U)(()=>this.resendingConfirmation.set(!1))).subscribe({next:()=>{this.notifications.fireSnackBar("The email will arrive shortly.")},error:R=>{this.notifications.error(R instanceof v.gj?(0,c.mk)(R):u.a)}}))}static#e=this.\u0275fac=function(R){return new(R||m)};static#t=this.\u0275cmp=e.In1({type:m,selectors:[["app-public-reservation-confirmation"]],inputs:{reservation:"reservation"},standalone:!0,features:[e.UHJ],decls:1,vars:1,consts:()=>{let f,R,V,se,w,L,X,ee,te,F,ne;return f="The reservation is set for",R="Forgot something?",V="Cancel reservation",se="\n           The payment to confirm the reservation does not appear to have been\n          successful, but it is possible that you may need to wait a few\n          minutes. Please try again later. \n        ",w="The payment to confirm the reservation has not been successful.",L="Execute payment",X="\n           The payment for the reservation has been successfully completed and\n          the reservation is confirmed. \n        ",ee="Your reservation has been created.",te="You will receive a confirmation email shortly.",F="You should have received a confirmation email. Has it not arrived?",ne="Forward email",[[1,"text-xl","text-center","mb-3"],f,[1,"block","mb-3","text-center","text-xl",3,"location"],[1,"flex","items-center","justify-center","mb-3","text-xl"],R,[1,"mx-2"],["tuiLink","",3,"routerLink"],V,["class","text-xl text-center mb-3"],se,w,[1,"flex","items-center","justify-center","mb-3"],["size","m","tuiButton","","appearance","custom",1,"btn-primary","me-2",3,"href"],L,X,ee,te,F,["type","button","role","button","size","m",1,"cursor-pointer","inline-flex","items-center","ms-2","underline",3,"click"],["size","xs"],ne]},template:function(R,V){1&R&&e.yuY(0,fe,22,12),2&R&&e.C0Y(0,V.reservation?0:-1)},dependencies:[E.y,B.CI,B.Kw,g.K,D.ER,U.w,U.C,H.Q,K.Sk,K.Cb],changeDetection:0})}return m})()},9852:(z,P,s)=>{s.d(P,{S:()=>c});var e=s(6504);const g=u=>null!=u&&""!=`${u}`;class c extends e.AQ{static listOfEmails(_){const l=_.value;if(!l||"string"!=typeof l||!l.length)return null;const p=new RegExp("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$","i");return l.split(/\,|\s+/gm).map(O=>O.trim()).filter(O=>O.length).forEach(O=>{if(!p.test(O))return{listOfEmails:!0}}),null}static mustBeArray(_){return Array.isArray(_.value)?null:{mustBeArray:!0}}static arrayMinLength(_){return l=>Array.isArray(l.value)&&l.value.length<_?{arrayMinLength:{requiredLength:_,actualLength:l.value?.length??0}}:null}static validateArray(_){return l=>{if(!Array.isArray(l.value))return null;const p={};for(const O of l.value){const T=_(new e.yM(O));T&&Object.assign(p,T)}return Object.keys(p).length?p:null}}static percentage(_){return g(_.value)&&(isNaN(_.value)||_.value<0||_.value>100)?{percentage:!0}:null}static phoneIT(_){const l=O=>O?null:{phoneIT:!0},p=`${_.value}`.trim().replace(/\s+/gm,"").replace(/^\+39/gm,"");return g(p)?l(!((u=p).length<9||isNaN(Number(u))||u.length>14)):l(!0);var u}static instanceof(_){return l=>!g(l.value)||l.value instanceof _?null:{instanceof:!0}}static#e=this.instanceOf=this.instanceof;static numerical(_){return g(_.value)&&isNaN(_.value)?{numerical:!0}:null}static moreThan(_){return l=>l.value<=_?{moreThan:!0}:null}static in(_){return this.inclusion(_)}static inclusion(_){return l=>g(l.value)&&!_.includes(l.value)?{inclusion:!0}:null}}},964:(z,P,s)=>{s.d(P,{Ez:()=>p,Q1:()=>T,QX:()=>u,Qx:()=>v,_0:()=>O,ay:()=>c,e6:()=>g});var e=s(400);const g=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z$/;function v(d,E){return new Date(`${d.formattedYear}-${d.formattedMonthPart}-${d.formattedDayPart} ${E.toString()}`).toISOString()}function c(d){if(!("string"==typeof d&&d.length>0&&d.match(g)))return console.error("Invalid string provided to isoStringToTuiDay",{isoString:d}),null;const E=new Date(d);return new e.EK(E.getFullYear(),E.getMonth()+1,E.getDate())}function u(d){if(!("string"==typeof d&&d.length>0&&d.match(g)))return console.error("Invalid string provided to isoStringToTuiTime",{isoString:d}),null;const E=new Date(d);return new e.uc(E.getHours(),E.getMinutes())}function p(d){return new Date(`1970-01-01 ${d.toString()}`).toISOString()}function O(d){return new e.EK(d.getFullYear(),d.getMonth(),d.getDate())}function T(d){return new e.uc(d.getHours(),d.getMinutes())}},1588:(z,P,s)=>{s.d(P,{S:()=>g,s:()=>v});var e=s(4496);let g=(()=>{class c{}return c.\u0275fac=function(_){return new(_||c)},c.\u0275dir=e.Sc5({type:c,selectors:[["","tuiItem",""]]}),c})(),v=(()=>{class c{}return c.\u0275fac=function(_){return new(_||c)},c.\u0275mod=e.a4G({type:c}),c.\u0275inj=e.s3X({}),c})()},6988:(z,P,s)=>{s.d(P,{E:()=>_,Q:()=>l});var e=s(4496),g=s(3480),v=s(3840),c=s(3120),u=s(3616);let _=(()=>{class p{constructor(T,d){this.el=T,this.destroy$=d}set tuiScrollIntoView(T){T&&(0,c.k)(0).pipe((0,u.a)(this.destroy$)).subscribe(()=>{this.el.nativeElement.dispatchEvent(new CustomEvent(v.dG,{bubbles:!0,detail:this.el.nativeElement}))})}}return p.\u0275fac=function(T){return new(T||p)(e.GI1(e.GMv),e.GI1(g.UF,2))},p.\u0275dir=e.Sc5({type:p,selectors:[["","tuiScrollIntoView",""]],inputs:{tuiScrollIntoView:"tuiScrollIntoView"},features:[e.M5G([g.UF])]}),p})(),l=(()=>{class p{}return p.\u0275fac=function(T){return new(T||p)},p.\u0275mod=e.a4G({type:p}),p.\u0275inj=e.s3X({}),p})()},2500:(z,P,s)=>{s.d(P,{i:()=>u,y:()=>_});var e=s(4496),g=s(3656),v=s(3840),c=s(1343);let u=(()=>{class l{constructor(O){this.svgOptions=O,this.staticPath=this.svgOptions.path("tuiIcon").replace("tuiIcon.svg#tuiIcon","").replace(`tuiIcon.svg${v._m}#tuiIcon`,"")}transform(O){if(!O)return null;switch(O){case c.q.BL:case c.q.BQ:case c.q.CW:case c.q.GF:case c.q.GP:case c.q.MF:case c.q.MQ:case c.q.NC:case c.q.RE:case c.q.YT:return`${this.staticPath}${c.q.FR}.png`;case c.q.SX:return`${this.staticPath}${c.q.NL}.png`;default:return`${this.staticPath}${O}.png`}}}return l.\u0275fac=function(O){return new(O||l)(e.GI1(g.iY,16))},l.\u0275pipe=e.UTH({name:"tuiFlag",type:l,pure:!0}),l})(),_=(()=>{class l{}return l.\u0275fac=function(O){return new(O||l)},l.\u0275mod=e.a4G({type:l}),l.\u0275inj=e.s3X({}),l})()},7176:(z,P,s)=>{s.d(P,{S2:()=>K,ie:()=>U,qE:()=>Q,qu:()=>E});var e=s(4496),g=s(3656),v=s(5608),c=s(466),u=s(8048),_=s(1040),l=s(2528),p=s(1368);function O(h,I){1&h&&e.wR5(0,"tui-svg",2),2&h&&e.E7m("src",I.polymorpheusOutlet)}function T(h,I){1&h&&e.C_f(0)}const E=(0,l.AL)({iconSmall:"tuiIconChevronDown",iconLarge:"tuiIconChevronDownLarge"}),U=new _.WO((()=>{class h{constructor(N,G,Z){this.dropdown=N,this.textfieldSize=G,this.options=Z}get rotated(){return this.dropdown.open}get arrowIcon(){return(0,v.yi)(this.textfieldSize.size)?this.options.iconLarge:this.options.iconSmall}}return h.\u0275fac=function(N){return new(N||h)(e.GI1(c.Qw),e.GI1(u.$K),e.GI1(E))},h.\u0275cmp=e.In1({type:h,selectors:[["tui-arrow"]],hostVars:2,hostBindings:function(N,G){2&N&&e.eAK("_rotated",G.rotated)},decls:3,vars:4,consts:[[3,"src",4,"polymorpheusOutlet"],[4,"ngIf"],[3,"src"]],template:function(N,G){1&N&&(e.yuY(0,O,1,1,"tui-svg",0)(1,T,1,0,"ng-container",1),e.wVc(2,"async")),2&N&&(e.E7m("polymorpheusOutlet",G.arrowIcon),e.yG2(),e.E7m("ngIf",e.kDX(2,2,G.dropdown.openChange)))},dependencies:[g.Wu,_.Af,p.u_,p.a],styles:["[_nghost-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:block;cursor:pointer;pointer-events:none}._rotated[_nghost-%COMP%]{transform:rotate(180deg)}"],changeDetection:0}),h})());let K=(()=>{class h{}return h.\u0275fac=function(N){return new(N||h)},h.\u0275mod=e.a4G({type:h}),h.\u0275inj=e.s3X({imports:[[p.MD,g.Yt,_.Ux]]}),h})();const Q=(0,l.AL)({interactive:U,disabled:U})}}]);