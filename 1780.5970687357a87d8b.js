"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[1780],{8108:(y,d,_)=>{_.r(d),_.d(d,{ShowModule:()=>j});var s=_(1236),T=_(7552),e=_(4496),p=_(4251),N=_(3480),u=_(7692),c=_(1512),i=_(8212),E=_(9880),a=_(3616),I=_(8824),W=_(7748),H=_(6424),U=_(1368),V=_(1128),b=_(1744),L=_(1551),z=_(9052),X=_(7492);const x=(o,R)=>R.id,P=()=>[];function Y(o,R){if(1&o&&(e.I0R(0,"div",29),e.wR5(1,"app-show-image",30),e.I0R(2,"div",31)(3,"p",32),e.OEk(4),e.C$Y(),e.I0R(5,"div",33),e.SAx(6),e.aS0(7,34),e.k70(),e.OEk(8),e.wVc(9,"currency"),e.C$Y(),e.I0R(10,"div",33),e.SAx(11),e.aS0(12,35),e.k70(),e.OEk(13),e.C$Y()()()),2&o){const t=e.GaO().$implicit,n=e.GaO(2);e.yG2(),e.E7m("image",(n.tableTypeByIds()[t.table_type_id].images||e.q4q(6,P))[0]),e.yG2(3),e.oRS(" ",n.tableTypeByIds()[t.table_type_id].name," "),e.yG2(4),e.oRS(" ",e.kDX(9,4,t.price)," "),e.yG2(5),e.oRS(" ",t.people_per_turn," ")}}function w(o,R){1&o&&e.yuY(0,Y,14,7,"div",28),2&o&&e.C0Y(0,R.$implicit.table_type_id?0:-1)}function F(o,R){if(1&o){const t=e.KQA();e.I0R(0,"table",1)(1,"tbody")(2,"tr",2)(3,"td",3)(4,"span",4),e.aS0(5,5),e.C$Y()(),e.I0R(6,"td",3),e.OEk(7),e.C$Y()(),e.I0R(8,"tr",2)(9,"td",3)(10,"span",4),e.aS0(11,6),e.C$Y()(),e.I0R(12,"td",3),e.wR5(13,"app-preorder-reservation-group-preorder-type",7),e.C$Y()(),e.I0R(14,"tr",2)(15,"td",3)(16,"span",4),e.aS0(17,8),e.C$Y()(),e.I0R(18,"td",3),e.OEk(19),e.wVc(20,"currency"),e.C$Y()(),e.I0R(21,"tr",2)(22,"td",3)(23,"span",9),e.SAx(24),e.aS0(25,10),e.k70(),e.C$Y(),e.I0R(26,"p",11),e.SAx(27),e.aS0(28,12),e.k70(),e.C$Y()(),e.I0R(29,"td",3),e.OEk(30),e.C$Y()(),e.I0R(31,"tr",2)(32,"td",3)(33,"span",4),e.aS0(34,13),e.C$Y()(),e.I0R(35,"td",3),e.wR5(36,"app-show-translations",14),e.C$Y()(),e.I0R(37,"tr",2)(38,"td",3)(39,"span",4),e.aS0(40,15),e.C$Y()(),e.I0R(41,"td",3),e.wR5(42,"app-preorder-reservation-group-status",16),e.C$Y()()()(),e.I0R(43,"h2",17),e.aS0(44,18),e.C$Y(),e.I0R(45,"p",19),e.aS0(46,20),e.C$Y(),e.I0R(47,"div",21),e.c53(48,w,1,1,null,null,x),e.C$Y(),e.I0R(50,"h2",17),e.aS0(51,22),e.C$Y(),e.wR5(52,"app-select-turns-paymentv2",23),e.I0R(53,"div")(54,"a",24),e.SAx(55),e.aS0(56,25),e.k70(),e.C$Y(),e.I0R(57,"div")(58,"button",26),e.qCj("click",function(){e.usT(t);const S=e.GaO();return e.CGJ(S.delete())}),e.SAx(59),e.aS0(60,27),e.k70(),e.C$Y()()()}if(2&o){const t=e.GaO();let n,S,r,O;e.yG2(7),e.oRS(" ",t.item().title," "),e.yG2(6),e.E7m("type",null==(n=t.item())?null:n.preorder_type),e.yG2(6),e.oRS(" ",e.kDX(20,9,t.item().payment_value)," "),e.yG2(11),e.oRS(" ",t.item().min_people," "),e.yG2(6),e.E7m("translations",null==(S=t.item())||null==S.translations?null:S.translations.message),e.yG2(6),e.E7m("item",t.item()),e.yG2(2),e.oBb(((null==(r=t.item())?null:r.table_type_to_preorder_reservation_groups)||e.q4q(11,P)).length),e.Ylm(44),e.yG2(4),e.oho(null==(O=t.item())?null:O.table_type_to_preorder_reservation_groups),e.yG2(4),e.E7m("item",t.item())("editable",!1)}}function B(o,R){1&o&&e.wR5(0,"tui-loader",36),2&o&&e.E7m("showLoader",!0)}function k(o,R){1&o&&(e.I0R(0,"p"),e.SAx(1),e.aS0(2,37),e.k70(),e.C$Y())}let Q=(()=>{class o{constructor(){this.service=(0,e.uUt)(p.e),this.destroy$=(0,e.uUt)(N.UF),this.router=(0,e.uUt)(s.E5),this.route=(0,e.uUt)(s.gV),this.notifications=(0,e.uUt)(V.E),this.item=(0,e.OCB)(null),this.loading=(0,e.OCB)(!1),this.itemId=null,this.tableTypeByIds=(0,e.OCB)({}),this.tableTypes=(0,e.uUt)(X.W)}ngOnInit(){this.tableTypes.search({per_page:1e3}).subscribe(t=>{const n={};t.items.forEach(S=>{S.id&&(n[S.id]=S)}),this.tableTypeByIds.set(n)}),this.route.params.pipe((0,a.a)(this.destroy$)).subscribe({next:t=>{this.itemId=Number(t.id),isNaN(this.itemId)?this.item.set(null):this.load(this.itemId)}})}delete(){this.notifications.confirm("Eliminando questo elemento, non verra pi\xF9 chiesto il pagamento alla prenotazione per i casi che prevedeva.").pipe((0,a.a)(this.destroy$)).subscribe({next:t=>{t&&this.confirmedDelete()}})}confirmedDelete(){this.itemId&&(this.loading.set(!0),this.service.destroy(this.itemId).pipe((0,a.a)(this.destroy$),(0,I.U)(()=>{this.loading.set(!1),this.router.navigate(["../"],{relativeTo:this.route})})).subscribe())}load(t){this.loading.set(!0),this.service.show(t).pipe((0,a.a)(this.destroy$),(0,I.U)(()=>this.loading.set(!1))).subscribe({next:n=>this.item.set(n)})}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-show"]],standalone:!0,features:[e.M5G([N.UF]),e.UHJ],decls:5,vars:1,consts:()=>{let t,n,S,r,O,g,M,C,A,m,G,$,f,D,h,v;return t="Dettagli pagamento alla prenotazione",n="Titolo",S="Tipologia pagamento",r="Valore pagamento",O="N\xB0 minimo di persone eleggibilit\xE0",g="Quando il valore \xE8 presente, il pagamento verr\xE0 richiesto solo per prenotazioni pi\xF9 grandi del numero indicato.",M="Messaggio",C="Stato",A="Tipologie di tavolo abilitate (" + "\ufffd0\ufffd" + ")",m=" Quando si seleziona una tipologia di tavolo, si tratta sempre di un pagamento e mai di un autorizzazione. Indipendentemente dalla configurazione qui presente. ",G="Quando sono richiesti pagamenti?",$="Modifica",f="Elimina",D="Prezzo per persona",h="Ospiti per turno",v="Non trovato :'(",[t,[1,"tui-table","mb-3"],[1,"tui-table__tr","tui-table__tr_border_none"],[1,"tui-table__td"],[1,"text-xl"],n,S,[3,"type"],r,[1,"text-xl","block","mb-2"],O,[1,"text-slate-400"],g,M,[3,"translations"],C,[3,"item"],[1,"mb-3","text-2xl"],A,[1,"text-xl","text-slate-400"],m,[1,"block"],G,[1,"block","mb-3",3,"item","editable"],["routerLink","edit","tuiButton","","appearance","flat",1,"mb-3"],$,["tuiButton","","appearance","secondary-destructive","type","button",3,"click"],f,["class","flex items-center"],[1,"flex","items-center"],[1,"max-w-[300px]",3,"image"],[1,"block","p-4"],[1,"block","text-xl","font-bold"],[1,"block","mb-2"],D,h,[3,"showLoader"],v]},template:function(n,S){1&n&&(e.I0R(0,"h1"),e.aS0(1,0),e.C$Y(),e.yuY(2,F,61,12)(3,B,1,1)(4,k,3,0)),2&n&&(e.yG2(2),e.C0Y(2,S.item()?2:S.loading()?3:4))},dependencies:[u.Sk,u.Cb,W.c,H.w,U.cf,c.w,s.qQ,s.ER,i.CI,i.Kw,b.t,L.G,E.kh,z.y],encapsulation:2,changeDetection:0})}return o})(),j=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.a4G({type:o});static#_=this.\u0275inj=e.s3X({imports:[s.qQ.forChild([(0,T.VV)(Q,{path:"",closeable:!0,dismissible:!0,size:"l"})])]})}return o})()},6988:(y,d,_)=>{_.d(d,{E:()=>u,Q:()=>c});var s=_(4496),T=_(3480),e=_(3840),p=_(3120),N=_(3616);let u=(()=>{class i{constructor(a,I){this.el=a,this.destroy$=I}set tuiScrollIntoView(a){a&&(0,p.k)(0).pipe((0,N.a)(this.destroy$)).subscribe(()=>{this.el.nativeElement.dispatchEvent(new CustomEvent(e.dG,{bubbles:!0,detail:this.el.nativeElement}))})}}return i.\u0275fac=function(a){return new(a||i)(s.GI1(s.GMv),s.GI1(T.UF,2))},i.\u0275dir=s.Sc5({type:i,selectors:[["","tuiScrollIntoView",""]],inputs:{tuiScrollIntoView:"tuiScrollIntoView"},features:[s.M5G([T.UF])]}),i})(),c=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=s.a4G({type:i}),i.\u0275inj=s.s3X({}),i})()}}]);