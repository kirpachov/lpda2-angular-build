"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[3632],{9956:(v,f,i)=>{i.d(f,{g:()=>S});var s=i(1368),l=i(4496),e=i(9938),T=i(2528),_=i(7308),u=i(7012),r=i(3972),t=i(5944),n=i(1040);function a(o,g){if(1&o&&(l.SAx(0),l.OEk(1),l.k70()),2&o){const c=g.polymorpheusOutlet;l.yG2(),l.oRS(" ",c," ")}}const m=()=>({});function D(o,g){if(1&o&&(l.I0R(0,"div",1),l.wVc(1,"async"),l.yuY(2,a,2,1,"ng-container",2),l.wVc(3,"async"),l.C$Y()),2&o){const c=l.GaO();l.eAK("t-message-text_light","onDark"===l.kDX(1,6,c.mode$)),l.E7m("@tuiFadeIn",c.animation)("@tuiHeightCollapse",c.animation),l.yG2(2),l.E7m("polymorpheusOutlet",c.error.message||l.kDX(3,8,c.defaultErrorMessage$))("polymorpheusOutletContext",c.error.context||l.q4q(10,m))}}let E=(()=>{class o{constructor(c,C,y){this.animation=c,this.mode$=C,this.defaultErrorMessage$=y,this.error=null,this.visible=!0}set errorSetter(c){this.error=(0,T.gT)(c)?new _.E(c):c}onAnimation(c){this.visible=c}}return o.\u0275fac=function(c){return new(c||o)(l.GI1(t.kp),l.GI1(t.Yx),l.GI1(t.cX))},o.\u0275cmp=l.In1({type:o,selectors:[["tui-error"]],hostBindings:function(c,C){1&c&&l.qCj("animationcancel.self",function(){return C.onAnimation(!1)})("animationstart.self",function(){return C.onAnimation(!0)})},inputs:{errorSetter:[l.Wk5.None,"error","errorSetter"]},features:[l.M5G([r.Ir])],decls:1,vars:1,consts:[["automation-id","tui-error__text","class","t-message-text",3,"t-message-text_light",4,"ngIf"],["automation-id","tui-error__text",1,"t-message-text"],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(c,C){1&c&&l.yuY(0,D,4,11,"div",0),2&c&&l.E7m("ngIf",C.error&&C.visible)},dependencies:[s.u_,n.Af,s.a],styles:["[_nghost-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-01);display:block;color:var(--tui-negative);word-wrap:break-word;animation:tuiPresent 1s infinite}.t-message-text[_ngcontent-%COMP%]{margin-top:.25rem;white-space:pre-line}.t-message-text_light[_ngcontent-%COMP%]{color:var(--tui-negative-night)}"],data:{animation:[u.iY,u.K2]},changeDetection:0}),o})(),R=(()=>{class o{}return o.\u0275fac=function(c){return new(c||o)},o.\u0275mod=l.a4G({type:o}),o.\u0275inj=l.s3X({imports:[[s.MD,n.Ux]]}),o})();function P(o,g){1&o&&l.wR5(0,"tui-error",0),2&o&&l.E7m("error",g.$implicit)}function $(o,g){1&o&&l.C_f(0)}function p(o,g){1&o&&l.yuY(0,$,1,0,"ng-container",1),2&o&&l.E7m("ngTemplateOutlet",g.$implicit)}let S=(()=>{class o{constructor(){this._errors=null}get errors(){return this._errors}set errors(c){this._errors=c}allErrors(){return this.errors||null}errorsToTemplates(){return e.y.formatErrors(this.errors||null).filter(c=>c&&c instanceof l.Yw2)}errorsToStr(){return e.y.formatErrors(this.errors||null).filter(c=>c&&"string"==typeof c)}static#e=this.\u0275fac=function(C){return new(C||o)};static#t=this.\u0275cmp=l.In1({type:o,selectors:[["app-errors"]],inputs:{errors:"errors"},standalone:!0,features:[l.UHJ],decls:4,vars:0,consts:[[3,"error"],[4,"ngTemplateOutlet"]],template:function(C,y){1&C&&(l.c53(0,P,1,1,"tui-error",0,l.oxv),l.c53(2,p,1,1,"ng-container",null,l.oxv)),2&C&&(l.oho(y.errorsToStr()),l.yG2(2),l.oho(y.errorsToTemplates()))},dependencies:[s.MD,s.XV,R,E]})}return o})()},3632:(v,f,i)=>{i.r(f),i.d(f,{DuplicateDishModule:()=>Z});var s=i(2992),l=i(7552),e=i(4496),T=i(3480),_=i(1712),u=i(1128),r=i(5820),t=i(6504),n=i(9852),a=i(3616),m=i(4704),D=i(6684),E=i(8824),R=i(8256),P=i(8392),$=i(9938),p=i(9956),S=i(8212),o=i(8976),g=i(9880),c=i(1512),C=i(7692),y=i(5704),L=i(2204),U=i(9088),Y=i(8676),K=i(6524),j=i(1368);function V(I,H){if(1&I&&(e.I0R(0,"div",6)(1,"p",18),e.aS0(2,19),e.C$Y(),e.I0R(3,"div",20)(4,"tui-radio-block",21),e.SAx(5),e.aS0(6,22),e.k70(),e.C$Y(),e.I0R(7,"tui-radio-block",23),e.SAx(8),e.aS0(9,24),e.k70(),e.C$Y(),e.I0R(10,"tui-radio-block",25),e.OEk(11," No "),e.C$Y()(),e.wR5(12,"app-errors",10),e.C$Y(),e.I0R(13,"div",6)(14,"p",18),e.aS0(15,26),e.C$Y(),e.I0R(16,"div",20)(17,"tui-radio-block",27),e.SAx(18),e.aS0(19,28),e.k70(),e.C$Y(),e.I0R(20,"tui-radio-block",29),e.OEk(21," No "),e.C$Y()(),e.wR5(22,"app-errors",10),e.C$Y(),e.I0R(23,"div",6)(24,"p",18),e.aS0(25,30),e.C$Y(),e.I0R(26,"div",20)(27,"tui-radio-block",31),e.SAx(28),e.aS0(29,32),e.k70(),e.C$Y(),e.I0R(30,"tui-radio-block",33),e.OEk(31," No "),e.C$Y()(),e.wR5(32,"app-errors",10),e.C$Y(),e.I0R(33,"div",6)(34,"p",18),e.aS0(35,34),e.C$Y(),e.I0R(36,"div",20)(37,"tui-radio-block",35),e.SAx(38),e.aS0(39,36),e.k70(),e.C$Y(),e.I0R(40,"tui-radio-block",37),e.OEk(41," No "),e.C$Y()(),e.wR5(42,"app-errors",10),e.C$Y()),2&I){const d=e.GaO();e.yG2(3),e.E7m("collapsed",!0),e.yG2(),e.E7m("hideRadio",!0),e.yG2(3),e.E7m("hideRadio",!0),e.yG2(3),e.E7m("hideRadio",!0),e.yG2(2),e.E7m("errors",d.e("copy_images")),e.yG2(4),e.E7m("collapsed",!0),e.yG2(),e.E7m("hideRadio",!0),e.yG2(3),e.E7m("hideRadio",!0),e.yG2(2),e.E7m("errors",d.e("copy_ingredients")),e.yG2(4),e.E7m("collapsed",!0),e.yG2(),e.E7m("hideRadio",!0),e.yG2(3),e.E7m("hideRadio",!0),e.yG2(2),e.E7m("errors",d.e("copy_tags")),e.yG2(4),e.E7m("collapsed",!0),e.yG2(),e.E7m("hideRadio",!0),e.yG2(3),e.E7m("hideRadio",!0),e.yG2(2),e.E7m("errors",d.e("copy_allergens"))}}const Q=(I,H)=>({categoryId:I,itemId:H});let J=(()=>{class I{constructor(){this.destroy$=(0,e.uUt)(T.UF),this.router=(0,e.uUt)(s.E5),this.route=(0,e.uUt)(s.gV),this.service=(0,e.uUt)(_.S),this.dishesService=(0,e.uUt)(Y.k),this.notifications=(0,e.uUt)(u.E),this.urlTo=(0,e.uUt)(U.S),this.submitted=!1,this.category=(0,e.OCB)(null),this.dish=(0,e.OCB)(null),this.form=new t.WC({category:new t.Ku(null,[t.AQ.required,n.S.instanceof(r.Q)]),copy_images:new t.Ku("full",[t.AQ.required,n.S.in(["full","link","none"])]),copy_ingredients:new t.Ku("link",[t.AQ.required,n.S.in(["link","none"])]),copy_tags:new t.Ku("link",[t.AQ.required,n.S.in(["link","none"])]),copy_allergens:new t.Ku("link",[t.AQ.required,n.S.in(["link","none"])])}),this.loadingCategory=(0,e.OCB)(!1),this.loadingDish=(0,e.OCB)(!1),this.saving=(0,e.OCB)(!1),this.loading=(0,e.S6b)(()=>this.saving()||this.loadingDish()||this.loadingCategory()),this.e=this.getErrorsFor}ngOnInit(){this.route.parent?.parent?.params.pipe((0,a.a)(this.destroy$),(0,m.k)(d=>Number(d.category_id)),(0,D.I)(d=>"number"==typeof d&&!isNaN(d)&&d>0)).subscribe({next:d=>this.loadCategory(d)}),this.route.params.pipe((0,a.a)(this.destroy$),(0,m.k)(d=>Number(d.dish_id)),(0,D.I)(d=>"number"==typeof d&&!isNaN(d)&&d>0)).subscribe({next:d=>this.loadDish(d)})}submit(){if(this.submitted=!0,this.form.invalid)return;const d=this.dish()?.id,h=this.formValue(),O=h.category_id;if(!d||!O)throw new Error(`some invalid id: dishId=${d}; categoryId=${O}`);this.saving.set(!0),this.dishesService.copy(d,h).pipe((0,a.a)(this.destroy$),(0,E.U)(()=>this.saving.set(!1))).subscribe({next:M=>{this.notifications.fireSnackBar("Duplicato.");const N=this.urlTo.transform({itemId:M.id,categoryId:O},"dish.show");N?this.router.navigateByUrl(N):(console.error("no url for dish",M,O),this.navigateBack())},error:M=>{this.manageError(M)}})}cancel(){(this.form.touched||this.form.dirty)&&!confirm("Sei sicuro di voler annullare le modifiche fatte?")||(this.notifications.fireSnackBar("Operazione annullata"),this.navigateBack())}formValue(){return{copy_tags:this.form.value.copy_tags,copy_images:this.form.value.copy_images,copy_ingredients:this.form.value.copy_ingredients,copy_allergens:this.form.value.copy_allergens,category_id:this.form.value.category?.id}}navigateBack(){this.router.navigate([".."],{relativeTo:this.route})}manageError(d){422==d.status?$.y.assignErrorsToForm(this.form,d):this.notifications.error((0,R.mk)(d)||P.a)}getErrorsFor(d){const h=this.form.get(d);return h&&(this.submitted||h.touched||h.dirty)?h.errors:null}loadCategory(d){d&&(this.loadingCategory.set(!0),this.service.show(d).pipe((0,a.a)(this.destroy$),(0,E.U)(()=>this.loadingCategory.set(!1))).subscribe({next:h=>{this.category.set(h),!this.form.touched&&!this.form.dirty&&this.form.patchValue({category:h})},error:h=>{this.notifications.error((0,R.mk)(h)||P.a)}}))}loadDish(d){d&&(this.loadingDish.set(!0),this.dishesService.show(d).pipe((0,a.a)(this.destroy$),(0,E.U)(()=>this.loadingDish.set(!1))).subscribe({next:h=>this.dish.set(h),error:h=>{this.notifications.error((0,R.mk)(h)||P.a)}}))}static#e=this.\u0275fac=function(h){return new(h||I)};static#t=this.\u0275cmp=e.In1({type:I,selectors:[["app-duplicate-dish"]],standalone:!0,features:[e.M5G([T.UF,U.S]),e.UHJ],decls:30,vars:18,consts:()=>{let d,h,O,M,N,x,G,B,z,k,b,F,W,w,X;return d="Copia piatto",h="Associa il nuovo piatto alla categoria",O="Seleziona una categoria",M="Dettagli",N="Conferma",x="Annulla",G="Copiare immagini?",B="Copia",z="Associa esistenti",k="Copiare ingredienti?",b="Associa esistenti",F="Copiare tag?",W="Associa esistenti",w="Copiare allergeni?",X="Associa esistenti",[["size","l",3,"showLoader","overlay"],[1,"flex","items-center"],d,[1,"ml-2"],["tuiLink","",3,"routerLink"],[3,"formGroup","ngSubmit"],[1,"mb-3"],h,[3,"formControlName"],O,[3,"errors"],M,["tuiAccordionItemContent",""],[3,"innerText"],["type","submit","size","l","tuiButton","",1,"me-2",3,"appearance"],N,["type","button","size","l","tuiButton","",1,"me-2",3,"appearance","click"],x,[1,"mb-1"],G,["tuiGroup","",1,"group",3,"collapsed"],["contentAlign","right","formControlName","copy_images","item","full","size","l",3,"hideRadio"],B,["contentAlign","right","formControlName","copy_images","item","link","size","l",3,"hideRadio"],z,["contentAlign","right","formControlName","copy_images","item","none","size","l",3,"hideRadio"],k,["contentAlign","right","formControlName","copy_ingredients","item","link","size","l",3,"hideRadio"],b,["contentAlign","right","formControlName","copy_ingredients","item","none","size","l",3,"hideRadio"],F,["contentAlign","right","formControlName","copy_tags","item","link","size","l",3,"hideRadio"],W,["contentAlign","right","formControlName","copy_tags","item","none","size","l",3,"hideRadio"],w,["contentAlign","right","formControlName","copy_allergens","item","link","size","l",3,"hideRadio"],X,["contentAlign","right","formControlName","copy_allergens","item","none","size","l",3,"hideRadio"]]},template:function(h,O){if(1&h&&(e.I0R(0,"tui-loader",0)(1,"div",1)(2,"h1"),e.aS0(3,2),e.C$Y(),e.I0R(4,"span",3)(5,"a",4),e.wVc(6,"urlTo"),e.OEk(7),e.C$Y()()(),e.I0R(8,"form",5),e.qCj("ngSubmit",function(){return O.submit()}),e.I0R(9,"div",6)(10,"p"),e.aS0(11,7),e.C$Y(),e.I0R(12,"app-menu-category-select",8),e.SAx(13),e.aS0(14,9),e.k70(),e.C$Y(),e.wR5(15,"app-errors",10),e.C$Y(),e.I0R(16,"tui-accordion",6)(17,"tui-accordion-item"),e.SAx(18),e.aS0(19,11),e.k70(),e.yuY(20,V,43,17,"ng-template",12),e.C$Y()(),e.wR5(21,"pre",13),e.wVc(22,"json"),e.I0R(23,"div",1)(24,"button",14),e.SAx(25),e.aS0(26,15),e.k70(),e.C$Y(),e.I0R(27,"button",16),e.qCj("click",function(){return O.cancel()}),e.SAx(28),e.aS0(29,17),e.k70(),e.C$Y()()()()),2&h){let M,N;e.E7m("showLoader",O.loading())("overlay",!0),e.yG2(5),e.E7m("routerLink",e.g7$(6,10,e.IBC(15,Q,null==(M=O.category())?null:M.id,null==(M=O.dish())?null:M.id),"dish.show")),e.yG2(2),e.cNF(null==(N=O.dish())?null:N.name),e.yG2(),e.E7m("formGroup",O.form),e.yG2(4),e.E7m("formControlName","category"),e.yG2(3),e.E7m("errors",O.e("category")),e.yG2(6),e.E7m("innerText",e.kDX(22,13,O.formValue())),e.yG2(3),e.E7m("appearance","primary"),e.yG2(3),e.E7m("appearance","outline")}},dependencies:[p.g,S.CI,S.Kw,y.W,y.I,t.sl,t.sz,t.ue,t.u,t.uW,t.Wo,o.Gy,o.Ko,g.kh,s.ER,c.w,c.C,U.S,K.a,L.Ep,L.Ix,L._Q,L.Up,j.ED,C.Sk,C.Cb],changeDetection:0})}return I})(),Z=(()=>{class I{static#e=this.\u0275fac=function(h){return new(h||I)};static#t=this.\u0275mod=e.a4G({type:I});static#n=this.\u0275inj=e.s3X({imports:[s.qQ.forChild([(0,l.VV)(J,{path:"",closeable:!0,dismissible:!1,size:"l"})])]})}return I})()},9852:(v,f,i)=>{i.d(f,{S:()=>_});var s=i(6504),l=i(400);const e=u=>null!=u&&""!=`${u}`;class _ extends s.AQ{static formWeeklyFromTo(r,t){return n=>{if(!(n instanceof s.WC))return console.warn("formWeeklyFromTo: param is not a FormGroup",n),null;const a=n,m=a.get(r),D=a.get(t);return m&&D&&m.value instanceof l.uc&&D.value instanceof l.uc&&m.value&&D.value&&m.value.toAbsoluteMilliseconds()>=D.value.toAbsoluteMilliseconds()?{formWeeklyFromTo:!0}:null}}static canBeBlankIf(r,t,n){const a=n?.message||"La form non \xE8 valida.";return m=>{if(!(m instanceof s.WC))throw new Error("canBeBlankIf: thisIsAFormGroup is not a FormGroup");const E=m.get(r);if(!E)throw new Error("canBeBlankIf: control is blank. control name: "+r);return e(E.value)||t()?null:{[`${r}canBeBlankIf`]:a}}}static listOfEmails(r){const t=r.value;if(!t||"string"!=typeof t||!t.length)return null;const n=new RegExp("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$","i");return t.split(/\,|\s+/gm).map(a=>a.trim()).filter(a=>a.length).forEach(a=>{if(!n.test(a))return{listOfEmails:!0}}),null}static mustBeArray(r){return Array.isArray(r.value)?null:{mustBeArray:!0}}static objectNotEmpty(r){return e(r.value)&&"object"==typeof r.value&&0===Object.keys(r.value).length&&0===Object.values(r.value).filter(n=>e(n)).length?{objectNotEmpty:!0}:null}static arrayMinLength(r){return t=>Array.isArray(t.value)&&t.value.length<r?{arrayMinLength:{requiredLength:r,actualLength:t.value?.length??0}}:null}static validateArray(r){return t=>{if(!Array.isArray(t.value))return null;const n={};for(const a of t.value){const m=r(new s.yM(a));m&&Object.assign(n,m)}return Object.keys(n).length?n:null}}static percentage(r){return e(r.value)&&(isNaN(r.value)||r.value<0||r.value>100)?{percentage:!0}:null}static phoneIT(r){const t=a=>a?null:{phoneIT:!0},n=`${r.value}`.trim().replace(/\s+/gm,"").replace(/^\+39/gm,"");return e(n)?t(!((u=n).length<9||isNaN(Number(u))||u.length>14)):t(!0);var u}static instanceof(r){return t=>!e(t.value)||t.value instanceof r?null:{instanceof:!0}}static#e=this.instanceOf=this.instanceof;static numerical(r){return e(r.value)&&isNaN(r.value)?{numerical:!0}:null}static moreThan(r){return t=>t.value<=r?{moreThan:!0}:null}static in(r){return this.inclusion(r)}static inclusion(r){return t=>e(t.value)&&!r.includes(t.value)?{inclusion:!0}:null}}},9938:(v,f,i)=>{i.d(f,{y:()=>T});var s=i(6504);const l={required:"Questo campo non pu\xF2 essere vuoto!",email:"Questa email non \xE8 valida!",numbersOnly:"Solo numeri ammessi!",numberOnly:"Solo numeri ammessi!",numerical:"Solo numeri ammessi!",invalid_http_url:"Collegamento http non valido",minlength:_=>"\n          Testo troppo corto: Lunghezza minima: \n          " + _.requiredLength + "\n          , lunghezza attuale: \n          " + _.actualLength + "\n        ",InvalidFormat:_=>"\n          \"\n          " + _.value + "\n          \" non \xE8 un formato valido. Esempio valido: \"\n          " + _.validExample + "\n          \"\n        ",pattern:_=>"\n          \"\n          " + _.actualValue + "\n          \" non \xE8 un formato valido. Il formato deve rispettare la seguente\n          espressione regolare (RegExp): \"\n          " + _.requiredPattern + "\n          \"\n        ",max:_=>"\n          Il valore inserito \xE8 troppo grande! Valore massimo: \n          " + _.max + "\n          , valore attuale: \n          " + _.actual + "\n        ",min:_=>"\n          Il valore inserito \xE8 troppo piccolo! Valore minimo: \n          " + _.min + "\n          , valore attuale: \n          " + _.actual + "\n        ",maxlength:_=>"\n          Il valore inserito \xE8 troppo lungo! Lunghezza massima: \n          " + _.requiredLength + "\n          , Lunghezza attuale: \n          " + _.actualLength + "\n        ",phoneIT:"\n          Questo non sembra essere un numero di telefono italiano valido.\n          Esempio: +39 123 456 7890\n        ",inclusion:_=>{const u=Array.isArray(_)?"\n          I valori ammessi sono: \n          " + _.join(", ") + "\n          .\n        ":"";return "\n          Il valore inserito non \xE8 valido. \n          " + u + "\n        "},arrayMinLength:_=>"\n          Devi inserire almeno \n          " + _.requiredLength + "\n           elementi.\n        ",passwordConfirmation:"Le password non coincidono!",formWeeklyFromTo:"L'orario di inizio deve essere inferiore a quello di fine!"},e={assignToFormUnlessControl:!0};class T{static formatErrors(u,r){return null==u||null==u?[]:new T(u,r).formatErrors()}static assignErrorsToForm(u,r,t={}){const n=r.error?.details;if(!n||!Array.isArray(n))return"object"==typeof n&&Object.keys(n).length>0?this.assignErrorsToFormFromJson(u,n,t):void console.warn("invalid errors provided to assignErrorsToForm",n);this.assignErrorsToFormFromArray(u,n,t)}static assignErrorsToFormFromJson(u,r,t={}){const n={...e,...t};Object.keys(r).forEach(a=>{const m=r[a];m&&Array.isArray(m)?m.forEach(D=>{const E=u.controls[a];E?E.setErrors({[D.attribute]:D.message}):n.assignToFormUnlessControl&&u.setErrors({[D.attribute]:D.message})}):console.warn("assignErrorsToFormFromJson expected an array of ActiveError, but got:",m)})}static assignErrorsToFormFromArray(u,r,t={}){const n={...e,...t};r.forEach(a=>{const m=u instanceof s.WC?u.controls[a.attribute]:u;m?m.setErrors({[a.attribute]:a.message}):n.assignToFormUnlessControl&&u.setErrors({[a.attribute]:a.message})})}constructor(u,r=l){this.defaultMessages=l,this.messages={},this.enableLogging=!1,this.errors=u,r?this.mergeMessages(r):this.assignDefaults()}assignDefaults(){this.messages={},Object.keys(this.defaultMessages).forEach(u=>{this.messages[u]=this.defaultMessages[u]})}mergeMessages(u){[...Object.keys(this.defaultMessages),...Object.keys(u)].forEach(t=>{this.messages[t]=u[t]?u[t]:this.defaultMessages[t]})}formatErrors(){return[...this.errorMsgFromControl()]}warn(...u){this.enableLogging&&console.warn(...u)}errorMsgFromControl(){if(null==this.errors||null==this.errors)return[];var u=[];return Object.keys(this.errors).filter(r=>{if("string"==typeof this.errors[r]&&this.errors[r].length>0)return u.push(this.errors[r]);if(this.messages.hasOwnProperty(r)&&this.messages[r]&&null!=this.messages[r]){const a=this.messages[r];switch(typeof a){case"string":default:u.push(a);break;case"function":u.push(a(this.errors[r]))}}else if(this.warn(`ReactiveFormsErrors missing error message of "${r}". Parser error with your custom logic.`),[!0,!1].includes(this.errors[r])){var n={};n[r]=this.errors[r],"string"!=typeof n&&(n=JSON.stringify(n)),u.push(n)}else u.push(this.errors[r])}),u}}},4824:(v,f,i)=>{i.d(f,{o:()=>e});var s=i(8400),l=i(2264);class e extends s.w{constructor(_){super(_),this.name=_.name,this.description=_.description,this.status=_.status,this.other=_.other,this.translations={..._.translations},_.image&&(this.image=new l.W(_.image))}}},5891:(v,f,i)=>{i.d(f,{S:()=>u});var s=i(8400),l=i(2264),e=i(355),T=i(4824),_=i(532);class u extends s.w{constructor(t){super(t),this.name=t.name,this.description=t.description,this.status=t.status,this.price=t.price,this.translations=t.translations,this.images=t.images?t.images.map(n=>new l.W(n)):[],this.suggestions=t.suggestions?t.suggestions.map(n=>new u(n)):[],this.tags=t.tags?t.tags.map(n=>new e.E(n)):[],this.allergens=t.allergens?t.allergens.map(n=>new T.o(n)):[],this.ingredients=t.ingredients?t.ingredients.map(n=>new _.e(n)):[]}}},532:(v,f,i)=>{i.d(f,{e:()=>e});var s=i(8400),l=i(2264);class e extends s.w{constructor(_){super(_),this.name=_.name,this.description=_.description,this.status=_.status,this.other=_.other,this.translations={..._.translations},_.image&&(this.image=new l.W(_.image))}}},355:(v,f,i)=>{i.d(f,{E:()=>e});var s=i(8400),l=i(2264);class e extends s.w{constructor(_){super(_),this.name=_.name,this.description=_.description,this.status=_.status,this.other=_.other,this.translations={..._.translations},this.color=_.color,_.image&&(this.image=new l.W(_.image))}}},8676:(v,f,i)=>{i.d(f,{k:()=>_});var s=i(6012),l=i(5891),e=i(4704),T=i(4496);let _=(()=>{class u extends s.s{constructor(){super(l.S,"admin/menu/dishes")}copy(t,n){return this.post(`${t}/copy`,n).pipe((0,e.k)(a=>this.mapItem(a)))}move(t,n){return this.patch(`${t}/move`,n).pipe((0,e.k)(a=>this.mapItem(a)))}moveIngredient(t,n,a){return this.patch(`${t}/ingredients/${n}/move`,{to_index:a}).pipe((0,e.k)(m=>this.mapItem(m)))}moveTag(t,n,a){return this.patch(`${t}/tags/${n}/move`,{to_index:a}).pipe((0,e.k)(m=>this.mapItem(m)))}moveAllergen(t,n,a){return this.patch(`${t}/allergens/${n}/move`,{to_index:a}).pipe((0,e.k)(m=>this.mapItem(m)))}updateStatus(t,n){return this.patch(`${t}/status/${n}`,{}).pipe((0,e.k)(a=>this.mapItem(a)))}addIngredient(t,n){return this.post(`${t}/ingredients/${n}`,{}).pipe((0,e.k)(a=>this.mapItem(a)))}removeIngredient(t,n){return this.delete(`${t}/ingredients/${n}`).pipe((0,e.k)(a=>this.mapItem(a)))}addTag(t,n){return this.post(`${t}/tags/${n}`,{}).pipe((0,e.k)(a=>this.mapItem(a)))}removeTag(t,n){return this.delete(`${t}/tags/${n}`).pipe((0,e.k)(a=>this.mapItem(a)))}addAllergen(t,n){return this.post(`${t}/allergens/${n}`,{}).pipe((0,e.k)(a=>this.mapItem(a)))}removeAllergen(t,n){return this.delete(`${t}/allergens/${n}`).pipe((0,e.k)(a=>this.mapItem(a)))}references(t){return this.get(`${t}/references`).pipe((0,e.k)(n=>n))}addSuggestion(t,n){return this.post(`${t}/suggestions/${n}`,{}).pipe((0,e.k)(a=>this.mapItem(a)))}removeSuggestion(t,n){return this.delete(`${t}/suggestions/${n}`).pipe((0,e.k)(a=>this.mapItem(a)))}static#e=this.\u0275fac=function(n){return new(n||u)};static#t=this.\u0275prov=T.wxM({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},9880:(v,f,i)=>{i.d(f,{kP:()=>D,kh:()=>$,st:()=>P});var s=i(4496),l=i(3480),e=i(4392),T=i(3120),_=i(3616),u=i(7692),r=i(1368);const t=["wrapper"];function n(p,S){if(1&p&&(s.I0R(0,"tui-loader",4),s.C_f(1,5),s.C$Y()),2&p){const o=s.GaO(2);s.E7m("overlay",!0)("showLoader",o.loading),s.yG2(),s.E7m("ngTemplateOutlet",o.content)}}function a(p,S){if(1&p&&(s.SAx(0),s._Xx(1),s.yuY(2,n,2,3,"tui-loader",3),s.k70()),2&p){const o=s.GaO();s.yG2(2),s.E7m("ngIf",o.async)("ngIfElse",o.content)}}const m=["*"];let D=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275dir=s.Sc5({type:p,selectors:[["","tuiExpandContent",""]]}),p})();let P=(()=>{class p{constructor(o,g){this.cdr=o,this.destroy$=g,this.state=0,this.async=!1,this.content=null,this.expanded=null}set expandedSetter(o){if(null!==this.expanded)return 0!==this.state?(this.expanded=o,void(this.state=3)):(this.expanded=o,void this.retrigger(this.async&&o?1:3));this.expanded=o}get overflow(){return 0!==this.state}get loading(){return!!this.expanded&&this.async&&1===this.state}get height(){const{expanded:o,state:g,contentWrapper:c}=this;return o&&2===g||!o&&3===g?0:c&&(!o&&2===g||o&&3===g)?c.nativeElement.offsetHeight:c&&o&&1===g?Math.max(c.nativeElement.offsetHeight,48):null}get contentVisible(){return this.expanded||0!==this.state}onTransitionEnd({propertyName:o}){"opacity"===o&&3===this.state&&(this.state=0)}onExpandLoaded(o){o.stopPropagation(),1===this.state&&this.retrigger(3)}retrigger(o){this.state=2,(0,T.k)(0).pipe((0,_.a)(this.destroy$)).subscribe(()=>{2===this.state&&(this.state=o,this.cdr.markForCheck())})}}return p.\u0275fac=function(o){return new(o||p)(s.GI1(s.kD9),s.GI1(l.UF,2))},p.\u0275cmp=s.In1({type:p,selectors:[["tui-expand"]],contentQueries:function(o,g,c){if(1&o&&s.szK(c,D,5,s.Yw2),2&o){let C;s.wto(C=s.Gqi())&&(g.content=C.first)}},viewQuery:function(o,g){if(1&o&&s.CC$(t,5),2&o){let c;s.wto(c=s.Gqi())&&(g.contentWrapper=c.first)}},hostVars:9,hostBindings:function(o,g){1&o&&s.qCj("transitionend.self",function(C){return g.onTransitionEnd(C)})("tui-expand-loaded",function(C){return g.onExpandLoaded(C)}),2&o&&(s.e48("aria-expanded",g.expanded),s.m4B("height",g.height,"px"),s.eAK("_expanded",g.expanded)("_overflow",g.overflow)("_loading",g.loading))},inputs:{async:"async",expandedSetter:[s.Wk5.None,"expanded","expandedSetter"]},features:[s.M5G([l.UF])],ngContentSelectors:m,decls:3,vars:3,consts:[[1,"t-wrapper"],["wrapper",""],[4,"ngIf"],["size","l",3,"overlay","showLoader",4,"ngIf","ngIfElse"],["size","l",3,"overlay","showLoader"],[3,"ngTemplateOutlet"]],template:function(o,g){1&o&&(s.kPM(),s.I0R(0,"div",0,1),s.yuY(2,a,3,2,"ng-container",2),s.C$Y()),2&o&&(s.E7m("@tuiParentAnimation",void 0)("@.disabled",g.overflow),s.yG2(2),s.E7m("ngIf",g.contentVisible))},dependencies:[u.Cb,r.u_,r.XV],styles:['[_nghost-%COMP%]{transition-property:opacity,height,visibility;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:block;opacity:0;transition-delay:1ms}._overflow[_nghost-%COMP%]{overflow:hidden}._expanded[_nghost-%COMP%]{opacity:1;transform:translate(0)}._loading[_nghost-%COMP%]{opacity:.99}.t-wrapper[_ngcontent-%COMP%]:before, .t-wrapper[_ngcontent-%COMP%]:after{content:"";display:table}'],data:{animation:[e.cI]},changeDetection:0}),p})(),$=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=s.a4G({type:p}),p.\u0275inj=s.s3X({imports:[[r.MD,u.Sk]]}),p})()}}]);