"use strict";(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[3460],{3460:(ut,y,a)=>{a.d(y,{Ku:()=>w,YZ:()=>X,uy:()=>q});var A=a(1316),e=a(4496),F=a(6504),K=a(4532),G=a(6572),v=a(3044),C=a(6732),E=a(1800),V=a(4392),s=a(400),c=a(2528),f=a(4680),W=a(9392),M=a(466),r=a(7936),D=a(3656),d=a(8048),I=a(4108),B=a(3840),U=a(8016),k=a(9371),S=a(5944),O=a(812),_=a(3012),m=a(1040),H=a(4704),b=a(3616),T=a(1338),x=a(5900),P=a(5620),h=a(1368);function j(n,u){if(1&n&&(e.SAx(0),e.OEk(1),e.k70()),2&n){const t=u.polymorpheusOutlet;e.yG2(),e.oRS(" ",t," ")}}const R=n=>({$implicit:n});function $(n,u){if(1&n&&(e.I0R(0,"div",6),e.yuY(1,j,2,1,"ng-container",7),e.C$Y()),2&n){const t=e.GaO(2);e.yG2(),e.E7m("polymorpheusOutlet",t.computedContent)("polymorpheusOutletContext",e.S45(2,R,t.value))}}function z(n,u){if(1&n){const t=e.KQA();e.I0R(0,"tui-primitive-textfield",4),e.qCj("valueChange",function(o){e.usT(t);const l=e.GaO();return e.CGJ(l.onValueChange(o))}),e._Xx(1),e._Xx(2,1,["ngProjectAs","input",5,["input"]]),e.yuY(3,$,2,4,"div",5),e.C$Y()}if(2&n){const t=u.tuiLet,i=e.GaO(),o=e.Gew(4);e.E7m("disabled",i.computedDisabled)("invalid",i.computedInvalid)("maskito",i.computedMask)("nativeId",i.nativeId)("pseudoActive",i.pseudoActive)("pseudoFocus",i.innerPseudoFocused)("pseudoHover",i.pseudoHover)("readOnly",i.readOnly)("tuiTextfieldFiller",i.getComputedRangeFiller(t||""))("tuiTextfieldIcon",i.calendarIcon&&o)("value",i.computedValue),e.yG2(3),e.E7m("ngIf",i.showValueTemplate)}}function Y(n,u){if(1&n){const t=e.KQA();e.I0R(0,"tui-svg",9),e.qCj("click",function(){e.usT(t);const o=e.GaO(2);return e.CGJ(o.onIconClick())}),e.C$Y()}if(2&n){const t=u.polymorpheusOutlet,i=e.GaO(2);e.eAK("t-icon",!i.computedDisabled),e.E7m("src",t)}}function Q(n,u){if(1&n&&e.yuY(0,Y,1,3,"tui-svg",8),2&n){const t=e.GaO();e.E7m("polymorpheusOutlet",t.calendarIcon)("polymorpheusOutletContext",e.S45(2,R,t.size))}}function Z(n,u){if(1&n){const t=e.KQA();e.I0R(0,"tui-calendar-range",10),e.qCj("valueChange",function(o){e.usT(t);const l=e.GaO();return e.CGJ(l.onRangeChange(o))}),e.C$Y()}if(2&n){const t=e.GaO();e.E7m("defaultViewedMonth",t.defaultViewedMonth)("disabledItemHandler",t.disabledItemHandler)("items",t.items)("markerHandler",t.markerHandler)("max",t.computedMax)("maxLength",t.maxLength)("min",t.computedMin)("minLength",t.minLength)("value",t.value)}}const N=["*",[["input"]]],J=["*","input"];let X=(()=>{class n extends E.GG{constructor(t,i,o,l,p,g,tt,et,it,L,nt,at){super(t,i,L),this.injector=o,this.isMobile=l,this.dialogs=p,this.mobileCalendar=g,this.dateFormat=tt,this.dateSeparator=et,this.dateTexts$=it,this.valueTransformer=L,this.options=nt,this.textfieldSize=at,this.disabledItemHandler=V.so,this.markerHandler=B.SE,this.defaultViewedMonth=s.Ci.currentLocal(),this.items=[],this.min=this.options.min,this.max=this.options.max,this.minLength=null,this.maxLength=null,this.open=!1,this.maxLengthMapper=O.m2,this.dateFiller$=this.dateTexts$.pipe((0,H.k)(ot=>(0,s.eI)(ot[this.dateFormat],this.dateSeparator)))}get size(){return this.textfieldSize.size}get computedMin(){var t;return null!==(t=this.min)&&void 0!==t?t:s.sF}get computedMax(){var t;return null!==(t=this.max)&&void 0!==t?t:s.q7}get nativeFocusableElement(){var t,i;return null!==(i=null===(t=this.textfield)||void 0===t?void 0:t.nativeFocusableElement)&&void 0!==i?i:null}get focused(){var t;return!(null===(t=this.textfield)||void 0===t||!t.focused)}get computedMobile(){return this.isMobile&&!!this.mobileCalendar}get calendarIcon(){return this.options.icon}get canOpen(){return this.interactive&&!this.computedMobile}get computedExampleText(){var t,i;return this.items.length&&(null===(i=null===(t=this.textfield)||void 0===t?void 0:t.nativeFocusableElement)||void 0===i?void 0:i.placeholder)||""}get computedMask(){var t,i;const o=(null===(i=null===(t=this.textfield)||void 0===t?void 0:t.nativeFocusableElement)||void 0===i?void 0:i.value)!==this.computedValue;return this.activePeriod||o?K.Se:this.calculateMask(this.dateFormat,this.dateSeparator,this.computedMin,this.computedMax,this.minLength,this.maxLength)}get activePeriod(){return this.items.find(t=>(0,c.K2)(this.value,t.range,(i,o)=>i.from.daySame(o.from.dayLimit(this.min,this.max))&&i.to.daySame(o.to.dayLimit(this.min,this.max))))||null}get computedValue(){const{value:t,nativeValue:i,activePeriod:o}=this;return o?String(o):t?t.getFormattedDayRange(this.dateFormat,this.dateSeparator):i}get showValueTemplate(){return(0,c.kF)(this.value)&&!this.focused}get computedContent(){var t;return(null===(t=this.activePeriod)||void 0===t?void 0:t.content)||this.computedValue}get innerPseudoFocused(){return!1!==this.pseudoFocus&&(!(!this.open&&!this.computedFocused)||null)}get nativeValue(){var t;return(null===(t=this.nativeFocusableElement)||void 0===t?void 0:t.value)||""}set nativeValue(t){this.nativeFocusableElement&&(this.nativeFocusableElement.value=t)}onClick(){this.isMobile||this.toggle()}getComputedRangeFiller(t){return this.activePeriod?"":this.getDateRangeFiller(t)}onIconClick(){!this.computedMobile||!this.mobileCalendar||this.dialogs.open(new m.WO(this.mobileCalendar,this.injector),{size:"fullscreen",closeable:!1,data:{min:this.maxLengthMapper(this.computedMin,this.value,this.maxLength,!0),max:this.maxLengthMapper(this.computedMax,this.value,this.maxLength,!1),disabledItemHandler:this.disabledItemHandler}}).pipe((0,b.a)(this.destroy$)).subscribe(t=>{this.value=t})}onOpenChange(t){this.open=t}onValueChange(t){this.control&&this.control.updateValueAndValidity({emitEvent:!1}),t||this.onOpenChange(!0),this.value=t.length===s.Wi?s.Se.normalizeParse(t,this.dateFormat):null}onRangeChange(t){this.toggle(),this.focusInput(),t||(this.nativeValue=""),this.value=t}onItemSelect(t){this.toggle(),this.focusInput(),"string"==typeof t?null!==this.activePeriod&&(this.value=null,this.nativeValue=""):this.value=t.range.dayLimit(this.min,this.max)}onActiveZone(t){this.updateFocused(t),!t&&!this.itemSelected&&(this.nativeValue.length===s.wj||this.nativeValue.length===s.wj+s.a_.length)&&(this.value=s.Se.normalizeParse(this.nativeValue,this.dateFormat))}writeValue(t){super.writeValue(t),this.nativeValue=t?this.computedValue:""}valueIdenticalComparator(t,i){return(0,c.K2)(t,i,(o,l)=>o.daySame(l))}calculateMask(t,i,o,l,p,g){return(0,G.wj)({separator:i,mode:O.qS[t],min:o.toLocalNativeDate(),max:l.toLocalNativeDate(),minLength:p||{},maxLength:g||{}})}get itemSelected(){return-1!==this.items.findIndex(t=>String(t)===this.nativeValue)}toggle(){this.open=!this.open}focusInput(t=!1){this.nativeFocusableElement&&this.nativeFocusableElement.focus({preventScroll:t})}getDateRangeFiller(t){return`${t}${s.a_}${t}`}}return n.\u0275fac=function(t){return new(t||n)(e.GI1(F.eq,10),e.GI1(e.kD9),e.GI1(e.zZn),e.GI1(f.Mv),e.GI1(U._k),e.GI1(_.gR,8),e.GI1(s.E7),e.GI1(s._Q),e.GI1(_.CY),e.GI1(_.cH,8),e.GI1(_.E5),e.GI1(d.$K))},n.\u0275cmp=e.In1({type:n,selectors:[["tui-input-date-range"]],viewQuery:function(t,i){if(1&t&&e.CC$(r.y_,5),2&t){let o;e.wto(o=e.Gqi())&&(i.textfield=o.first)}},hostVars:1,hostBindings:function(t,i){1&t&&e.qCj("click",function(){return i.onClick()}),2&t&&e.e48("data-size",i.size)},inputs:{disabledItemHandler:"disabledItemHandler",markerHandler:"markerHandler",defaultViewedMonth:"defaultViewedMonth",items:"items",min:"min",max:"max",minLength:"minLength",maxLength:"maxLength"},features:[e.M5G([(0,f.NK)(n),(0,E.q4)(n),(0,_.Eh)(_.cH)]),e.eg9],ngContentSelectors:J,decls:7,vars:6,consts:[[1,"t-hosted",3,"canOpen","content","open","openChange","tuiActiveZoneChange"],["automation-id","tui-input-date-range__textfield","tuiValueAccessor","","class","t-textfield",3,"disabled","invalid","maskito","nativeId","pseudoActive","pseudoFocus","pseudoHover","readOnly","tuiTextfieldFiller","tuiTextfieldIcon","value","valueChange",4,"tuiLet"],["iconContent",""],["dropdown",""],["automation-id","tui-input-date-range__textfield","tuiValueAccessor","",1,"t-textfield",3,"disabled","invalid","maskito","nativeId","pseudoActive","pseudoFocus","pseudoHover","readOnly","tuiTextfieldFiller","tuiTextfieldIcon","value","valueChange"],["ngProjectAs","tuiContent","class","t-value",5,["tuiContent"],4,"ngIf"],["ngProjectAs","tuiContent",5,["tuiContent"],1,"t-value"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],["appearance","icon","automation-id","tui-input-date-range__icon","tuiWrapper","",3,"t-icon","src","click",4,"polymorpheusOutlet","polymorpheusOutletContext"],["appearance","icon","automation-id","tui-input-date-range__icon","tuiWrapper","",3,"src","click"],[3,"defaultViewedMonth","disabledItemHandler","items","markerHandler","max","maxLength","min","minLength","value","valueChange"]],template:function(t,i){if(1&t&&(e.kPM(N),e.I0R(0,"tui-hosted-dropdown",0),e.qCj("openChange",function(l){return i.onOpenChange(l)})("tuiActiveZoneChange",function(l){return i.onActiveZone(l)}),e.yuY(1,z,4,12,"tui-primitive-textfield",1),e.wVc(2,"async"),e.yuY(3,Q,1,4,"ng-template",null,2,e.gJz)(5,Z,1,9,"ng-template",null,3,e.gJz),e.C$Y()),2&t){const o=e.Gew(6);e.E7m("canOpen",i.canOpen)("content",o)("open",i.open&&i.canOpen),e.yG2(),e.E7m("tuiLet",e.kDX(2,4,i.dateFiller$))}},dependencies:[M.Qw,r.y_,D.Wu,T.W,v.M,C.ew,r.KQ,x.a,P.sD,d.Gk,d.uU,h.u_,m.Af,I.S,h.a],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:left}._disabled[_nghost-%COMP%]{pointer-events:none}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}.t-icon[_ngcontent-%COMP%]{pointer-events:auto}.t-value[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center}"],changeDetection:0}),(0,A.UN)([W.w7],n.prototype,"calculateMask",null),n})(),w=(()=>{class n extends k.Cm{get value(){return this.host.computedValue}onValueChange(t){this.host.onValueChange(t)}process(t){t.inputMode="numeric"}ngDoCheck(){this.host.nativeFocusableElement&&(this.host.nativeFocusableElement.placeholder=this.host.computedExampleText)}}return n.\u0275fac=(()=>{let u;return function(i){return(u||(u=e.otF(n)))(i||n)}})(),n.\u0275dir=e.Sc5({type:n,selectors:[["tui-input-date-range"]],features:[e.M5G([(0,S.iu)(n)]),e.eg9]}),n})(),q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.a4G({type:n}),n.\u0275inj=e.s3X({imports:[[h.MD,P.S,v.L,C.kR,m.Ux,I.g,r.KA,d.aS,M.GE,D.Yt,T.N,x.i]]}),n})()}}]);