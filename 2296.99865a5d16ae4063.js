(self.webpackChunklpda2=self.webpackChunklpda2||[]).push([[2296],{9064:(P,I,o)=>{"use strict";o.d(I,{w:()=>f});var e=o(4496),x=o(6504),T=o(3480),u=o(6700),g=o(3616),m=o(6684),v=o(3797),d=o(8588),h=o(1368),M=o(9956),y=o(1292);function F(_,l){if(1&_&&(e.I0R(0,"tui-textarea",2),e.OEk(1),e.C$Y()),2&_){const s=e.GaO().$implicit,p=e.GaO();e.E7m("formControl",s.control),e.yG2(),e.oRS(" ",p.getFullLang(s.lang)," ")}}function C(_,l){if(1&_&&(e.I0R(0,"tui-input",2),e.OEk(1),e.C$Y()),2&_){const s=e.GaO().$implicit,p=e.GaO();e.E7m("formControl",s.control),e.yG2(),e.oRS(" ",p.getFullLang(s.lang)," ")}}const b=_=>({"mb-3":_});function S(_,l){if(1&_&&(e.SAx(0),e.I0R(1,"div",1),e.yuY(2,F,2,2,"tui-textarea",2)(3,C,2,2),e.wR5(4,"app-errors",3),e.C$Y(),e.k70()),2&_){const s=l.$implicit,p=l.last,D=e.GaO();e.yG2(),e.E7m("ngClass",e.S45(3,b,!p)),e.yG2(),e.C0Y(2,D.long?2:3),e.yG2(2),e.E7m("errors",s.control.errors)}}const L=["*"];let f=(()=>{class _{constructor(){this.destroy$=new T.UF,this.long=!1,this.controls=(0,e.OCB)({}),this.controlsArr=(0,e.S6b)(()=>{const s=this.controls();return Object.keys(s).map(p=>({lang:p,control:s[p]}))}),this.touched$=new u.g(!1),this.value$=new u.g({})}ngAfterViewInit(){this.addLang("it"),this.addLang("en")}ngOnInit(){}registerOnChange(s){this.value$.pipe((0,g.a)(this.destroy$)).subscribe({next:p=>s(p)})}registerOnTouched(s){this.touched$.pipe((0,m.I)(p=>!0===p)).subscribe({next:()=>s()})}writeValue(s){this.patchValue(s??{}),this.touched$.next(!1)}wasTouched(){this.touched$.next(!0)}getFullLang(s){return y.S[s]??s}controlChanged(s){this.value$.next({...this.value$.value,[s]:this.controls()[s].value})}patchValue(s){Object.keys(s).forEach(p=>this.addLang(p)),Object.keys(this.controls()).forEach(p=>{this.controls()[p].patchValue(s[p]??null)})}addLang(s){if(this.controls()[s])return;const p=new x.Ku;p.valueChanges.subscribe({next:()=>this.controlChanged(s)}),this.controls.set({...this.controls(),[s]:p})}static#e=this.\u0275fac=function(p){return new(p||_)};static#t=this.\u0275cmp=e.In1({type:_,selectors:[["app-i18n-input"]],inputs:{long:"long"},standalone:!0,features:[e.M5G([{provide:x.Y6,useExisting:(0,e.wd)(()=>_),multi:!0},T.UF]),e.UHJ],ngContentSelectors:L,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"ngClass"],[3,"formControl"],[3,"errors"]],template:function(p,D){1&p&&(e.kPM(),e._Xx(0),e.yuY(1,S,5,5,"ng-container",0)),2&p&&(e.yG2(),e.E7m("ngForOf",D.controlsArr()))},dependencies:[x.sl,x.ue,x.ug,v.CQ,v.Oo,v.cP,h.Iw,M.g,h.QF,d.Y3,d.wp,d.kd],changeDetection:0})}return _})()},5424:(P,I,o)=>{"use strict";o.d(I,{c:()=>He});var e=o(4496),x=o(3797),T=o(1316),u=o(6504),g=o(900),m=o(3480),v=o(2528),d=o(3412),h=o(4704),M=o(6684),y=o(7368),F=o(5568),C=o(4e3),b=o(3616);let S=(()=>{class i{constructor({nativeElement:t},n){this.tuiDroppableDropped=(0,g.Ax)(t,"drop").pipe((0,g.uy)(),(0,h.k)(r=>r.dataTransfer),(0,M.I)(v.kF)),this.tuiDroppableDragOverChange=(0,g.Ax)(t,"dragenter").pipe((0,y.G)(({target:r,dataTransfer:c})=>(0,d.U)((0,g.Ax)(t,"dragleave").pipe((0,M.I)(O=>O.target===r)),(0,g.Ax)(t,"drop")).pipe((0,h.k)(()=>null),(0,F.W)(c))),(0,C.a)((r,c)=>!!r&&!!c||!r&&!c)),(0,g.Ax)(t,"dragover").pipe((0,g.uy)(),(0,b.a)(n)).subscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.GI1(e.GMv),e.GI1(m.UF,2))},i.\u0275dir=e.Sc5({type:i,selectors:[["","tuiDroppableDropped",""],["","tuiDroppableDragOverChange",""]],outputs:{tuiDroppableDropped:"tuiDroppableDropped",tuiDroppableDragOverChange:"tuiDroppableDragOverChange"},features:[e.M5G([m.UF])]}),i})(),L=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.a4G({type:i}),i.\u0275inj=e.s3X({}),i})();var f=o(168),_=o(1800),l=o(4164),s=o(4392),p=o(4680),D=o(9392),q=o(6732),ee=o(1096),A=o(832),te=o(1632),ie=o(3905),G=o(1512),z=o(4108),ne=o(3972),B=o(3656),j=o(7692),w=o(8212),K=o(8976),k=o(3012),oe=o(7232);const R=1024,V=1024*R;function Y(i,a){return void 0===a?null:a<R?`${a} ${i[0]}`:a<V?`${(a/R).toFixed(0)} ${i[1]}`:`${(0,oe.Q3)(a/V,2).toLocaleString("ru-RU")} ${i[2]}`}var re=o(6040),N=o(2700),$=o(1368),U=o(1040),se=o(1588),le=o(1200),ue=o(9880);(0,v.AL)({formatSize:Y,icons:{normal:({$implicit:i})=>"l"===i?"tuiIconFileLarge":"tuiIconCheckCircleLarge",error:"tuiIconAlertCircleLarge",deleted:"tuiIconTrashLarge"}});let Oe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.a4G({type:i}),i.\u0275inj=e.s3X({imports:[[$.MD,K.Gy,j.Sk,U.Ux,B.Yt,A.I,w.CI,se.s,ue.kh,le.m]]}),i})();const H=["input"],Me=["formatRejection"],Fe=["maxSizeRejection"];function Pe(i,a){1&i&&e.C_f(0)}function be(i,a){if(1&i&&(e.SAx(0),e.OEk(1),e.k70()),2&i){const t=a.polymorpheusOutlet;e.yG2(),e.oRS(" ",t," ")}}function $e(i,a){1&i&&e.wR5(0,"span",10),2&i&&e.E7m("textContent",a.polymorpheusOutlet)}function Se(i,a){if(1&i&&(e.I0R(0,"div")(1,"a",7),e.yuY(2,be,2,1,"ng-container",8),e.wVc(3,"async"),e.C$Y(),e.yuY(4,$e,1,1,"span",9),e.wVc(5,"async"),e.C$Y()),2&i){const t=e.GaO();e.yG2(2),e.E7m("polymorpheusOutlet",e.kDX(3,2,t.computedLink$)),e.yG2(2),e.E7m("polymorpheusOutlet",e.kDX(5,4,t.computedLabel$))}}function Le(i,a){if(1&i&&(e.SAx(0),e._Xx(1),e.wR5(2,"input",11,12),e.k70()),2&i){const t=e.GaO();e.yG2(2),e.E7m("accept",t.accept)("id",t.id)("multiple",t.multiple)("tuiFocusable",t.focusable)}}function we(i,a){if(1&i&&(e.OEk(0),e.wVc(1,"async")),2&i){const t=e.GaO();let n;e.oRS(" ",(null==(n=e.kDX(1,1,t.inputFileTexts$))?null:n.formatRejectionReason)||"","\n")}}function ke(i,a){if(1&i&&(e.OEk(0),e.wVc(1,"async"),e.wVc(2,"tuiMaxSizeRejectionError")),2&i){const t=e.GaO();e.oRS(" ",e.kDX(1,1,e.kDX(2,3,t.maxFileSize)),"\n")}}const Re=[[["input"]]],Ue=i=>({$implicit:i}),W=(0,v.AL)({capture:null,accepts:"",multiple:!1,size:"m",maxFileSize:31457280});let We=(()=>{class i{constructor(t,n,r,c){this.host=t,this.el=n,this.idService=r,this.options=c}get tabIndex(){return this.host.focusable?0:-1}get id(){return this.el.nativeElement.id||this.idService.generate()}get accept(){var t;return null!==(t=this.el.nativeElement.accept)&&void 0!==t?t:this.options.accepts}get multiple(){var t;return null!==(t=this.el.nativeElement.multiple)&&void 0!==t?t:this.options.multiple}get capture(){var t;return null!==(t=this.el.nativeElement.getAttribute("capture"))&&void 0!==t?t:this.options.capture}get input(){return this.el.nativeElement}}return i.\u0275fac=function(t){return new(t||i)(e.GI1((0,e.wd)(()=>Q)),e.GI1(e.GMv),e.GI1(m.y2),e.GI1(W))},i.\u0275dir=e.Sc5({type:i,selectors:[["input","tuiInputFiles",""]],hostAttrs:["type","file",1,"t-native"],hostVars:5,hostBindings:function(t,n){2&t&&(e.SoX("tabIndex",n.tabIndex)("id",n.id)("accept",n.accept)("multiple",n.multiple),e.e48("capture",n.capture))}}),i})(),Ae=(()=>{class i{constructor(t,n){this.inputFileTexts$=t,this.units$=n}transform(t){return(0,re.E)([this.inputFileTexts$,this.units$]).pipe((0,h.k)(([{maxSizeRejectionReason:n},r])=>`${n}${Y(r,t)}`))}}return i.\u0275fac=function(t){return new(t||i)(e.GI1(k.oJ,16),e.GI1(k.wx,16))},i.\u0275pipe=e.UTH({name:"tuiMaxSizeRejectionError",type:i,pure:!0}),i})(),Q=(()=>{class i extends _.GG{constructor(t,n,r,c,O){super(t,n),this.isMobile=r,this.inputFileTexts$=c,this.options=O,this.dataTransfer=null,this.accept=this.options.accepts,this.multiple=this.options.multiple,this.size=this.options.size,this.maxFileSize=this.options.maxFileSize,this.reject=new e._w7}get computedMultiple(){var t,n;return null!==(n=null===(t=this.nativeInput)||void 0===t?void 0:t.multiple)&&void 0!==n?n:this.multiple}get computedAccept(){var t,n;return null!==(n=null===(t=this.nativeInput)||void 0===t?void 0:t.accept)&&void 0!==n?n:this.accept}get nativeFocusableElement(){var t;return(null===(t=this.input)||void 0===t?void 0:t.nativeElement)||null}get focused(){return(0,l.ER)(this.nativeFocusableElement)}get computedPseudoHovered(){var t;return null!==(t=this.pseudoHover)&&void 0!==t?t:this.fileDragged||null}get computedLink$(){return this.computeLink$(this.fileDragged,this.computedMultiple,this.link)}get computedLabel$(){return this.computeLabel$(this.isMobile,this.fileDragged,this.computedMultiple,this.label)}get fileDragged(){var t;return!(null===(t=this.dataTransfer)||void 0===t||!t.types.includes("Files"))}get arrayValue(){return this.getValueArray(this.value)}onFocused(t){this.updateFocused(t)}onFilesSelected(){var t,n,r;const c=null!==(n=null===(t=this.nativeInput)||void 0===t?void 0:t.input)&&void 0!==n?n:null===(r=this.input)||void 0===r?void 0:r.nativeElement;c&&(this.processSelectedFiles(c.files),c.value="")}onDropped(t){this.processSelectedFiles(t.files)}onDragOver(t){this.dataTransfer=t}removeFile(t){this.value=this.computedMultiple?this.arrayValue.filter(n=>n!==t):null}computeLink$(t,n,r){return t?(0,N.of)(""):this.inputFileTexts$.pipe((0,h.k)(c=>n&&!r?c.defaultLinkMultiple:r||c.defaultLinkSingle))}computeLabel$(t,n,r,c){return t?(0,N.of)(""):this.inputFileTexts$.pipe((0,h.k)(n?O=>r?O.dropMultiple:O.drop:O=>r&&!c?O.defaultLabelMultiple:c||O.defaultLabelSingle))}getValueArray(t){return t?Array.isArray(t)?t:[t]:s.kJ}processSelectedFiles(t){if(!t?.length)return;const n={formatRejection:this.formatRejection,maxSizeRejection:this.maxSizeRejection},r=this.computedMultiple?Array.from(t):[t[0]],c=r.filter(E=>E.size>this.maxFileSize),O=r.filter(E=>!this.isFormatAcceptable(E)&&!c.includes(E)),Z=r.filter(E=>!c.includes(E)&&!O.includes(E));(c.length||O.length)&&this.rejectFiles([...c.map(E=>({name:E.name,type:E.type,size:E.size,content:n.maxSizeRejection})),...O.map(E=>({name:E.name,type:E.type,size:E.size,content:n.formatRejection}))]),this.value=this.computedMultiple?[...this.arrayValue,...Z]:Z[0]||null}isFormatAcceptable(t){if(!this.computedAccept)return!0;const n=`.${(t.name.split(".").pop()||"").toLowerCase()}`;return function ae(i){return i.toLowerCase().split(",").map(a=>a.trim())}(this.computedAccept).some(r=>r===n||r===t.type||"*"===r.split("/")[1]&&t.type.split("/")[0]===r.split("/")[0])}rejectFiles(t){this.reject.emit(this.computedMultiple?t:t[0])}}return i.\u0275fac=function(t){return new(t||i)(e.GI1(u.eq,10),e.GI1(e.kD9),e.GI1(p.Mv),e.GI1(k.oJ),e.GI1(W))},i.\u0275cmp=e.In1({type:i,selectors:[["tui-input-files"]],contentQueries:function(t,n,r){if(1&t&&(e.szK(r,We,5),e.szK(r,e.Yw2,5)),2&t){let c;e.wto(c=e.Gqi())&&(n.nativeInput=c.first),e.wto(c=e.Gqi())&&(n.template=c.first)}},viewQuery:function(t,n){if(1&t&&(e.CC$(H,5),e.CC$(Me,5),e.CC$(Fe,5)),2&t){let r;e.wto(r=e.Gqi())&&(n.input=r.first),e.wto(r=e.Gqi())&&(n.formatRejection=r.first),e.wto(r=e.Gqi())&&(n.maxSizeRejection=r.first)}},hostBindings:function(t,n){1&t&&e.qCj("focusin",function(){return n.onFocused(!0)})("focusout",function(){return n.onFocused(!1)})("change",function(){return n.onFilesSelected()})},inputs:{link:"link",label:"label",accept:"accept",multiple:"multiple",size:"size",maxFileSize:"maxFileSize"},outputs:{reject:"reject"},features:[e.M5G([ne.Ir,(0,p.NK)(i)]),e.eg9],ngContentSelectors:H,decls:10,vars:12,consts:[["appearance","input-file","tuiWrapper","",1,"t-wrapper",3,"active","disabled","focus","hover"],["automation-id","tui-input-file__label",1,"t-label",3,"mousedown.prevent.silent","tuiDroppableDragOverChange","tuiDroppableDropped"],[1,"t-description"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],["formatRejection",""],["maxSizeRejection",""],["tuiLink",""],[4,"polymorpheusOutlet"],[3,"textContent",4,"polymorpheusOutlet"],[3,"textContent"],["title","","type","file",1,"t-native",3,"accept","id","multiple","tuiFocusable"],["input",""]],template:function(t,n){1&t&&(e.kPM(Re),e.I0R(0,"div",0)(1,"label",1),e.qCj("mousedown.prevent.silent",function(){return 0})("tuiDroppableDragOverChange",function(c){return n.onDragOver(c)})("tuiDroppableDropped",function(c){return n.onDropped(c)}),e.I0R(2,"div",2),e.yuY(3,Pe,1,0,"ng-container",3)(4,Se,6,6,"div",4),e.C$Y(),e.yuY(5,Le,4,4,"ng-container",4),e.C$Y()(),e.yuY(6,we,2,3,"ng-template",null,5,e.gJz)(8,ke,3,5,"ng-template",null,6,e.gJz)),2&t&&(e.eAK("_mobile",n.isMobile),e.E7m("active",n.pseudoActive)("disabled",n.computedDisabled)("focus",n.computedFocused)("hover",n.pseudoHover||n.fileDragged||null),e.yG2(3),e.E7m("ngTemplateOutlet",n.template||null)("ngTemplateOutletContext",e.S45(10,Ue,n.fileDragged)),e.yG2(),e.E7m("ngIf",!n.template),e.yG2(),e.E7m("ngIf",!n.readOnly&&!n.computedDisabled))},dependencies:[G.C,z.S,S,$.XV,$.u_,U.Af,f.O,$.a,Ae],styles:['tui-input-files{display:block;min-height:var(--tui-height-l);border-radius:var(--tui-radius-m);font:var(--tui-font-text-m)}tui-input-files .t-native{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer}tui-input-files .t-native::-webkit-file-upload-button{display:none}tui-input-files .t-native+.t-native{display:none}tui-input-files .t-label{width:100%;min-height:inherit;text-align:center}tui-input-files .t-description{display:flex;justify-content:center;align-items:center;height:100%;min-height:inherit;padding:1rem 0;box-sizing:border-box}[tuiWrapper][data-appearance=input-file]{background:transparent;word-wrap:break-word;color:var(--tui-text-02);min-height:inherit;border-radius:inherit;padding:0 .5rem;box-sizing:border-box}[tuiWrapper][data-appearance=input-file]:after{border:1px dashed;color:var(--tui-link)}[tuiWrapper][data-appearance=input-file]._mobile:after{border:1px solid}[tuiWrapper][data-appearance=input-file]:disabled:disabled:after,[tuiWrapper][data-appearance=input-file][data-state=disabled][data-state=disabled]:after{color:var(--tui-text-03)}:focus-visible:not([data-focused="false"])>[tuiWrapper][data-appearance=input-file]:after,[data-focused=true]>[tuiWrapper][data-appearance=input-file]:after{border-style:solid;border-width:2px;color:var(--tui-focus)}[tuiWrapper][data-appearance=input-file]:focus-visible:focus-visible:after{border-style:solid;border-width:2px;color:var(--tui-focus)}[tuiWrapper][data-appearance=input-file]._focused._focused:after{border-style:solid;border-width:2px;color:var(--tui-focus)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]{color:var(--tui-text-01-night)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]:after{color:var(--tui-text-01-night)}:focus-visible:not([data-focused="false"])>[tuiWrapper][data-appearance=input-file][data-mode=onDark]:after,[data-focused=true]>[tuiWrapper][data-appearance=input-file][data-mode=onDark]:after{color:var(--tui-text-01-night)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]:focus-visible:focus-visible:after{color:var(--tui-text-01-night)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]._focused._focused:after{color:var(--tui-text-01-night)}@media (hover: hover){[tuiWrapper][data-appearance=input-file][data-mode=onDark]:hover:not(._no-hover),[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=hover]{background:var(--tui-clear-inverse-hover)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]:hover:not(._no-hover):after,[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=hover]:after{color:var(--tui-text-03-night)}}[tuiWrapper][data-appearance=input-file][data-mode=onDark]:active:not(._no-active),[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=active],[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=active]:hover{background:var(--tui-clear-inverse-active)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]:active:not(._no-active):after,[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=active]:after,[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=active]:hover:after{color:var(--tui-text-03-night)}[tuiWrapper][data-appearance=input-file][data-mode=onLight]{color:var(--tui-text-01)}[tuiWrapper][data-appearance=input-file][data-mode=onLight]:after{color:var(--tui-text-01)}@media (hover: hover){[tuiWrapper][data-appearance=input-file][data-mode=onLight]:hover:not(._no-hover),[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=hover]{background:var(--tui-clear-hover)}[tuiWrapper][data-appearance=input-file][data-mode=onLight]:hover:not(._no-hover):after,[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=hover]:after{color:var(--tui-text-03)}}[tuiWrapper][data-appearance=input-file][data-mode=onLight]:active:not(._no-active),[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=active],[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=active]:hover{background:var(--tui-clear-active)}[tuiWrapper][data-appearance=input-file][data-mode=onLight]:active:not(._no-active):after,[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=active]:after,[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=active]:hover:after{color:var(--tui-text-03)}@media (hover: hover){[tuiWrapper][data-appearance=input-file]:hover:not(._no-hover),[tuiWrapper][data-appearance=input-file][data-state=hover]{background:var(--tui-secondary)}[tuiWrapper][data-appearance=input-file]:hover:not(._no-hover):after,[tuiWrapper][data-appearance=input-file][data-state=hover]:after{color:var(--tui-link-hover)}}[tuiWrapper][data-appearance=input-file]:active:not(._no-active),[tuiWrapper][data-appearance=input-file][data-state=active],[tuiWrapper][data-appearance=input-file][data-state=active]:hover{background:var(--tui-secondary-hover)}\n'],encapsulation:2,changeDetection:0}),(0,T.UN)([D.w7],i.prototype,"computeLink$",null),(0,T.UN)([D.w7],i.prototype,"computeLabel$",null),(0,T.UN)([D.w7],i.prototype,"getValueArray",null),i})(),Ge=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.a4G({type:i}),i.\u0275inj=e.s3X({imports:[[$.MD,U.Ux,q.kR,ee.O,A.I,te.u,ie.MZ,f.C,L,z.g,B.Yt,G.w,j.Sk,w.CI,K.Gy,Oe]]}),i})();var J=o(1088),ze=o(1560),Be=o(2264),je=o(7760),Ke=o(9052);function Ve(i,a){if(1&i){const t=e.KQA();e.I0R(0,"div",2)(1,"button",3),e.qCj("click",function(){e.usT(t);const r=e.GaO();return e.CGJ(r.resetControl())}),e.I0R(2,"mat-icon"),e.OEk(3,"delete"),e.C$Y()(),e.wR5(4,"app-show-image",4),e.C$Y()}if(2&i){const t=e.GaO();e.yG2(),e.E7m("disabled",t.control.disabled||t.loading),e.yG2(3),e.E7m("image",t.control.value)}}function Ye(i,a){if(1&i&&e.wR5(0,"tui-input-files",1),2&i){const t=e.GaO();e._6D("accept",t.accept),e.E7m("formControl",t.control)("label",t.label)("link",t.link)}}const Ne=["*"];let He=(()=>{class i{constructor(){this.destroy$=new m.UF,this.imagesService=(0,e.uUt)(je.U),this.control=new u.Ku(null),this.loading=!1,this.link=J.$localize`Scegli un'immagine`,this.label=J.$localize`oppure trascinala qui`,this.accept="image/*"}ngOnInit(){}registerOnChange(t){this.control.valueChanges.pipe((0,b.a)(this.destroy$)).subscribe({next:n=>t(n)})}registerOnTouched(t){this.control.valueChanges.pipe((0,b.a)(this.destroy$)).subscribe({next:()=>t()})}writeValue(t){t instanceof File?this.control.setValue(t):null!=t?t instanceof Be.W&&t.url?this.control.setValue(t,{emitEvent:!1}):console.warn("Invalid value for ImageInputComponent",t):this.control.setValue(null)}resetControl(){this.control.reset()}formatUrlFromFile(t){return URL.createObjectURL(t)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.In1({type:i,selectors:[["app-image-input"]],inputs:{loading:"loading",link:"link",label:"label",accept:"accept"},standalone:!0,features:[e.M5G([{provide:u.Y6,useExisting:(0,e.wd)(()=>i),multi:!0},m.UF]),e.UHJ],ngContentSelectors:Ne,decls:3,vars:2,consts:[["class","block items-center border border-solid rounded-sm border-slate-200 relative my-1 p-2"],[3,"accept","formControl","label","link"],[1,"block","items-center","border","border-solid","rounded-sm","border-slate-200","relative","my-1","p-2"],["size","m","appearance","secondary-destructive","tuiIconButton","","type","button",1,"!absolute","me-1","mt-1","top-0","right-0",3,"disabled","click"],[1,"mx-auto",2,"max-width","300px",3,"image"]],template:function(n,r){1&n&&(e.kPM(),e._Xx(0),e.yuY(1,Ve,5,2,"div",0)(2,Ye,1,4,"tui-input-files",1)),2&n&&(e.yG2(),e.C0Y(1,r.control.value?1:-1),e.yG2(),e.C0Y(2,r.control.value?-1:2))},dependencies:[$.MD,x.CQ,Ge,Q,u.sl,u.ue,u.ug,w.CI,w.Kw,ze.qL,Ke.y],changeDetection:0})}return i})()},9052:(P,I,o)=>{"use strict";o.d(I,{y:()=>d});var e=o(4496),x=o(7760),T=o(6700),u=o(7368),g=o(2700),m=o(1368);function v(h,M){if(1&h&&(e.wR5(0,"img",1),e.wVc(1,"async")),2&h){const y=e.GaO();e.m8U(y.imgClass),e._6D("src",e.kDX(1,5,y.imageSrc$),e.K6U),e.E7m("draggable",!1)}}let d=(()=>{class h{constructor(){this.noImage="/assets/img/no-image.jpg",this.imagesService=(0,e.uUt)(x.U),this.imgClass="block rounded",this.image$=new T.g(null),this.imageSrc$=this.image$.pipe((0,u.G)(y=>y instanceof File?(0,g.of)(URL.createObjectURL(y)):y&&y.id?this.imagesService.downloadUrl(y.id):(0,g.of)(this.noImage)))}set image(y){this.image$.next(y??null)}static#e=this.\u0275fac=function(F){return new(F||h)};static#t=this.\u0275cmp=e.In1({type:h,selectors:[["app-show-image"]],inputs:{imgClass:"imgClass",image:"image"},standalone:!0,features:[e.UHJ],decls:2,vars:3,consts:[[3,"draggable","class","src"],[3,"draggable","src"]],template:function(F,C){1&F&&(e.yuY(0,v,2,7,"img",0),e.wVc(1,"async")),2&F&&e.C0Y(0,e.kDX(1,1,C.imageSrc$)?0:-1)},dependencies:[m.a],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}"],changeDetection:0})}return h})()},1292:(P,I,o)=>{"use strict";o.d(I,{S:()=>e});const e={it:"Italiano",en:"Inglese",es:"Spagnolo",fr:"Francese",de:"Tedesco",pt:"Portoghese",ru:"Russo",zh:"Cinese",ja:"Giapponese",ar:"Arabo",hi:"Hindi",bn:"Bengalese",pa:"Punjabi",ms:"Malese"}},2264:(P,I,o)=>{"use strict";o.d(I,{W:()=>x});var e=o(8400);class x extends e.w{constructor(u){super(u),this.filename=u.filename,this.status=u.status,this.key=u.key,this.original_id=u.original_id,this.tag=u.tag,this.url=u.url}}},7760:(P,I,o)=>{"use strict";o.d(I,{U:()=>u});var e=o(6012),x=o(2264),T=o(4496);let u=(()=>{class g extends e.s{constructor(){super(x.W,"images")}removeFromRecord(v,d){return this.patch(`${v}/remove_from_record`,{record_type:d.record_type,record_id:d.record_id})}updateRecord(v,d){return this.patch("record",{image_ids:d,record_type:v.record_type,record_id:v.record_id})}downloadUrl(v){return this.url(`${v}/download`)}static#e=this.\u0275fac=function(d){return new(d||g)};static#t=this.\u0275prov=T.wxM({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},1588:(P,I,o)=>{"use strict";o.d(I,{S:()=>x,s:()=>T});var e=o(4496);let x=(()=>{class u{}return u.\u0275fac=function(m){return new(m||u)},u.\u0275dir=e.Sc5({type:u,selectors:[["","tuiItem",""]]}),u})(),T=(()=>{class u{}return u.\u0275fac=function(m){return new(m||u)},u.\u0275mod=e.a4G({type:u}),u.\u0275inj=e.s3X({}),u})()},1632:(P,I,o)=>{"use strict";o.d(I,{k:()=>u,u:()=>g});var e=o(4496),x=o(900),T=o(4680);let u=(()=>{class m{constructor(d,h){this.el=d,this.takeOnlyTrustedEvents=h,this.tuiPressedChange=(0,x.Y7)(this.el.nativeElement,{onlyTrusted:this.takeOnlyTrustedEvents})}}return m.\u0275fac=function(d){return new(d||m)(e.GI1(e.GMv),e.GI1(T.mm))},m.\u0275dir=e.Sc5({type:m,selectors:[["","tuiPressedChange",""]],outputs:{tuiPressedChange:"tuiPressedChange"}}),m})(),g=(()=>{class m{}return m.\u0275fac=function(d){return new(d||m)},m.\u0275mod=e.a4G({type:m}),m.\u0275inj=e.s3X({}),m})()},1200:(P,I,o)=>{"use strict";o.d(I,{A:()=>m,m:()=>v});var e=o(4496),x=o(900),T=o(3480),u=o(800),g=o(3616);let m=(()=>{class d{constructor(M,y,F){this.el=M,this.zone=y,this.destroy$=F,this.eventName=""}ngOnInit(){(0,u.w)(this.el.nativeElement,this.eventName,{passive:!1}).pipe((0,x.Uv)(this.zone),(0,x.uy)(),(0,g.a)(this.destroy$)).subscribe()}}return d.\u0275fac=function(M){return new(M||d)(e.GI1(e.GMv),e.GI1(e.WW2),e.GI1(T.UF,2))},d.\u0275dir=e.Sc5({type:d,selectors:[["","tuiPreventDefault",""]],inputs:{eventName:[e.Wk5.None,"tuiPreventDefault","eventName"]},features:[e.M5G([T.UF])]}),d})(),v=(()=>{class d{}return d.\u0275fac=function(M){return new(M||d)},d.\u0275mod=e.a4G({type:d}),d.\u0275inj=e.s3X({}),d})()},9880:(P,I,o)=>{"use strict";o.d(I,{kP:()=>F,kh:()=>L,st:()=>S});var e=o(4496),x=o(3480),T=o(4392),u=o(3120),g=o(3616),m=o(7692),v=o(1368);const d=["wrapper"];function h(f,_){if(1&f&&(e.I0R(0,"tui-loader",4),e.C_f(1,5),e.C$Y()),2&f){const l=e.GaO(2);e.E7m("overlay",!0)("showLoader",l.loading),e.yG2(),e.E7m("ngTemplateOutlet",l.content)}}function M(f,_){if(1&f&&(e.SAx(0),e._Xx(1),e.yuY(2,h,2,3,"tui-loader",3),e.k70()),2&f){const l=e.GaO();e.yG2(2),e.E7m("ngIf",l.async)("ngIfElse",l.content)}}const y=["*"];let F=(()=>{class f{}return f.\u0275fac=function(l){return new(l||f)},f.\u0275dir=e.Sc5({type:f,selectors:[["","tuiExpandContent",""]]}),f})();let S=(()=>{class f{constructor(l,s){this.cdr=l,this.destroy$=s,this.state=0,this.async=!1,this.content=null,this.expanded=null}set expandedSetter(l){if(null!==this.expanded)return 0!==this.state?(this.expanded=l,void(this.state=3)):(this.expanded=l,void this.retrigger(this.async&&l?1:3));this.expanded=l}get overflow(){return 0!==this.state}get loading(){return!!this.expanded&&this.async&&1===this.state}get height(){const{expanded:l,state:s,contentWrapper:p}=this;return l&&2===s||!l&&3===s?0:p&&(!l&&2===s||l&&3===s)?p.nativeElement.offsetHeight:p&&l&&1===s?Math.max(p.nativeElement.offsetHeight,48):null}get contentVisible(){return this.expanded||0!==this.state}onTransitionEnd({propertyName:l}){"opacity"===l&&3===this.state&&(this.state=0)}onExpandLoaded(l){l.stopPropagation(),1===this.state&&this.retrigger(3)}retrigger(l){this.state=2,(0,u.k)(0).pipe((0,g.a)(this.destroy$)).subscribe(()=>{2===this.state&&(this.state=l,this.cdr.markForCheck())})}}return f.\u0275fac=function(l){return new(l||f)(e.GI1(e.kD9),e.GI1(x.UF,2))},f.\u0275cmp=e.In1({type:f,selectors:[["tui-expand"]],contentQueries:function(l,s,p){if(1&l&&e.szK(p,F,5,e.Yw2),2&l){let D;e.wto(D=e.Gqi())&&(s.content=D.first)}},viewQuery:function(l,s){if(1&l&&e.CC$(d,5),2&l){let p;e.wto(p=e.Gqi())&&(s.contentWrapper=p.first)}},hostVars:9,hostBindings:function(l,s){1&l&&e.qCj("transitionend.self",function(D){return s.onTransitionEnd(D)})("tui-expand-loaded",function(D){return s.onExpandLoaded(D)}),2&l&&(e.e48("aria-expanded",s.expanded),e.m4B("height",s.height,"px"),e.eAK("_expanded",s.expanded)("_overflow",s.overflow)("_loading",s.loading))},inputs:{async:"async",expandedSetter:[e.Wk5.None,"expanded","expandedSetter"]},features:[e.M5G([x.UF])],ngContentSelectors:y,decls:3,vars:3,consts:[[1,"t-wrapper"],["wrapper",""],[4,"ngIf"],["size","l",3,"overlay","showLoader",4,"ngIf","ngIfElse"],["size","l",3,"overlay","showLoader"],[3,"ngTemplateOutlet"]],template:function(l,s){1&l&&(e.kPM(),e.I0R(0,"div",0,1),e.yuY(2,M,3,2,"ng-container",2),e.C$Y()),2&l&&(e.E7m("@tuiParentAnimation",void 0)("@.disabled",s.overflow),e.yG2(2),e.E7m("ngIf",s.contentVisible))},dependencies:[m.Cb,v.u_,v.XV],styles:['[_nghost-%COMP%]{transition-property:opacity,height,visibility;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:block;opacity:0;transition-delay:1ms}._overflow[_nghost-%COMP%]{overflow:hidden}._expanded[_nghost-%COMP%]{opacity:1;transform:translate(0)}._loading[_nghost-%COMP%]{opacity:.99}.t-wrapper[_ngcontent-%COMP%]:before, .t-wrapper[_ngcontent-%COMP%]:after{content:"";display:table}'],data:{animation:[T.cI]},changeDetection:0}),f})(),L=(()=>{class f{}return f.\u0275fac=function(l){return new(l||f)},f.\u0275mod=e.a4G({type:f}),f.\u0275inj=e.s3X({imports:[[v.MD,m.Sk]]}),f})()},1088:()=>{}}]);